<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Humanise UI Source: ui.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Humanise UI</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="hui.html">hui</a></li><li><a href="hui.animation.html">hui.animation</a></li><li><a href="hui.array.html">hui.array</a></li><li><a href="hui.browser.html">hui.browser</a></li><li><a href="hui.cls.html">hui.cls</a></li><li><a href="hui.cookie.html">hui.cookie</a></li><li><a href="hui.dom.html">hui.dom</a></li><li><a href="hui.drag.html">hui.drag</a></li><li><a href="hui.ease.html">hui.ease</a></li><li><a href="hui.effect.html">hui.effect</a></li><li><a href="hui.form.html">hui.form</a></li><li><a href="hui.frame.html">hui.frame</a></li><li><a href="hui.location.html">hui.location</a></li><li><a href="hui.position.html">hui.position</a></li><li><a href="hui.selection.html">hui.selection</a></li><li><a href="hui.string.html">hui.string</a></li><li><a href="hui.style.html">hui.style</a></li><li><a href="hui.test.html">hui.test</a></li><li><a href="hui.ui.html">hui.ui</a></li><li><a href="hui.ui.Flash.html">hui.ui.Flash</a></li><li><a href="hui.ui.Graph.D3.html">hui.ui.Graph.D3</a></li><li><a href="hui.ui.MarkupEditor.MSIE.html">hui.ui.MarkupEditor.MSIE</a></li><li><a href="hui.ui.MarkupEditor.util.html">hui.ui.MarkupEditor.util</a></li><li><a href="hui.ui.MarkupEditor.webkit.html">hui.ui.MarkupEditor.webkit</a></li><li><a href="hui.window.html">hui.window</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="hui.animation.Item.html">hui.animation.Item</a></li><li><a href="hui.animation.Loop.html">hui.animation.Loop</a></li><li><a href="hui.Color.html">hui.Color</a></li><li><a href="hui.Event.html">hui.Event</a></li><li><a href="hui.Preloader.html">hui.Preloader</a></li><li><a href="hui.ui.Alert.html">hui.ui.Alert</a></li><li><a href="hui.ui.Bar.html">hui.ui.Bar</a></li><li><a href="hui.ui.Bar.Button.html">hui.ui.Bar.Button</a></li><li><a href="hui.ui.Bar.Text.html">hui.ui.Bar.Text</a></li><li><a href="hui.ui.BoundPanel.html">hui.ui.BoundPanel</a></li><li><a href="hui.ui.Box.html">hui.ui.Box</a></li><li><a href="hui.ui.Button.html">hui.ui.Button</a></li><li><a href="hui.ui.Buttons.html">hui.ui.Buttons</a></li><li><a href="hui.ui.Calendar.html">hui.ui.Calendar</a></li><li><a href="hui.ui.Chart.html">hui.ui.Chart</a></li><li><a href="hui.ui.Checkbox.html">hui.ui.Checkbox</a></li><li><a href="hui.ui.Checkboxes.html">hui.ui.Checkboxes</a></li><li><a href="hui.ui.Checkboxes.Items.html">hui.ui.Checkboxes.Items</a></li><li><a href="hui.ui.Clipboard.html">hui.ui.Clipboard</a></li><li><a href="hui.ui.CodeInput.html">hui.ui.CodeInput</a></li><li><a href="hui.ui.ColorInput.html">hui.ui.ColorInput</a></li><li><a href="hui.ui.ColorPicker.html">hui.ui.ColorPicker</a></li><li><a href="hui.ui.Columns.html">hui.ui.Columns</a></li><li><a href="hui.ui.Component.html">hui.ui.Component</a></li><li><a href="hui.ui.DatePicker.html">hui.ui.DatePicker</a></li><li><a href="hui.ui.DateTimeInput.html">hui.ui.DateTimeInput</a></li><li><a href="hui.ui.Diagram.html">hui.ui.Diagram</a></li><li><a href="hui.ui.Diagram.Box.html">hui.ui.Diagram.Box</a></li><li><a href="hui.ui.Diagram.Icon.html">hui.ui.Diagram.Icon</a></li><li><a href="hui.ui.Dock.html">hui.ui.Dock</a></li><li><a href="hui.ui.Drawing.html">hui.ui.Drawing</a></li><li><a href="hui.ui.DropDown.html">hui.ui.DropDown</a></li><li><a href="hui.ui.Editable.html">hui.ui.Editable</a></li><li><a href="hui.ui.Editor.html">hui.ui.Editor</a></li><li><a href="hui.ui.Editor.Header.html">hui.ui.Editor.Header</a></li><li><a href="hui.ui.Editor.Html.html">hui.ui.Editor.Html</a></li><li><a href="hui.ui.Emotion.html">hui.ui.Emotion</a></li><li><a href="hui.ui.Finder.html">hui.ui.Finder</a></li><li><a href="hui.ui.FontInput.html">hui.ui.FontInput</a></li><li><a href="hui.ui.FontPicker.html">hui.ui.FontPicker</a></li><li><a href="hui.ui.Form.html">hui.ui.Form</a></li><li><a href="hui.ui.Form.Field.html">hui.ui.Form.Field</a></li><li><a href="hui.ui.Form.Group.html">hui.ui.Form.Group</a></li><li><a href="hui.ui.Foundation.html">hui.ui.Foundation</a></li><li><a href="hui.ui.Fragment.html">hui.ui.Fragment</a></li><li><a href="hui.ui.Gallery.html">hui.ui.Gallery</a></li><li><a href="hui.ui.Graph.html">hui.ui.Graph</a></li><li><a href="hui.ui.Icon.html">hui.ui.Icon</a></li><li><a href="hui.ui.IFrame.html">hui.ui.IFrame</a></li><li><a href="hui.ui.ImageInput.html">hui.ui.ImageInput</a></li><li><a href="hui.ui.ImageViewer.html">hui.ui.ImageViewer</a></li><li><a href="hui.ui.InfoView.html">hui.ui.InfoView</a></li><li><a href="hui.ui.Input.html">hui.ui.Input</a></li><li><a href="hui.ui.Layout.html">hui.ui.Layout</a></li><li><a href="hui.ui.Link.html">hui.ui.Link</a></li><li><a href="hui.ui.LinkInput.html">hui.ui.LinkInput</a></li><li><a href="hui.ui.Links.html">hui.ui.Links</a></li><li><a href="hui.ui.List.html">hui.ui.List</a></li><li><a href="hui.ui.LocationInput.html">hui.ui.LocationInput</a></li><li><a href="hui.ui.LocationPicker.html">hui.ui.LocationPicker</a></li><li><a href="hui.ui.MarkupEditor.html">hui.ui.MarkupEditor</a></li><li><a href="hui.ui.MediaSimulator.html">hui.ui.MediaSimulator</a></li><li><a href="hui.ui.Menu.html">hui.ui.Menu</a></li><li><a href="hui.ui.ModelEditor.html">hui.ui.ModelEditor</a></li><li><a href="hui.ui.NumberInput.html">hui.ui.NumberInput</a></li><li><a href="hui.ui.NumberValidator.html">hui.ui.NumberValidator</a></li><li><a href="hui.ui.ObjectInput.html">hui.ui.ObjectInput</a></li><li><a href="hui.ui.ObjectList.html">hui.ui.ObjectList</a></li><li><a href="hui.ui.ObjectList.Object.html">hui.ui.ObjectList.Object</a></li><li><a href="hui.ui.Overflow.html">hui.ui.Overflow</a></li><li><a href="hui.ui.Overlay.html">hui.ui.Overlay</a></li><li><a href="hui.ui.Pages.html">hui.ui.Pages</a></li><li><a href="hui.ui.Panel.html">hui.ui.Panel</a></li><li><a href="hui.ui.Picker.html">hui.ui.Picker</a></li><li><a href="hui.ui.Presentation.html">hui.ui.Presentation</a></li><li><a href="hui.ui.ProgressBar.html">hui.ui.ProgressBar</a></li><li><a href="hui.ui.ProgressIndicator.html">hui.ui.ProgressIndicator</a></li><li><a href="hui.ui.Radiobuttons.html">hui.ui.Radiobuttons</a></li><li><a href="hui.ui.Rendering.html">hui.ui.Rendering</a></li><li><a href="hui.ui.RevealingToolbar.html">hui.ui.RevealingToolbar</a></li><li><a href="hui.ui.Rows.html">hui.ui.Rows</a></li><li><a href="hui.ui.SearchField.html">hui.ui.SearchField</a></li><li><a href="hui.ui.Segmented.html">hui.ui.Segmented</a></li><li><a href="hui.ui.Selection.html">hui.ui.Selection</a></li><li><a href="hui.ui.Selection.Items.html">hui.ui.Selection.Items</a></li><li><a href="hui.ui.Slider.html">hui.ui.Slider</a></li><li><a href="hui.ui.Source.html">hui.ui.Source</a></li><li><a href="hui.ui.Split.html">hui.ui.Split</a></li><li><a href="hui.ui.Structure.html">hui.ui.Structure</a></li><li><a href="hui.ui.StyleEditor.html">hui.ui.StyleEditor</a></li><li><a href="hui.ui.StyleLength.html">hui.ui.StyleLength</a></li><li><a href="hui.ui.Tab.html">hui.ui.Tab</a></li><li><a href="hui.ui.Tabs.html">hui.ui.Tabs</a></li><li><a href="hui.ui.TextInput.html">hui.ui.TextInput</a></li><li><a href="hui.ui.Tiles.html">hui.ui.Tiles</a></li><li><a href="hui.ui.TimeLine.html">hui.ui.TimeLine</a></li><li><a href="hui.ui.TokenField.html">hui.ui.TokenField</a></li><li><a href="hui.ui.Toolbar.html">hui.ui.Toolbar</a></li><li><a href="hui.ui.Toolbar.Icon.html">hui.ui.Toolbar.Icon</a></li><li><a href="hui.ui.Toolbar.More.html">hui.ui.Toolbar.More</a></li><li><a href="hui.ui.Upload.html">hui.ui.Upload</a></li><li><a href="hui.ui.Upload.Frame.html">hui.ui.Upload.Frame</a></li><li><a href="hui.ui.Upload.HTML5.html">hui.ui.Upload.HTML5</a></li><li><a href="hui.ui.Upload.Item.html">hui.ui.Upload.Item</a></li><li><a href="hui.ui.VideoPlayer.html">hui.ui.VideoPlayer</a></li><li><a href="hui.ui.Window.html">hui.ui.Window</a></li><li><a href="hui.ui.Wizard.html">hui.ui.Wizard</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			

		<h1 class="page-title">Source: ui.js</h1>
    
<section>
    <article>
        <pre
            class="sunlight-highlight-javascript linenums">hui = window.hui || {};

/**
  The namespace of the HUI framework
  @namespace
 */
hui.ui = hui.ui || {};

hui.ui.domReady = false;
hui.ui.context = undefined;
hui.ui.language = undefined;

hui.ui.objects = {};
hui.ui.delegates = [];

hui.ui.state = 'default';

hui.ui.latestObjectIndex = 0;
hui.ui.latestIndex = 500;
hui.ui.latestPanelIndex = 1000;
hui.ui.latestAlertIndex = 1500;
hui.ui.latestTopIndex = 2000;
hui.ui.toolTips = {};
hui.ui.confirmOverlays = {};

hui.ui.delayedUntilReady = [];

hui.ui.texts = {
  request_error : {en:'An error occurred on the server',da:'Der skete en fejl på serveren'},
  'continue' : {en:'Continue',da:'Fortsæt'},
  reload_page : {en:'Reload page',da:'Indæs siden igen'},
  access_denied : {en:'Access denied, maybe you are nolonger logged in',da:'Adgang nægtet, du er måske ikke længere logget ind'}
};

hui.ui.getContext = function() {
  if (this.context===undefined) {
    var node = hui.find('*[data-hui-context]');
    if (node) {
      this.context = node.getAttribute('data-hui-context');
    } else {
      this.context = '/';
    }
  }
  return this.context;
};

hui.ui.getURL = function(path) {
  var ctx = hui.ui.getContext();
  if (path.substring(0,1) === '/') {
    path = path.substring(1);
  }
  if (ctx.substring(ctx.length - 1) === '/') {
    ctx = ctx.substring(0, ctx.length - 1);
  }
  return ctx + '/hui/' + path;
};

/**
 * Get a component by name
 * @param nameOrComponent {hui.ui.Component | String} Get a component by name, if the parameter is already a component it is returned
 * @return {hui.ui.Component} The component with the name or undefined
 */
hui.ui.get = function(nameOrComponent) {
  if (nameOrComponent) {
    if (nameOrComponent.element) {
      return nameOrComponent;
    }
    return hui.ui.objects[nameOrComponent];
  }
};

hui.ui.is = function(component, constructor) {
  return constructor.prototype.isPrototypeOf(component);
};

/**
 * Called when the DOM is ready and hui.ui is ready
 */
hui.ui.onReady = function(func) {
  if (hui.ui.domReady) {return func();}
  if (hui.browser.gecko &amp;&amp; hui.string.endsWith(document.baseURI,'xml')) {
    window.setTimeout(func,1000);
    return;
  }
  hui.ui.delayedUntilReady.push(func);
};

hui.ui._frameLoaded = function(win) {
  hui.ui.tellGlobalListeners(this,'frameLoaded',win);
};

/** @private */
hui.ui._resize = function() {
  hui.ui.reLayout();
  window.clearTimeout(this._delayedResize);
  if (!hui.ui._resizeFirst) {
    this._delayedResize = window.setTimeout(hui.ui._afterResize,500);
  }
};

hui.ui._afterResize = function() {
  hui.onDraw(function() {
    hui.ui.tellGlobalListeners(hui.ui,'$afterResize');
    for (var key in hui.ui.objects) {
      var component = hui.ui.objects[key];
      if (component.$$draw) {
        component.$$draw();
      }
    }
  });
};

/**
 * Show a confirming overlay
 * &lt;pre>&lt;strong>options:&lt;/strong> {
 *  element : Element, // the element to show at
 *  widget : Widget, // the widget to show at
 *  text : String, // the text message
 *  okText : String, // text of OK button
 *  cancelText String, // text of cancel button
 *  $ok: Function, // called when user clicks the OK button
 *  $cancel: Function // called when user clicks the Cancel button
 * }
 * &lt;/pre>
 * @param options {Object} The options
 */
hui.ui.confirmOverlay = function(options) {
  var node = options.element,
    overlay;
  if (!node) {
    node = document.body;
  }
  if (options.widget) {
    node = options.widget.getElement();
  }
  if (hui.ui.confirmOverlays[node]) {
    overlay = hui.ui.confirmOverlays[node];
    overlay.clear();
  } else {
    overlay = hui.ui.Overlay.create({modal:true});
    hui.ui.confirmOverlays[node] = overlay;
  }
  if (options.text) {
    overlay.addText(hui.ui.getTranslated(options.text));
  }
  var ok = hui.ui.Button.create({text:hui.ui.getTranslated(options.okText) || 'OK',highlighted:'true'});
  ok.click(function() {
    if (options.onOk) {
      options.onOk();
    }
    else if (options.$ok) {
      options.$ok();
    }
    overlay.hide();
  });
  overlay.add(ok);
  var cancel = hui.ui.Button.create({text:hui.ui.getTranslated(options.cancelText) || 'Cancel'});
  cancel.onClick(function() {
    if (options.onCancel) {
      options.onCancel();
    }
    else if (options.$cancel) {
      options.$cancel();
    }
    overlay.hide();
  });
  overlay.add(cancel);
  overlay.show({element:node});
};

/**
 * Unregisters a widget
 * @param widget {Widget} The widget to destroy
 */
hui.ui.destroy = function(widget) {
  if (widget.getAccessories) {
    var accessories = widget.getAccessories();
    for (var i = 0; i &lt; accessories.length; i++) {
      hui.ui.destroy(accessories[i]);
    }
  }
  delete(hui.ui.objects[widget.name]);
  widget.detach();
  var element = widget.getElement();
  if (element) {
    hui.dom.remove(element);
    hui.ui.destroyDescendants(element);
  }
};

hui.ui.destroyDescendants = function(widgetOrElement) {
  var desc = hui.ui.getDescendants(widgetOrElement);
  for (var i=0; i &lt; desc.length; i++) {
    hui.ui.destroy(desc[i]);
  }
};

hui.ui.remove = function(widget) {
  hui.ui.destroy(widget);
  hui.ui.destroyDescendants(widget);
  if (widget.element) {
    hui.dom.remove(widget.element);
  }
};

/** Gets all ancestors of a widget
  @param {Widget} widget A widget
  @returns {Array} An array of all ancestors
*/
hui.ui.getAncestors = function(widget) {
  var ancestors = [];
  var element = widget.element;
  if (element) {
    var parent = element.parentNode;
    while (parent) {
      for (var key in hui.ui.objects) {
        widget = hui.ui.objects[key];
        if (widget.element === parent) {
          ancestors.push(widget);
        }
      }
      parent = parent.parentNode;
    }
  }
  return ancestors;
};

hui.ui.getDescendants = function(widgetOrElement) {
  var desc = [];
  if (widgetOrElement) {
    var e = widgetOrElement.getElement ? widgetOrElement.getElement() : widgetOrElement;
    if (e) {
      var d = e.getElementsByTagName('*');
      var o = [];
      for (var key in hui.ui.objects) {
        o.push(hui.ui.objects[key]);
      }
      for (var i=0; i &lt; d.length; i++) {
        for (var j=0; j &lt; o.length; j++) {
          if (d[i]==o[j].element) {
            desc.push(o[j]);
          }
        }
      }
    }
  }
  return desc;
};

hui.ui.getAncestor = function(widget,cls) {
  var a = hui.ui.getAncestors(widget);
  for (var i=0; i &lt; a.length; i++) {
    if (hui.cls.has(a[i].getElement(),cls)) {
      return a[i];
    }
  }
  return null;
};

hui.ui.getComponents = function(predicate) {
  var comps = [];
  var o = hui.ui.objects;
  for (var key in o) {
    if (predicate(o[key])) {
      comps.push(o[key]);
    }
  }
  return comps;
};


hui.ui.changeState = function(state) {
  if (hui.ui.state===state) {return;}
  var all = hui.ui.objects,
    key,obj;
  for (key in all) {
    obj = all[key];
    if (obj.options &amp;&amp; obj.options.state) {
      if (obj.options.state==state) {
        obj.show();
      } else {
        obj.hide();
      }
    }
  }
  hui.ui.state=state;

  this.reLayout();
};

hui.ui.reLayout = function() {
  var widgets = hui.ui.getDescendants(document.body);
  for (var i=0; i &lt; widgets.length; i++) {
    var obj = widgets[i];
    if (obj.$$layout) {
      obj.$$layout();
    }
  }
};



///////////////////////////////// Indexes /////////////////////////////

hui.ui.nextPanelIndex = function() {
  hui.ui.latestPanelIndex++;
  return hui.ui.latestPanelIndex;
};

hui.ui.nextAlertIndex = function() {
  hui.ui.latestAlertIndex++;
  return hui.ui.latestAlertIndex;
};

hui.ui.nextTopIndex = function() {
  hui.ui.latestTopIndex++;
  return hui.ui.latestTopIndex;
};



///////////////////////////////// Curtain /////////////////////////////

/**
 * Shows a "curtain" behind an element
 * #param options { widget: Widget, color: String, zIndex: Number }
 */
hui.ui.showCurtain = function(options) {
  var widget = options.widget;
  if (!widget.curtain) {
    widget.curtain = hui.build('div',{style:'position:fixed;top:0;left:0;bottom:0;right:0'});
    var body = hui.find('.hui_body', document.body) || document.body;

    body.appendChild(widget.curtain);
    hui.listen(widget.curtain,'click',function() {
      if (widget.$curtainWasClicked) {
        widget.$curtainWasClicked();
      }
    });
  }
  var curtain = widget.curtain;
  var color = options.color || '#000';
  if (options.transparent) {
    color = 'none';
  }
  else if (options.color == 'auto') {
    color = hui.style.get(document.body,'background-color');
    if (color=='transparent' || color=='rgba(0, 0, 0, 0)') {
      color='#fff';
    }
  }
  curtain.style.backgroundColor = color;
  curtain.style.zIndex = options.zIndex;
  if (options.transparent) {
    curtain.style.display = 'block';
  } else {
    hui.style.setOpacity(curtain,0);
    curtain.style.display = 'block';
    hui.animate(curtain,'opacity',0.7,1000,{ease:hui.ease.slowFastSlow});
  }
};

hui.ui.hideCurtain = function(widget) {
  if (widget.curtain) {
    hui.animate(widget.curtain,'opacity',0,200,{hideOnComplete:true});
  }
};



///////////////////////////// Localization ////////////////////////////

/**
 * Get a localized text, defaults to english or the key
 * @param {String} key The key of the text
 * @returns {String} The localized string
 */
hui.ui.getText = function(key) {
  var parts = this.texts[key];
  if (!parts) {return key;}
  if (parts[this.language]) {
    return parts[this.language];
  } else {
    return parts.en;
  }
};

hui.ui.getTranslated = function(value) {
  if (!hui.isDefined(value) || hui.isString(value) || typeof(value) == 'number') {
    return value;
  }
  var lang = hui.ui.getLanguage();
  if (value[lang]) {
    return value[lang];
  }
  if (value[null]) {
    return value[null];
  }
  for (var key in value) {
    return value[key];
  }
};

hui.ui.getLanguage = function() {
  if (hui.ui.language) {
    return hui.ui.language;
  }
  return (document.documentElement &amp;&amp; document.documentElement.lang) || 'en';
};


//////////////////////////////// Message //////////////////////////////

hui.ui.confirm = function(options) {
  hui.ui.Alert.confirm(options);
};

hui.ui.alert = function(options) {
  hui.ui.Alert.alert(options);
};

hui.ui.showMessage = function(options) {
  if (typeof(options)=='string') {
    // TODO: Backwards compatibility
    options={text:options};
  }
  window.clearTimeout(hui.ui.messageDelayTimer);
  if (options.delay) {
    hui.ui.messageDelayTimer = window.setTimeout(function() {
      options.delay = null;
      hui.ui.showMessage(options);
    },options.delay);
    return;
  }
  if (!hui.ui.message) {
    hui.ui.message = hui.build('div.hui_message', {parent: document.body, style: {opacity: 0}});
  }
  var text = hui.ui.getTranslated(options.text) || '';
  hui.cls.set(hui.ui.message, 'hui-is-busy', options.busy);
  hui.cls.set(hui.ui.message, 'hui-is-success', options.success);
  hui.cls.set(hui.ui.message, 'hui-is-failure', options.failure);
  hui.dom.setText(hui.ui.message, text);
  hui.ui.message.style.width = '';
  hui.ui.message.style.left = '0';
  hui.ui.message.style.display = 'block';
  var w = hui.ui.message.offsetWidth;
  hui.ui.message.style.left = '50%';
  if (w > hui.window.getViewWidth()) {
    hui.ui.message.style.width = '80%';
    hui.ui.message.style.marginLeft = '-40%';
  } else {
    hui.ui.message.style.marginLeft = (hui.ui.message.offsetWidth / -2) + 'px';
  }
  hui.ui.message.style.marginTop = (hui.ui.message.offsetHeight / -2) + 'px';
  hui.ui.message.style.zIndex = hui.ui.nextTopIndex();
  if (hui.browser.opacity) {
    hui.animate(hui.ui.message, 'opacity', 1, 300);
  }
  window.clearTimeout(hui.ui.messageTimer);
  if (options.duration) {
    hui.ui.messageTimer = window.setTimeout(hui.ui.hideMessage,options.duration);
  }
};

hui.ui.msg = hui.ui.showMessage;

hui.ui.msg.success = function(options) {
  options = hui.override({success: true,duration:2000},options);
  hui.ui.msg(options);
};

hui.ui.msg.fail = function(options) {
  options = hui.override({failure:true,duration:3000},options);
  hui.ui.msg(options);
};

hui.ui.hideMessage = function() {
  window.clearTimeout(hui.ui.messageDelayTimer);
  if (hui.ui.message) {
    if (hui.browser.opacity) {
      hui.animate(hui.ui.message,'opacity',0,300,{hideOnComplete:true});
    } else {
      hui.ui.message.style.display='none';
    }
  }
};

hui.ui.showToolTip = function(options) {
  var key = options.key || 'common';
  var t = hui.ui.toolTips[key];
  if (!t) {
    t = hui.build('div',{'class':'hui_tooltip',style:'display:none;',html:'&lt;div>&lt;div>&lt;/div>&lt;/div>',parent:document.body});
    hui.ui.toolTips[key] = t;
  }
  t.onclick = function() {hui.ui.hideToolTip(options);};
  var n = hui.get(options.element);
  var pos = hui.position.get(n);
  hui.dom.setText(t.getElementsByTagName('div')[1],options.text);
  if (t.style.display=='none' &amp;&amp; hui.browser.opacity) {
    hui.style.setOpacity(t,0);
  }
  hui.style.set(t,{'display':'block',zIndex:hui.ui.nextTopIndex()});
  hui.style.set(t,{left:(pos.left-t.clientWidth+4)+'px',top:(pos.top+2-(t.clientHeight/2)+(n.clientHeight/2))+'px'});
  if (hui.browser.opacity) {
    hui.animate(t,'opacity',1,300);
  }
};

hui.ui.hideToolTip = function(options) {
  var key = options ? options.key || 'common' : 'common';
  var t = hui.ui.toolTips[key];
  if (t) {
    if (!hui.browser.msie) {
      hui.animate(t,'opacity',0,300,{hideOnComplete:true});
    } else {
      t.style.display = 'none';
    }
  }
};



/////////////////////////////// Utilities /////////////////////////////

/**
 * Get the element of a widget if not already an element
 * @param widgetOrElement {Widget | Element} The widget to get the element for
 * @returns {Element} The element or null
 */
hui.ui.getElement = function(widgetOrElement) {
  if (hui.dom.isElement(widgetOrElement)) {
    return widgetOrElement;
  } else if (widgetOrElement.getElement) {
    return widgetOrElement.getElement();
  }
  return null;
};

hui.ui.isWithin = function(e,element) {
  e = hui.event(e);
  var offset = hui.position.get(element),
    dims = { width : element.offsetWidth, height : element.offsetHeight },
    left = e.getLeft(),
    top = e.getTop();
  return left > offset.left &amp;&amp; left &lt; offset.left+dims.width &amp;&amp; top > offset.top &amp;&amp; top &lt; offset.top+dims.height;
};

hui.ui.getIconUrl = function(icon,size) {
  return hui.ui.getURL('icons/'+icon+size+'.png');
};

hui.ui.createIcon = function(icon,size,tag) {
  var node = hui.build(tag || 'span',{
    'class' : 'hui_icon hui_icon_' + size
  });
  hui.ui.setIconImage(node,icon,size);
  return node;
};

hui.ui.setIconImage = function(node, icon, size) {
  if (size==32 || size==16 || size==64) {
    node.setAttribute('style', hui.ui.getIconStyle(icon, size));
  } else {
    node.setAttribute('style', 'background-image: url(' + hui.ui.getIconUrl(icon,size) + ');');
  }
};

hui.ui.getIconStyle = function(icon, size) {
  return 'background-image: url(' + hui.ui.getIconUrl(icon,size) + '); background-image: -webkit-image-set(url('+hui.ui.getIconUrl(icon,size)+') 1x,url('+hui.ui.getIconUrl(icon,size+'x2')+') 2x); background-size: '+size+'px;';
}

/**
 * Add focus class to an element
 * @param options {Object} {element : Element, class : String}
 */
hui.ui.addFocusClass = function(options) {
  var ce = options.classElement || options.element, c = options['class'];
  hui.listen(options.element,'focus',function() {
    hui.cls.add(ce,c);
  });
  hui.listen(options.element,'blur',function() {
    hui.cls.remove(ce,c);
  });
};

/**
 * Make a widget draw attention to itself
 * @param widget {Widget} The widget to stress
 */
hui.ui.stress = function(widget) {
  var e = hui.ui.getElement(widget);
  hui.effect.wiggle({element:e,duration:1000});
};


//////////////////////////// Positioning /////////////////////////////

hui.ui.positionAtElement = function(element,target,options) {
  options = options || {};
  element = hui.get(element);
  target = hui.get(target);
  var origDisplay = hui.style.get(element,'display');
  if (origDisplay=='none') {
    hui.style.set(element,{'visibility':'hidden','display':'block'});
  }
  var left = hui.position.getLeft(target),
    top = hui.position.getTop(target);
  var vert=options.vertical || null;
  if (options.horizontal &amp;&amp; options.horizontal=='right') {
    left = left+target.clientWidth-element.clientWidth;
  }
  if (vert=='topOutside') {
    top = top-element.clientHeight;
  } else if (vert=='bottomOutside') {
    top = top+target.clientHeight;
  }
  left+=(options.left || 0);
  top+=(options.top || 0);
  hui.style.set(element,{'left':left+'px','top':top+'px'});
  if (origDisplay=='none') {
    hui.style.set(element,{'visibility':'visible','display':'none'});
  }
};

//////////////////// Delegating ////////////////////

hui.ui.extend = function(obj,options) {
  if (options!==undefined) {
    if (obj.options) {
      obj.options = hui.override(obj.options,options);
    }
    obj.element = hui.get(options.element);
    obj.name = options.name;
  }
  if (!obj.name) {
    hui.ui.latestObjectIndex++;
    obj.name = 'unnamed'+hui.ui.latestObjectIndex;
  }
  hui.ui.registerComponent(obj);
  obj.delegates = [];
  obj.listen = function(delegate) {
    hui.array.add(this.delegates,delegate);
    return this;
  };
  obj.unListen = function(delegate) {
    hui.array.remove(this.delegates,delegate);
  };
  obj.clearListeners = function() {
    this.delegates = [];
  };
  obj.fire = function(method,value,event) {
    return hui.ui.callDelegates(this,method,value,event);
  };
  obj.fireValueChange = function() {
    obj.fire('valueChanged',obj.value);
    hui.ui.firePropertyChange(obj,'value',obj.value);
    hui.ui.callAncestors(obj,'childValueChanged',obj.value);
  };
  obj.fireProperty = function(key,value) {
    hui.ui.firePropertyChange(this,key,value);
  };
  obj.fireSizeChange = function() {
    hui.ui.callAncestors(obj,'$$childSizeChanged');
  };
  obj.addTo = function(other) {
    other.add(this);
    return this;
  };
  if (!obj.getElement) {
    obj.getElement = function() {
      return this.element;
    };
  }
  if (!obj.detach) {
    obj.detach = function() {};
  }
  if (!obj.destroy) {
    obj.destroy = function() {hui.ui.destroy(this)};
  }
  if (!obj.valueForProperty) {
    obj.valueForProperty = function(p) {return this[p];};
  }
  if (obj.nodes &amp;&amp; obj.element) {
    obj.nodes = hui.collect(obj.nodes,obj.element);
  }
};

hui.ui.make = function(def) {
  var component = function(options) {
    if (!options.element) {
      options.element = def.$build(options);
    }
    hui.ui.Component.call(this, options);
    var self = this;
    hui.each(def.$events, function(comp, listener) {
      var node = self.nodes[comp];
      hui.each(listener, function(eventName, action) {
        if (hui.isString(action)) {
          hui.on(node, eventName, function(e) {
            hui.stop(e);
            self.fire(action.substring(0,action.length - 1))
          })
        } else {
          hui.on(node, eventName, action.bind(self))
        }
      });
    });
    if (this.$init) { this.$init(options) };
    if (this.$attach) { this.$attach() };
  }
  var exc = ['create'];
  var proto = {}
  for (p in def) {
    if (def.hasOwnProperty(p) &amp;&amp; exc.indexOf(p) == -1) {
      proto[p] = def[p]
    }
  }
  component.prototype = proto
  hui.extend(component, hui.ui.Component);
  hui.ui[def.name] = component;
  hui.define('hui.ui.' + def.name, component);
}

hui.ui.registerComponent = function(component) {
  if (hui.ui.objects[component.name]) {
    hui.log('Widget replaced: '+component.name,hui.ui.objects[component.name]);
  }
  hui.ui.objects[component.name] = component;
};

/** Send a message to all ancestors of a widget */
hui.ui.callAncestors = function(obj,method,value,event) {
  if (typeof(value)=='undefined') value=obj;
  var d = hui.ui.getAncestors(obj);
  for (var i=0; i &lt; d.length; i++) {
    if (d[i][method]) {
      d[i][method](value,event);
    }
  }
};

/** Send a message to all descendants of a widget */
hui.ui.callDescendants = function(obj,method,value,event) {
  if (typeof(value)=='undefined') {
    value=obj;
  }
  if (method[0] !== '$') {
    method = '$'+method;
  }
  var d = hui.ui.getDescendants(obj);
  for (var i=0; i &lt; d.length; i++) {
    if (d[i][method]) {
      d[i][method](value,event);
    }
  }
};

/** Signal that a widget has changed visibility */
hui.ui.callVisible = function(widget) {
  hui.ui.callDescendants(widget,'$visibilityChanged');
};

/** Listen for global events */
hui.ui.listen = function(delegate) {
  if (hui.ui.domReady &amp;&amp; delegate.$ready) {
    delegate.$ready();
  }
  hui.ui.delegates.push(delegate);
};

hui.ui.unListen = function(listener) {
  hui.array.remove(hui.ui.delegates,listener);
};

hui.ui.tell = function(event) {
  if (hui.isString(event)) {
    event = {name:event};
  }
  if (!event.target) {
    hui.ui.tellGlobalListeners(window, event.name);
  }
}

hui.ui.callDelegates = function(obj,method,value,event) {
  if (typeof(value)=='undefined') {
    value=obj;
  }
  var result;
  if (obj.delegates) {
    for (var i=0; i &lt; obj.delegates.length; i++) {
      var delegate = obj.delegates[i],
        thisResult,
        specific = '$'+method+'$'+obj.name;
      if (obj.name &amp;&amp; delegate[specific]) {
        thisResult = delegate[specific](value,event);
      } else if (delegate['$'+method]) {
        thisResult = delegate['$'+method](value,event);
      }
      if (result===undefined &amp;&amp; thisResult!==undefined) {
        result = thisResult;
      }
    }
  }
  var superResult = hui.ui.tellGlobalListeners(obj,method,value,event);
  if (result===undefined &amp;&amp; superResult!==undefined) {
    result = superResult;
  }
  return result;
};

/**
 * Sends a message to ancestor frames (will call all the way up)
 * @param {String} event
 * @param {Object} value
 */
hui.ui.tellContainers = function(event,value) {
  if (window.parent!=window) {
    try {
      return window.parent.hui.ui._tellContainers(event,value);
    } catch (e) {
      if (window.console) console.error(e);
    }
  }
};

hui.ui._tellContainers = function(event,value) {
  var result = hui.ui.tellGlobalListeners({},event,value);
  if (window.parent!=window) {
    try {
      result = window.parent.hui.ui._tellContainers(event,value) || result;
    } catch (e) {
      if (window.console) console.error(e);
    }
  }
  return result;
};

hui.ui.tellGlobalListeners = function(obj,method,value,event) {
  if (typeof(value)=='undefined') value=obj;
  var result;
  for (var i=0; i &lt; hui.ui.delegates.length; i++) {
    var delegate = hui.ui.delegates[i],
            thisResult;
    if (obj.name &amp;&amp; delegate['$'+method+'$'+obj.name]) {
      thisResult = delegate['$'+method+'$'+obj.name](value,event);
    } else if (delegate['$'+method]) {
      thisResult = delegate['$'+method](value,event);
    }
    if (result===undefined &amp;&amp; thisResult!==undefined &amp;&amp; typeof(thisResult)!='undefined') {
      result = thisResult;
    }
  }
  return result;
};

hui.ui.resolveImageUrl = function(widget,img,width,height) {
  for (var i=0; i &lt; widget.delegates.length; i++) {
    if (widget.delegates[i].$resolveImageUrl) {
      return widget.delegates[i].$resolveImageUrl(img,width,height);
    }
  }
  for (var j=0; j &lt; hui.ui.delegates.length; j++) {
    var delegate = hui.ui.delegates[j];
    if (delegate.$resolveImageUrl) {
      return delegate.$resolveImageUrl(img,width,height);
    }
  }
  return null;
};

/** Load som UI from an URL */
hui.ui.include = function(options) {
  hui.ui.request({
    url : options.url,
    $text : function(html) {
      var container = hui.build('div',{html:html,parent:document.body});
      hui.dom.runScripts(container);
      options.$success();
    }
  });
};



////////////////////////////// Bindings ///////////////////////////

hui.ui.firePropertyChange = function(obj,name,value) {
  hui.ui.callDelegates(obj,'propertyChanged',{property:name,value:value});
};

hui.ui.bind = function(expression,delegate) {
  if (hui.isString(expression) &amp;&amp; expression.charAt(0)=='@') {
    var pair = expression.substring(1).split('.');
    var obj = hui.ui.get(pair[0]);
    if (!obj) {
      hui.log('Unable to bind to '+expression);
      return;
    }
    var p = pair.slice(1).join('.');
    obj.listen({
      $propertyChanged : function(prop) {
        if (prop.property==p) {
          delegate(prop.value);
        }
      }
    });
    return obj.valueForProperty(p);
  }
  return expression;
};



//////////////////////////////// Data /////////////////////////////

hui.ui.handleRequestError = function(widget) {
  hui.log('General request error received');
  var result = hui.ui.tellGlobalListeners(widget || this,'requestError');
  if (!result) {
    hui.ui.confirmOverlay({
      element : document.body,
      text : hui.ui.getText('request_error'),
      okText : hui.ui.getText('reload_page'),
      cancelText : hui.ui.getText('continue'),
      onOk : function() {
        document.location.reload();
      }
    });
  }
};

hui.ui.handleForbidden = function(widget) {
  hui.log('General access denied received');
  var result = hui.ui.tellGlobalListeners(widget || this,'accessDenied');
  if (!result) {
    hui.ui.confirmOverlay({
      element : document.body,
      text : hui.ui.getText('access_denied'),
      okText : hui.ui.getText('reload_page'),
      cancelText : hui.ui.getText('continue'),
      onOk : function() {
        document.location.reload();
      }
    });
  }
};
/**
 * @param {Object} options
 * @param {Object} options.message
 * @param {String} options.message.start
 * @param {String} options.message.success
 */
hui.ui.request = function(options) {
  options = hui.override({method:'post',parameters:{}},options);
  if (options.json) {
    for (var key in options.json) {
      options.parameters[key]=hui.string.toJSON(options.json[key]);
    }
  }
  var success = options.$success,
    obj = options.$object,
    text = options.$text,
    xml = options.$xml,
    failure = options.$failure,
    forbidden = options.$forbidden,
    message = options.message;
  options.$success = function(t) {
    if (message) {
      if (message.success) {
        hui.ui.msg({text:message.success,success:true,duration:message.duration || 2000});
      } else if (message.start) {
        hui.ui.hideMessage();
      }
    }
    var str,json;
    if (typeof(success)=='string') {
      if (!hui.request.isXMLResponse(t)) {
        str = t.responseText.replace(/^\s+|\s+$/g, '');
        if (str.length>0) {
          json = hui.string.fromJSON(t.responseText);
        } else {
          json = '';
        }
        hui.ui.callDelegates(json,'success$'+success);
      } else {
        hui.ui.callDelegates(t,'success$'+success);
      }
    } else if (xml &amp;&amp; hui.request.isXMLResponse(t)) {
      xml(t.responseXML);
    } else if (obj) {
      str = t.responseText.replace(/^\s+|\s+$/g, '');
      if (str.length>0) {
        json = hui.string.fromJSON(t.responseText);
      } else {
        json = null;
      }
      obj(json);
    } else if (typeof(success)=='function') {
      success(t);
    } else if (text) {
      text(t.responseText);
    }
  };
  options.$failure = function(t) {
    if (typeof(failure)=='string') {
      hui.ui.callDelegates(t,'failure$'+failure);
    } else if (typeof(failure)=='function') {
      var obj;
      var contentType = t.getResponseHeader('Content-Type');
      if (contentType) {
        contentType = contentType.split(";")[0].trim();
      }
      if (contentType == 'application/json') {
        obj = hui.string.fromJSON(t.responseText);
      }
      failure(t, obj);
    } else {
      if (options.message &amp;&amp; options.message.start) {
        hui.ui.hideMessage();
      }
      hui.ui.handleRequestError();
    }
  };
  options.$exception = options.$exception || function(e,t) {
    hui.log(e);
    hui.log(t);
    throw e;
  };
  options.$forbidden = function(t) {
    if (options.message &amp;&amp; options.message.start) {
      hui.ui.hideMessage();
    }
    if (forbidden) {
      forbidden(t);
    } else {
      options.$failure(t);
      hui.ui.handleForbidden();
    }
  };
  if (options.message &amp;&amp; options.message.start) {
    hui.ui.msg({text:options.message.start,busy:true,delay:options.message.delay});
  }
  hui.request(options);
};

/**
 * Import some widgets by name
 * @param {Array} names Array of widgets to import
 * @param {Function} func The function to call when finished
 */
hui.ui.require = function(names,func) {
  for (var i = names.length - 1; i >= 0; i--){
    names[i] = hui.ui.getURL('js/'+names[i]+'.js');
  }
  hui.require(names,func);
};

hui.on(function() {
  hui.listen(window,'resize',hui.ui._resize);
  hui.ui.reLayout();
  hui.ui.domReady = true;
  if (window.parent &amp;&amp; window.parent.hui &amp;&amp; window.parent.hui.ui) {
    window.parent.hui.ui._frameLoaded(window);
  }
  for (var i=0; i &lt; hui.ui.delayedUntilReady.length; i++) {
    hui.ui.delayedUntilReady[i]();
  }
  // Call super delegates after delayedUntilReady...
  hui.ui.tellGlobalListeners(this,'ready');
  hui.define('hui.ui', hui.ui);
});

</pre>
    </article>
</section>





		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	DocStrap Copyright © 2012-2015 The contributors to the JSDoc3 and DocStrap projects.
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a>
	
		on Wed Oct 16th 2019
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>
