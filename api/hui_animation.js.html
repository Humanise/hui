<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Humanise UI Source: hui_animation.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Humanise UI</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="hui.html">hui</a></li><li><a href="hui.animation.html">hui.animation</a></li><li><a href="hui.array.html">hui.array</a></li><li><a href="hui.browser.html">hui.browser</a></li><li><a href="hui.cls.html">hui.cls</a></li><li><a href="hui.cookie.html">hui.cookie</a></li><li><a href="hui.document.html">hui.document</a></li><li><a href="hui.dom.html">hui.dom</a></li><li><a href="hui.drag.html">hui.drag</a></li><li><a href="hui.ease.html">hui.ease</a></li><li><a href="hui.effect.html">hui.effect</a></li><li><a href="hui.form.html">hui.form</a></li><li><a href="hui.frame.html">hui.frame</a></li><li><a href="hui.location.html">hui.location</a></li><li><a href="hui.position.html">hui.position</a></li><li><a href="hui.selection.html">hui.selection</a></li><li><a href="hui.string.html">hui.string</a></li><li><a href="hui.style.html">hui.style</a></li><li><a href="hui.test.html">hui.test</a></li><li><a href="hui.ui.html">hui.ui</a></li><li><a href="hui.ui.Flash.html">hui.ui.Flash</a></li><li><a href="hui.ui.Graph.D3.html">hui.ui.Graph.D3</a></li><li><a href="hui.ui.MarkupEditor.MSIE.html">hui.ui.MarkupEditor.MSIE</a></li><li><a href="hui.ui.MarkupEditor.util.html">hui.ui.MarkupEditor.util</a></li><li><a href="hui.ui.MarkupEditor.webkit.html">hui.ui.MarkupEditor.webkit</a></li><li><a href="hui.window.html">hui.window</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="hui.animation.Item.html">hui.animation.Item</a></li><li><a href="hui.animation.Loop.html">hui.animation.Loop</a></li><li><a href="hui.Color.html">hui.Color</a></li><li><a href="hui.Event.html">hui.Event</a></li><li><a href="hui.Preloader.html">hui.Preloader</a></li><li><a href="hui.ui.Alert.html">hui.ui.Alert</a></li><li><a href="hui.ui.Bar.html">hui.ui.Bar</a></li><li><a href="hui.ui.Bar.Button.html">hui.ui.Bar.Button</a></li><li><a href="hui.ui.Bar.Text.html">hui.ui.Bar.Text</a></li><li><a href="hui.ui.BoundPanel.html">hui.ui.BoundPanel</a></li><li><a href="hui.ui.Box.html">hui.ui.Box</a></li><li><a href="hui.ui.Button.html">hui.ui.Button</a></li><li><a href="hui.ui.Buttons.html">hui.ui.Buttons</a></li><li><a href="hui.ui.Calendar.html">hui.ui.Calendar</a></li><li><a href="hui.ui.Chart.html">hui.ui.Chart</a></li><li><a href="hui.ui.Checkbox.html">hui.ui.Checkbox</a></li><li><a href="hui.ui.Checkboxes.html">hui.ui.Checkboxes</a></li><li><a href="hui.ui.Checkboxes.Items.html">hui.ui.Checkboxes.Items</a></li><li><a href="hui.ui.CodeInput.html">hui.ui.CodeInput</a></li><li><a href="hui.ui.ColorInput.html">hui.ui.ColorInput</a></li><li><a href="hui.ui.ColorPicker.html">hui.ui.ColorPicker</a></li><li><a href="hui.ui.Columns.html">hui.ui.Columns</a></li><li><a href="hui.ui.Component.html">hui.ui.Component</a></li><li><a href="hui.ui.DatePicker.html">hui.ui.DatePicker</a></li><li><a href="hui.ui.DateTimeInput.html">hui.ui.DateTimeInput</a></li><li><a href="hui.ui.Diagram.html">hui.ui.Diagram</a></li><li><a href="hui.ui.Diagram.Box.html">hui.ui.Diagram.Box</a></li><li><a href="hui.ui.Diagram.Icon.html">hui.ui.Diagram.Icon</a></li><li><a href="hui.ui.Dock.html">hui.ui.Dock</a></li><li><a href="hui.ui.Drawing.html">hui.ui.Drawing</a></li><li><a href="hui.ui.DropDown.html">hui.ui.DropDown</a></li><li><a href="hui.ui.Editable.html">hui.ui.Editable</a></li><li><a href="hui.ui.Editor.html">hui.ui.Editor</a></li><li><a href="hui.ui.Editor.Header.html">hui.ui.Editor.Header</a></li><li><a href="hui.ui.Editor.Html.html">hui.ui.Editor.Html</a></li><li><a href="hui.ui.Finder.html">hui.ui.Finder</a></li><li><a href="hui.ui.FontInput.html">hui.ui.FontInput</a></li><li><a href="hui.ui.FontPicker.html">hui.ui.FontPicker</a></li><li><a href="hui.ui.Formula.html">hui.ui.Formula</a></li><li><a href="hui.ui.Formula.Field.html">hui.ui.Formula.Field</a></li><li><a href="hui.ui.Formula.Group.html">hui.ui.Formula.Group</a></li><li><a href="hui.ui.Foundation.html">hui.ui.Foundation</a></li><li><a href="hui.ui.Fragment.html">hui.ui.Fragment</a></li><li><a href="hui.ui.Gallery.html">hui.ui.Gallery</a></li><li><a href="hui.ui.Graph.html">hui.ui.Graph</a></li><li><a href="hui.ui.Icon.html">hui.ui.Icon</a></li><li><a href="hui.ui.IFrame.html">hui.ui.IFrame</a></li><li><a href="hui.ui.ImageInput.html">hui.ui.ImageInput</a></li><li><a href="hui.ui.ImageViewer.html">hui.ui.ImageViewer</a></li><li><a href="hui.ui.InfoView.html">hui.ui.InfoView</a></li><li><a href="hui.ui.Input.html">hui.ui.Input</a></li><li><a href="hui.ui.Layout.html">hui.ui.Layout</a></li><li><a href="hui.ui.Link.html">hui.ui.Link</a></li><li><a href="hui.ui.LinkInput.html">hui.ui.LinkInput</a></li><li><a href="hui.ui.Links.html">hui.ui.Links</a></li><li><a href="hui.ui.List.html">hui.ui.List</a></li><li><a href="hui.ui.LocationInput.html">hui.ui.LocationInput</a></li><li><a href="hui.ui.LocationPicker.html">hui.ui.LocationPicker</a></li><li><a href="hui.ui.MarkupEditor.html">hui.ui.MarkupEditor</a></li><li><a href="hui.ui.MediaSimulator.html">hui.ui.MediaSimulator</a></li><li><a href="hui.ui.Menu.html">hui.ui.Menu</a></li><li><a href="hui.ui.ModelEditor.html">hui.ui.ModelEditor</a></li><li><a href="hui.ui.NumberInput.html">hui.ui.NumberInput</a></li><li><a href="hui.ui.NumberValidator.html">hui.ui.NumberValidator</a></li><li><a href="hui.ui.ObjectInput.html">hui.ui.ObjectInput</a></li><li><a href="hui.ui.ObjectList.html">hui.ui.ObjectList</a></li><li><a href="hui.ui.ObjectList.Object.html">hui.ui.ObjectList.Object</a></li><li><a href="hui.ui.Overflow.html">hui.ui.Overflow</a></li><li><a href="hui.ui.Overlay.html">hui.ui.Overlay</a></li><li><a href="hui.ui.Pages.html">hui.ui.Pages</a></li><li><a href="hui.ui.Panel.html">hui.ui.Panel</a></li><li><a href="hui.ui.Picker.html">hui.ui.Picker</a></li><li><a href="hui.ui.Presentation.html">hui.ui.Presentation</a></li><li><a href="hui.ui.ProgressBar.html">hui.ui.ProgressBar</a></li><li><a href="hui.ui.ProgressIndicator.html">hui.ui.ProgressIndicator</a></li><li><a href="hui.ui.Radiobuttons.html">hui.ui.Radiobuttons</a></li><li><a href="hui.ui.Rendering.html">hui.ui.Rendering</a></li><li><a href="hui.ui.RevealingToolbar.html">hui.ui.RevealingToolbar</a></li><li><a href="hui.ui.Rows.html">hui.ui.Rows</a></li><li><a href="hui.ui.SearchField.html">hui.ui.SearchField</a></li><li><a href="hui.ui.Segmented.html">hui.ui.Segmented</a></li><li><a href="hui.ui.Selection.html">hui.ui.Selection</a></li><li><a href="hui.ui.Selection.Items.html">hui.ui.Selection.Items</a></li><li><a href="hui.ui.Slider.html">hui.ui.Slider</a></li><li><a href="hui.ui.Source.html">hui.ui.Source</a></li><li><a href="hui.ui.Split.html">hui.ui.Split</a></li><li><a href="hui.ui.Structure.html">hui.ui.Structure</a></li><li><a href="hui.ui.StyleEditor.html">hui.ui.StyleEditor</a></li><li><a href="hui.ui.StyleLength.html">hui.ui.StyleLength</a></li><li><a href="hui.ui.Tab.html">hui.ui.Tab</a></li><li><a href="hui.ui.Tabs.html">hui.ui.Tabs</a></li><li><a href="hui.ui.TextInput.html">hui.ui.TextInput</a></li><li><a href="hui.ui.Tiles.html">hui.ui.Tiles</a></li><li><a href="hui.ui.TimeLine.html">hui.ui.TimeLine</a></li><li><a href="hui.ui.TokenField.html">hui.ui.TokenField</a></li><li><a href="hui.ui.Toolbar.html">hui.ui.Toolbar</a></li><li><a href="hui.ui.Toolbar.Icon.html">hui.ui.Toolbar.Icon</a></li><li><a href="hui.ui.Toolbar.More.html">hui.ui.Toolbar.More</a></li><li><a href="hui.ui.Upload.html">hui.ui.Upload</a></li><li><a href="hui.ui.Upload.Frame.html">hui.ui.Upload.Frame</a></li><li><a href="hui.ui.Upload.HTML5.html">hui.ui.Upload.HTML5</a></li><li><a href="hui.ui.Upload.Item.html">hui.ui.Upload.Item</a></li><li><a href="hui.ui.VideoPlayer.html">hui.ui.VideoPlayer</a></li><li><a href="hui.ui.Window.html">hui.ui.Window</a></li><li><a href="hui.ui.Wizard.html">hui.ui.Wizard</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			

		<h1 class="page-title">Source: hui_animation.js</h1>
    
<section>
    <article>
        <pre
            class="sunlight-highlight-javascript linenums">hui = window.hui || {};

/////////////////////////// Animation ///////////////////////////

/**
 * Animate something
 * &lt;pre>&lt;strong>options:&lt;/strong> {
 *  node : «Element»,
 *  css : { fontSize : '11px', color : '#f00', opacity : 0.5 },
 *  duration : 1000, // 1sec
 *  ease : function(num) {},
 *  $complete : function() {}
 *}
 * TODO Document options.property, options.value
 * @memberof hui
 *
 * @param {Element | Object} options Options or an element
 * @param {String} style The css property
 * @param {String} value The css value
 * @param {Number} duration The duration in milisecons
 * @param {Object} delegate The options if first param is an element
 */
hui.animate = function(options, property, value, duration, delegate) {
  if (typeof(options) == 'string' || hui.dom.isElement(options)) {
    hui.animation.get(options).animate(null, value, property, duration, delegate);
  } else {
    var item = hui.animation.get(options.node);
    if (options.property) {
      item.animate(null, options.value, options.property, options.duration, options);
    } else if (!options.css) {
      item.animate(null, '', '', options.duration, options);
    } else {
      var o = options;
      for (var prop in options.css) {
        item.animate(null, options.css[prop], prop, options.duration, o);
        o = hui.override({}, options);
        o.$complete = undefined;
      }
    }
  }
};


/** @namespace */
hui.animation = {
  objects: {},
  running: false,
  latestId: 0,

  /**
   * Get an animation item for a node
   * @return hui.animation.Item
   */
  get: function(element) {
    element = hui.get(element);
    if (!element.huiAnimationId) {
      element.huiAnimationId = this.latestId++;
    }
    if (!this.objects[element.huiAnimationId]) {
      this.objects[element.huiAnimationId] = new hui.animation.Item(element);
    }
    return this.objects[element.huiAnimationId];
  },

  /**
   * Start animating any pending tasks
   */
  start: function() {
    if (!this.running) {
      hui.animation._render();
    }
  }
};


hui.animation._lengthUpater = function(element,v,work) {
  element.style[work.property] = (work.from + (work.to - work.from) * v) + (work.unit ? work.unit : '');
};

hui.animation._transformUpater = function(element, v, work) {
  var t = work.transform;
  var str = '';
  if (t.rotate) {
    str += ' rotate(' + (t.rotate.from + (t.rotate.to - t.rotate.from) * v) + t.rotate.unit + ')';
  }
  if (t.scale) {
    str += ' scale(' + (t.scale.from + (t.scale.to - t.scale.from) * v) + ')';
  }
  element.style[hui.animation.TRANSFORM] = str;
};

hui.animation._colorUpater = function(element, v, work) {
  var red = Math.round(work.from.red + (work.to.red - work.from.red) * v);
  var green = Math.round(work.from.green + (work.to.green - work.from.green) * v);
  var blue = Math.round(work.from.blue + (work.to.blue - work.from.blue) * v);
  if (work.to.alpha &lt; 255 || work.from.alpha &lt; 255) {
    var alpha = Math.max(0,Math.min(1,work.from.alpha + (work.to.alpha - work.from.alpha) * v));
    element.style[work.property] = 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')';
  } else {
    element.style[work.property] = 'rgb(' + red + ',' + green + ',' + blue + ')';
  }
};

hui.animation._propertyUpater = function(element, v, work) {
  element[work.property] = Math.round(work.from+(work.to-work.from)*v);
};

hui.animation._ieOpacityUpdater = function(element, v, work) {
  var opacity = (work.from + (work.to - work.from) * v);
  if (opacity == 1) {
    element.style.removeAttribute('filter');
  } else {
    element.style.filter = 'alpha(opacity=' + (opacity * 100) + ')';
  }
};

hui.animation._render = function() {
  hui.animation.running = true;
  var next = false,
  stamp = Date.now();
  for (var id in hui.animation.objects) {
    var obj = hui.animation.objects[id];
    if (obj.work) {
      var element = obj.element;
      for (var i=0; i &lt; obj.work.length; i++) {
        var work = obj.work[i];
        if (work.finished) {
          continue;
        }
        var place = (stamp-work.start)/(work.end-work.start);
        if (place &lt; 0) {
          next = true;
          continue;
        }
        else if (isNaN(place) || place>1) {
          place = 1;
        }
        else if (place&lt;1) {
          next=true;
        }
        var v = place,
          value = null;
        if (work.delegate &amp;&amp; work.delegate.ease) {
          v = work.delegate.ease(v);
        }
        if (work.delegate &amp;&amp; work.delegate.$render) {
          work.delegate.$render(element,v);
        } else if (work.delegate &amp;&amp; work.delegate.callback) {
          work.delegate.callback(element,v);
        } else if (work.updater) {
          work.updater(element,v,work);
        }
        if (place==1) {
          work.finished = true;
          if (work.delegate &amp;&amp; work.delegate.$complete) {
            window.setTimeout(work.delegate.$complete);
          } else if (work.delegate &amp;&amp; work.delegate.onComplete) {
            window.setTimeout(work.delegate.onComplete);
          } else if (work.delegate &amp;&amp; work.delegate.hideOnComplete) {
            element.style.display='none';
          }
        }
      }
    }
  }
  if (next) {
    hui.onDraw(hui.animation._render);
  } else {
    hui.animation.running = false;
  }
};

hui.animation._parseStyle = function(value) {
  var parsed = {type:null,value:null,unit:null};
  var match;
  if (!hui.isDefined(value)) {
    return parsed;
  }
  if (!isNaN(value)) {
    parsed.value=parseFloat(value);
    return parsed;
  }
  match = value.match(/([\-]?[0-9\.]+)(px|pt|%)/);
  if (match) {
    parsed.type = 'length';
    parsed.value = parseFloat(match[1]);
    parsed.unit = match[2];
    return parsed;
  }
  match = match=value.match(/rgb\(([0-9]+),[ ]?([0-9]+),[ ]?([0-9]+)\)/);
  if (match) {
    parsed.type = 'color';
    parsed.value = {
      red:parseInt(match[1]),
      green:parseInt(match[2]),
      blue:parseInt(match[3]),
      alpha:1
    };
    return parsed;
  }
  match=value.match(/rgba\(([0-9]+),[ ]?([0-9]+),[ ]?([0-9]+),[ ]?([\.0-9]+)\)/);
  if (match) {
    parsed.type = 'color';
    parsed.value = {
      red:parseInt(match[1]),
      green:parseInt(match[2]),
      blue:parseInt(match[3]),
      alpha:parseFloat(match[4]),
    };
    return parsed;
  }
  var color = new hui.Color(value);
  if (color.ok) {
    parsed.type = 'color';
    parsed.value = {
      red:color.r,
      green:color.g,
      blue:color.b,
      alpha:1
    };
  }
  return parsed;
};

///////////////////////////// Item ///////////////////////////////

/**
 * An animation item describing what to animate on an element
 * @constructor
 */
hui.animation.Item = function(element) {
  this.element = element;
  this.work = [];
};

hui.animation.Item.prototype.animate = function(from,to,property,duration,delegate) {
  var work = this.getWork(hui.string.camelize(property));
  work.delegate = delegate;
  work.finished = false;
  var css = !(property=='scrollLeft' || property=='scrollTop' || property==='');
  if (from!==null) {
    work.from = from;
  } else if (property=='transform') {
    work.transform = hui.animation.Item.parseTransform(to,this.element);
  } else if (!hui.browser.opacity &amp;&amp; property=='opacity') {
    work.from = this._getIEOpacity(this.element);
  } else if (css) {
    var style = hui.style.get(this.element,property);
    var parsedStyle = hui.animation._parseStyle(style);
    work.from = parsedStyle.value;
  } else {
    work.from = this.element[property];
  }
  if (css) {
    var parsed = hui.animation._parseStyle(to);
    work.to = parsed.value;
    work.unit = parsed.unit;
    if (!hui.browser.opacity &amp;&amp; property=='opacity') {
      work.updater = hui.animation._ieOpacityUpdater;
    } else if (property=='transform') {
      work.updater = hui.browser.msie ? function() {} : hui.animation._transformUpater;
    } else if (parsed.type=='color') {
      work.updater = hui.animation._colorUpater;
    } else {
      work.updater = hui.animation._lengthUpater;
    }
  } else {
    work.to = to;
    work.unit = null;
    work.updater = hui.animation._propertyUpater;
  }
  work.start = Date.now();
  if (delegate &amp;&amp; delegate.delay) {
    work.start+=delegate.delay;
  }
  work.end = work.start+duration;
  hui.animation.start();
};

hui.animation.TRANSFORM = (function() {
  var agent = navigator.userAgent;
  var gecko = agent.indexOf('Gecko') !== -1 &amp;&amp; agent.indexOf('WebKit') === -1;
  return gecko ? 'MozTransform' : 'WebkitTransform';
})();

hui.animation.Item.parseTransform = function(value,element) {
  var result = {};
  var from,fromMatch;
  var rotateReg = /rotate\(([0-9\.]+)([a-z]+)\)/i;
  var rotate = value.match(rotateReg);
  if (rotate) {
    from = 0;
    if (element.style[hui.animation.TRANSFORM]) {
      fromMatch = element.style[hui.animation.TRANSFORM].match(rotateReg);
      if (fromMatch) {
        from = parseFloat(fromMatch[1]);
      }
    }
    result.rotate = {from:from,to:parseFloat(rotate[1]),unit:rotate[2]};
  }
  var scaleReg = /scale\(([0-9\.]+)\)/i;
  var scale = value.match(scaleReg);
  if (scale) {
    from = 1;
    if (element.style[hui.animation.TRANSFORM]) {
      fromMatch = element.style[hui.animation.TRANSFORM].match(scaleReg);
      if (fromMatch) {
        from = parseFloat(fromMatch[1]);
      }
    }
    result.scale = {from:from,to:parseFloat(scale[1])};
  }
  return result;
};

hui.animation.Item.prototype._getIEOpacity = function(element) {
  var filter = hui.style.get(element,'filter').toLowerCase();
  var match = filter.match(/opacity=([0-9]+)/);
  if (match) {
    return parseFloat(match[1])/100;
  } else {
    return 1;
  }
};

hui.animation.Item.prototype.getWork = function(property) {
  for (var i = this.work.length - 1; i >= 0; i--) {
    if (this.work[i].property===property) {
      return this.work[i];
    }
  }
  var work = {property:property};
  this.work[this.work.length] = work;
  return work;
};

/////////////////////////////// Loop ///////////////////////////////////

/** @constructor */
hui.animation.Loop = function(recipe) {
  this.recipe = recipe;
  this.position = -1;
  this.running = false;
};

hui.animation.Loop.prototype.next = function() {
  this.position++;
  if (this.position>=this.recipe.length) {
    this.position = 0;
  }
  var item = this.recipe[this.position];
  if (typeof(item)=='function') {
    item();
  } else if (item.element) {
    hui.animate(item.element,item.property,item.value,item.duration,{ease:item.ease});
  }
  var self = this;
  var time = item.duration || 0;
  if (item.wait!==undefined) {
    time = item.wait;
  }
  window.setTimeout(function() {self.next();},time);
};

hui.animation.Loop.prototype.start = function() {
  this.running=true;
  this.next();
};

/** @namespace */
hui.ease = {
  slowFastSlow : function(val) {
    var a = 1.6;
    var b = 1.4;
    return -1*Math.pow(Math.cos((Math.PI/2)*Math.pow(val,a)),Math.pow(Math.PI,b))+1;
  },
  fastSlow : function(val) {
    var a = 0.5;
    var b = 0.7;
    return -1*Math.pow(Math.cos((Math.PI/2)*Math.pow(val,a)),Math.pow(Math.PI,b))+1;
  },
  elastic : function(t) {
    return 1 - hui.ease.elastic2(1-t);
  },

  elastic2 : function (t, a, p) {
    if (t&lt;=0 || t>=1) return t;
    if (!p) p=0.45;
    var s;
    if (!a || a &lt; 1) {
      a=1;
      s=p/4;
    } else {
      s = p/(2*Math.PI) * Math.asin (1/a);
    }
    return -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t-s)*(2*Math.PI)/p ));
  },
  bounce : function(t) {
    if (t &lt; (1/2.75)) {
      return 7.5625*t*t;
    } else if (t &lt; (2/2.75)) {
      return (7.5625*(t-=(1.5/2.75))*t + 0.75);
    } else if (t &lt; (2.5/2.75)) {
      return (7.5625*(t-=(2.25/2.75))*t + 0.9375);
    } else {
      return (7.5625*(t-=(2.625/2.75))*t + 0.984375);
    }
  },
  flicker : function(value) {
    if (value==1) return 1;
    return Math.random()*value;
  },

  quadIn: function(/* Decimal? */n){
    return Math.pow(n, 2);
  },

  quadOut: function(/* Decimal? */n){
    return n * (n-2) * -1;
  },

  quadInOut: function(/* Decimal? */n){
    n=n*2;
    if(n&lt;1){ return Math.pow(n, 2) / 2; }
    return -1 * ((--n)*(n-2) - 1) / 2;
  },

  cubicIn: function(/* Decimal? */n){
    return Math.pow(n, 3);
  },

  cubicOut: function(/* Decimal? */n){
    return Math.pow(n-1, 3) + 1;
  },

  cubicInOut: function(/* Decimal? */n){
    n=n*2;
    if(n&lt;1){ return Math.pow(n, 3) / 2; }
    n-=2;
    return (Math.pow(n, 3) + 2) / 2;
  },

  quartIn: function(/* Decimal? */n){
    return Math.pow(n, 4);
  },

  quartOut: function(/* Decimal? */n){
    return -1 * (Math.pow(n-1, 4) - 1);
  },

  quartInOut: function(/* Decimal? */n){
    n=n*2;
    if(n&lt;1){ return Math.pow(n, 4) / 2; }
    n-=2;
    return -1/2 * (Math.pow(n, 4) - 2);
  },

  quintIn: function(/* Decimal? */n){
    return Math.pow(n, 5);
  },

  quintOut: function(/* Decimal? */n){
    return Math.pow(n-1, 5) + 1;
  },

  quintInOut: function(/* Decimal? */n){
    n=n*2;
    if(n&lt;1){ return Math.pow(n, 5) / 2; }
    n-=2;
    return (Math.pow(n, 5) + 2) / 2;
  },

  sineIn: function(/* Decimal? */n){
    return -1 * Math.cos(n * (Math.PI/2)) + 1;
  },

  sineOut: function(/* Decimal? */n){
    return Math.sin(n * (Math.PI/2));
  },

  sineInOut: function(/* Decimal? */n){
    return -1 * (Math.cos(Math.PI*n) - 1) / 2;
  },

  expoIn: function(/* Decimal? */n){
    return (n===0) ? 0 : Math.pow(2, 10 * (n - 1));
  },

  expoOut: function(/* Decimal? */n){
    return (n==1) ? 1 : (-1 * Math.pow(2, -10 * n) + 1);
  },

  expoInOut: function(/* Decimal? */n){
    if (n===0) { return 0; }
    if (n===1) { return 1; }
    n = n*2;
    if (n&lt;1) { return Math.pow(2, 10 * (n-1)) / 2; }
    --n;
    return (-1 * Math.pow(2, -10 * n) + 2) / 2;
  },

  circIn: function(/* Decimal? */n){
    return -1 * (Math.sqrt(1 - Math.pow(n, 2)) - 1);
  },

  circOut: function(/* Decimal? */n){
    n = n-1;
    return Math.sqrt(1 - Math.pow(n, 2));
  },

  circInOut: function(/* Decimal? */n){
    n = n*2;
    if(n&lt;1){ return -1/2 * (Math.sqrt(1 - Math.pow(n, 2)) - 1); }
    n-=2;
    return 1/2 * (Math.sqrt(1 - Math.pow(n, 2)) + 1);
  },

  backIn: function(/* Decimal? */n){
    var s = 1.70158;
    return Math.pow(n, 2) * ((s+1)*n - s);
  },

  backOut: function(/* Decimal? */n){
    // summary: an easing function that pops past the range briefly, and
    //  slowly comes back.
    n = n - 1;
    var s = 1.70158;
    return Math.pow(n, 2) * ((s + 1) * n + s) + 1;
  },

  backInOut: function(/* Decimal? */n){
    var s = 1.70158 * 1.525;
    n = n*2;
    if(n &lt; 1){ return (Math.pow(n, 2)*((s+1)*n - s))/2; }
    n-=2;
    return (Math.pow(n, 2)*((s+1)*n + s) + 2)/2;
  },

  elasticIn: function(/* Decimal? */n){
    if(n===0){ return 0; }
    if(n==1){ return 1; }
    var p = 0.3;
    var s = p/4;
    n = n - 1;
    return -1 * Math.pow(2,10*n) * Math.sin((n-s)*(2*Math.PI)/p);
  },

  elasticOut: function(/* Decimal? */n){
    // summary: An easing function that elasticly snaps around the target value, near the end of the Animation
    if(n===0) return 0;
    if(n==1) return 1;
    var p = 0.3;
    var s = p/4;
    return Math.pow(2,-10*n) * Math.sin((n-s)*(2*Math.PI)/p) + 1;
  },

  elasticInOut: function(/* Decimal? */n){
    // summary: An easing function that elasticly snaps around the value, near the beginning and end of the Animation
    if(n===0) return 0;
    n = n*2;
    if(n==2) return 1;
    var p = 0.3*1.5;
    var s = p/4;
    if(n&lt;1){
      n-=1;
      return -0.5*(Math.pow(2,10*n) * Math.sin((n-s)*(2*Math.PI)/p));
    }
    n-=1;
    return 0.5 * (Math.pow(2, -10 * n) * Math.sin((n - s) * ( 2 * Math.PI) / p)) + 1;
  },

  bounceIn: function(/* Decimal? */n){
    // summary: An easing function that "bounces" near the beginning of an Animation
    return (1 - hui.ease.bounceOut(1-n)); // Decimal
  },

  bounceOut: function(/* Decimal? */n){
    // summary: An easing function that "bounces" near the end of an Animation
    var s=7.5625;
    var p=2.75;
    var l;
    if(n &lt; (1 / p)){
      l = s*Math.pow(n, 2);
    }else if(n &lt; (2 / p)){
      n -= (1.5 / p);
      l = s * Math.pow(n, 2) + 0.75;
    }else if(n &lt; (2.5 / p)){
      n -= (2.25 / p);
      l = s * Math.pow(n, 2) + 0.9375;
    }else{
      n -= (2.625 / p);
      l = s * Math.pow(n, 2) + 0.984375;
    }
    return l;
  },

  bounceInOut: function(/* Decimal? */n){
    if(n&lt;0.5){ return hui.ease.bounceIn(n*2) / 2; }
    return (hui.ease.bounceOut(n*2-1) / 2) + 0.5; // Decimal
  }
};

if (!Date.now) {
  Date.now = function now() {
    return new Date().getTime();
  };
}

hui.onReady(function() {
  hui.define('hui.animation',hui.animation);
});</pre>
    </article>
</section>





		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	DocStrap Copyright © 2012-2015 The contributors to the JSDoc3 and DocStrap projects.
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
	
		on Sat Mar 3rd 2018
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>
