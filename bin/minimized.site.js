hui=window.hui||{},function(a,b,c){a.KEY_BACKSPACE=8,a.KEY_TAB=9,a.KEY_RETURN=13,a.KEY_ESC=27,a.KEY_LEFT=37,a.KEY_UP=38,a.KEY_RIGHT=39,a.KEY_DOWN=40,a.KEY_DELETE=46,a.KEY_HOME=36,a.KEY_END=35,a.KEY_PAGEUP=33,a.KEY_PAGEDOWN=34,a.KEY_INSERT=45,a.browser={};var d=a.browser;d.msie=!/opera/i.test(b)&&/MSIE/.test(b)||/Trident/.test(b),d.msie6=-1!==b.indexOf("MSIE 6"),d.msie7=-1!==b.indexOf("MSIE 7"),d.msie8=-1!==b.indexOf("MSIE 8"),d.msie9=-1!==b.indexOf("MSIE 9"),d.msie9compat=d.msie7&&-1!==b.indexOf("Trident/5.0"),d.msie10=-1!==b.indexOf("MSIE 10"),d.msie11=-1!==b.indexOf("Trident/7.0"),d.webkit=-1!==b.indexOf("WebKit"),d.safari=-1!==b.indexOf("Safari"),d.webkitVersion=null,d.gecko=!d.webkit&&!d.msie&&-1!==b.indexOf("Gecko"),d.ipad=d.webkit&&-1!==b.indexOf("iPad"),d.windows=-1!==b.indexOf("Windows"),d.opacity=!d.msie6&&!d.msie7&&!d.msie8,d.mediaQueries=d.opacity,d.animation=!(d.msie6||d.msie7||d.msie8||d.msie9),d.wordbreak=!d.msie6&&!d.msie7&&!d.msie8,d.touch="ontouchstart"in c||"onmsgesturechange"in c&&c.navigator.maxTouchPoints?!0:!1;var e=/Safari\/([\d.]+)/.exec(b);e&&(d.webkitVersion=parseFloat(e[1]))}(hui,navigator.userAgent,window),hui.log=function(a){window.console&&window.console.log&&(1==arguments.length?console.log(a):2==arguments.length?console.log(arguments[0],arguments[1]):console.log(arguments))},hui._demanded=[],hui.define=function(a,b){for(var c=hui._demanded,d=c.length-1;d>=0;d--){var e=c[d];hui.array.remove(e.requirements,a),0==e.requirements.length&&(e.callback(),c.splice(d,1))}},hui.demand=function(){for(var a=arguments[0],b=arguments[1],c=[],d=0;d<a.length;d++){var e=hui.evaluate(a[d]);if(!e){c=!1;break}c[d]=e}c?b(c):(hui.log("deferring: "+a),hui._demanded.push({requirements:a,callback:b}))},hui.evaluate=function(a){for(var b=a.split("."),c=window,d=0;d<b.length&&void 0!==c;d++)c=c[b[d]];return c},hui.defer=function(a,b){b&&(a=a.bind(b)),window.setTimeout(a)},hui.extend=function(a,b){function c(){this.constructor=a}var d=a.prototype;for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);if(c.prototype=b.prototype,a.prototype=new c,d)for(var e in d)a.prototype[e]=d[e]},hui.override=function(a,b){if(b)for(var c in b)a[c]=b[c];return a},hui.each=function(a,b){var c;if(hui.isArray(a))for(c=0;c<a.length;c++)b(a[c],c);else if(a instanceof NodeList)for(c=0;c<a.length;c++)b(a.item(c),c);else for(var d in a)b(d,a[d])},hui.when=function(a,b){return a?b:""},hui.intOrString=function(a){if(hui.isDefined(a)){var b=/[0-9]+/.exec(a);if(null!==b&&b[0]==a&&parseInt(a,10)==a)return parseInt(a,10)}return a},hui.between=function(a,b,c){var d=Math.min(c,Math.max(a,b));return isNaN(d)?a:d},hui.fit=function(a,b,c){c=c||{};var d,e,f=a.width/a.height,g=b.width/b.height;return c.upscale===!1&&a.width<=b.width&&a.height<=b.height?(d=a.width,e=a.height):f>g?(d=b.width,e=Math.round(b.width/a.width*a.height)):(d=Math.round(b.height/a.height*a.width),e=b.height),{width:d,height:e}},hui.isBlank=function(a){return null===a||"undefined"==typeof a||""===a?!0:"string"==typeof a&&0===hui.string.trim(a).length},hui.isDefined=function(a){return null!==a&&"undefined"!=typeof a},hui.isString=function(a){return"string"==typeof a},hui.isNumber=function(a){return"number"==typeof a},hui.isArray=function(a){return null===a||void 0===a?!1:a.constructor==Array?!0:"[object Array]"===Object.prototype.toString.call(a)},hui.string={startsWith:function(a,b){return"string"!=typeof a||"string"!=typeof b?!1:a.match("^"+b)==b},endsWith:function(a,b){return"string"!=typeof a||"string"!=typeof b?!1:a.match(b+"$")==b},camelize:function(a){if(-1==a.indexOf("-"))return a;for(var b=a.split("-"),c=0===a.indexOf("-")?b[0].charAt(0).toUpperCase()+b[0].substring(1):b[0],d=1,e=b.length;e>d;d++){var f=b[d];c+=f.charAt(0).toUpperCase()+f.substring(1)}return c},trim:function(a){return null===a||void 0===a?"":("string"!=typeof a&&(a=String(a)),a.replace(/^[\s\x0b\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]+|[\s\x0b\xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]+$/g,""))},wrap:function(a){return null===a||void 0===a?"":a.split("").join("â€‹")},shorten:function(a,b){if(hui.isNumber(a))a+="";else if(!hui.isString(a))return"";return a.length>b?a.substring(0,b-3)+"...":a},escapeHTML:function(a){return null===a||void 0===a?"":hui.build("div",{text:a}).innerHTML},escape:function(a){if(!hui.isString(a))return a;var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return a.replace(/[&<>'`"]/g,function(a){return b[a]||a})},fromJSON:function(a){try{return JSON.parse(a)}catch(b){return hui.log(b),null}},toJSON:function(a){return JSON.stringify(a)}},hui.array={add:function(a,b){if(b.constructor==Array)for(var c=0;c<b.length;c++)hui.array.contains(a,b[c])||a.push(b);else hui.array.contains(a,b)||a.push(b)},contains:function(a,b){return-1!==hui.array.indexOf(a,b)},flip:function(a,b){hui.array.contains(a,b)?hui.array.remove(a,b):a.push(b)},remove:function(a,b){for(var c=a.length-1;c>=0;c--)a[c]==b&&a.splice(c,1)},indexOf:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},toIntegers:function(a){for(var b=a.split(","),c=b.length-1;c>=0;c--)b[c]=parseInt(b[c],10);return b}},hui.dom={isElement:function(a,b){return 1==a.nodeType&&(void 0===b?!0:a.nodeName.toLowerCase()==b)},isDefinedText:function(a){return 3==a.nodeType&&a.nodeValue.length>0},addText:function(a,b){a.appendChild(document.createTextNode(b))},firstChild:function(a){for(var b=a.childNodes,c=0;c<b.length;c++)if(1==b[c].nodeType)return b[c];return null},parse:function(a){var b=hui.build("div",{html:a});return hui.get.firstChild(b)},clear:function(a){for(var b=a.childNodes,c=b.length-1;c>=0;c--)b[c].parentNode.removeChild(b[c])},remove:function(a){a.parentNode&&a.parentNode.removeChild(a)},replaceNode:function(a,b){b.parentNode&&b.parentNode.removeChild(b),a.parentNode.insertBefore(b,a),a.parentNode.removeChild(a)},changeTag:function(a,b){for(var c=hui.build(b);a.firstChild;)c.appendChild(a.firstChild);for(var d=a.attributes.length-1;d>=0;--d)c.attributes.setNamedItem(a.attributes[d].cloneNode());return a.parentNode.insertBefore(c,a),a.parentNode.removeChild(a),c},insertBefore:function(a,b){a.parentNode.insertBefore(b,a)},insertAfter:function(a,b){var c=a.nextSibling;c?c.parentNode.insertBefore(b,c):a.parentNode.appendChild(b)},replaceHTML:function(a,b){a=hui.get(a),a.innerHTML=b},runScripts:function(node){if(hui.dom.isElement(node))if(hui.dom.isElement(node,"script"))eval(node.innerHTML);else for(var scripts=node.getElementsByTagName("script"),i=0;i<scripts.length;i++)eval(scripts[i].innerHTML)},setText:function(a,b){(void 0===b||null===b)&&(b="");for(var c=a.childNodes,d=!1,e=c.length-1;e>=0;e--)d||3!==c[e].nodeType?a.removeChild(c[e]):(c[e].nodeValue=b,d=!0);d||hui.dom.addText(a,b)},getText:function(a){for(var b="",c=a.childNodes,d=0;d<c.length;d++)3===c[d].nodeType&&null!==c[d].nodeValue?b+=c[d].nodeValue:1==c[d].nodeType&&(b+=hui.dom.getText(c[d]));return b},isVisible:function(a){for(;a;){if(a.style&&("none"===hui.style.get(a,"display")||"hidden"===hui.style.get(a,"visibility")))return!1;a=a.parentNode}return!0},isDescendantOrSelf:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}},hui.form={getValues:function(a){for(var b={},c=a.getElementsByTagName("input"),d=0;d<c.length;d++)hui.isDefined(c[d].name)&&(b[c[d].name]=c[d].value);return b}},hui.get=function(a){return"string"==typeof a?document.getElementById(a):a},hui.get.children=function(a){for(var b=[],c=a.childNodes,d=0;d<c.length;d++)hui.dom.isElement(c[d])&&b.push(c[d]);return b},hui.get.ancestors=function(a){for(var b=[],c=a.parentNode;c;)b[b.length]=c,c=c.parentNode;return b},hui.get.firstAncestorByClass=function(a,b){for(;a;){if(hui.cls.has(a,b))return a;a=a.parentNode}return null},hui.get.next=function(a){if(!a)return null;if(a.nextElementSibling)return a.nextElementSibling;if(!a.nextSibling)return null;for(var b=a.nextSibling;b&&1!=b.nodeType;)b=b.nextSibling;return b&&1==b.nodeType?b:null},hui.get.previous=function(a){if(!a)return null;if(a.previousElementSibling)return a.previousElementSibling;if(!a.previousSibling)return null;for(var b=a.previousSibling;b&&1!=b.nodeType;)b=b.previousSibling;return b&&1==b.nodeType?b:null},hui.get.before=function(a){var b=[];if(a)for(var c=a.parentNode.childNodes,d=0;d<c.length&&c[d]!=a;d++)1===c[d].nodeType&&b.push(c[d]);return b},hui.get.after=function(a){for(var b=[],c=hui.get.next(a);c;)b.push(c),c=hui.get.next(c);return b},hui.get.firstByClass=function(a,b,c){if(a=hui.get(a)||document.body,a.querySelector)return a.querySelector((c?c+".":".")+b);for(var d=a.getElementsByTagName(c||"*"),e=0;e<d.length;e++)if(hui.cls.has(d[e],b))return d[e];return null},hui.get.byClass=function(a,b,c){a=hui.get(a)||document.body;var d;if(a.querySelectorAll){var e=a.querySelectorAll((c?c+".":".")+b),f=[];for(d=0,ll=e.length;d!=ll;f.push(e[d++]));return f}var g=a.getElementsByTagName(c||"*"),h=[];for(d=0;d<g.length;d++)hui.cls.has(g[d],b)&&(h[h.length]=g[d]);return h},hui.get.byTag=function(a,b){for(var c=a.getElementsByTagName(b),d=[],e=0,f=c.length;e!=f;d.push(c[e++]));return d},hui.get.byId=function(a,b){for(var c=a.childNodes,d=c.length-1;d>=0;d--){if(1===c[d].nodeType&&c[d].getAttribute("id")===b)return c[d];var e=hui.get.byId(c[d],b);if(e)return e}return null},hui.get.firstParentByTag=function(a,b){for(var c=a;c;){if(c.tagName&&c.tagName.toLowerCase()==b)return c;c=c.parentNode}return null},hui.get.firstParentByClass=function(a,b){for(var c=a;c;){if(hui.cls.has(c))return c;c=c.parentNode}return null},hui.get.firstByTag=function(a,b){if(a=hui.get(a)||document.body,a.querySelector&&"*"!==b)return a.querySelector(b);var c=a.getElementsByTagName(b);return c[0]},hui.get.firstChild=hui.dom.firstChild,hui.find=function(a,b){return(b||document).querySelector(a)},hui.findAll=function(a,b){var c=(b||document).querySelectorAll(a);return Array.prototype.slice.call(c)},document.querySelector||(hui.find=function(a,b){return b=b||document.documentElement,"."==a[0]?hui.get.firstByClass(b,a.substr(1)):hui.get.firstByTag(b,a)}),hui.collect=function(a,b){var c={};for(key in a)c[key]=hui.find(a[key],b);return c},hui.build=function(a,b,c){c=c||document;var d="";if(-1!==a.indexOf(".")){var e=a.split(".");a=e[0];for(var f=1;f<e.length;f++)f>1&&(d+=" "),d+=e[f]}var g=c.createElement(a);if(d&&(g.className=d),b)for(var h in b)"text"==h?g.appendChild(c.createTextNode(b.text)):"html"==h?g.innerHTML=b.html:"parent"==h&&hui.isDefined(b.parent)?b.parent.appendChild(g):"parentFirst"==h?0===b.parentFirst.childNodes.length?b.parentFirst.appendChild(g):b.parentFirst.insertBefore(g,b.parentFirst.childNodes[0]):"before"==h?b.before.parentNode.insertBefore(g,b.before):"className"==h?g.className=b.className:"class"==h?g.className=b["class"]:"style"==h&&"object"==typeof b[h]?hui.style.set(g,b[h]):"style"==h&&(hui.browser.msie7||hui.browser.msie6)?g.style.setAttribute("cssText",b[h]):hui.isDefined(b[h])&&g.setAttribute(h,b[h]);return g},hui.position={getTop:function(a){if(a=hui.get(a)){for(var b=a.offsetTop,c=a.offsetParent;null!==c;)b+=c.offsetTop,c=c.offsetParent;return b}return 0},getLeft:function(a){if(a=hui.get(a)){for(var b=a.offsetLeft,c=a.offsetParent;null!==c;)b+=c.offsetLeft,c=c.offsetParent;return b}return 0},get:function(a){return{left:hui.position.getLeft(a),top:hui.position.getTop(a)}},getScrollOffset:function(a){a=hui.get(a);var b=0,c=0;do if(b+=a.scrollTop||0,c+=a.scrollLeft||0,a=a.parentNode,a&&"HTML"===a.tagName)break;while(a);return{top:b,left:c}},place:function(a){var b=0,c=0,d=hui.get(a.source.element),e=hui.get(a.target.element),f={left:hui.position.getLeft(e),top:hui.position.getTop(e)};if(b=f.left+e.clientWidth*(a.target.horizontal||0),c=f.top+e.clientHeight*(a.target.vertical||0),b-=d.clientWidth*(a.source.horizontal||0),c-=d.clientHeight*(a.source.vertical||0),a.top&&(c+=a.top),a.left&&(b+=a.left),a.insideViewPort){var g=hui.window.getViewWidth();b+d.clientWidth>g&&(b=g-d.clientWidth-(a.viewPartMargin||0)),0>b&&(b=0),0>c&&(c=0);var h=(hui.window.getViewHeight(),hui.window.getScrollTop()+hui.window.getViewHeight()-d.clientHeight),i=hui.window.getScrollTop();c=Math.max(Math.min(c,h),i)}d.style.top=Math.round(c)+"px",d.style.left=Math.round(b)+"px"},getRemainingHeight:function(a){for(var b=a.parentNode.clientHeight,c=a.parentNode.childNodes,d=0;d<c.length;d++){var e=c[d];e!==a&&hui.dom.isElement(c[d])&&"absolute"!=hui.style.get(e,"position")&&(b-=e.offsetHeight)}return b}},hui.window={getScrollTop:function(){return window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body?document.body.scrollTop:0},getScrollLeft:function(){return window.pageYOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollLeft:document.body?document.body.scrollLeft:0},scrollTo:function(a){a=hui.override({duration:0,top:0},a);var b=a.element,c=hui.position.get(b),d=hui.window.getScrollTop(),e=hui.window.getViewHeight(),f=d+e;if(d<c.top+b.clientHeight||c.top<f){var g=c.top-Math.round((e-b.clientHeight)/2);g-=a.top/2,g=Math.max(0,g);var h,i=(new Date).getTime();h=function(){var b=((new Date).getTime()-i)/a.duration;b>1&&(b=1),window.scrollTo(0,d+Math.round((g-d)*hui.ease.fastSlow(b))),1>b&&window.setTimeout(h)},h()}},getViewHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body?document.body.clientHeight:void 0},getViewWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0}},hui.cls={has:function(a,b){if(a=hui.get(a),!a||!a.className)return!1;if(a.hasClassName)return a.hasClassName(b);if(a.className==b)return!0;if(void 0!==a.className.animVal)return!1;for(var c=a.className.split(/\s+/),d=0;d<c.length;d++)if(c[d]==b)return!0;return!1},add:function(a,b){a=hui.get(a),a&&(a.addClassName&&a.addClassName(b),hui.cls.remove(a,b),a.className+=" "+b)},remove:function(a,b){if(a=hui.get(a),a&&a.className){if(a.removeClassName&&a.removeClassName(b),a.className==b)return void(a.className="");for(var c="",d=a.className.split(/\s+/),e=0;e<d.length;e++)d[e]!=b&&(e>0&&(c+=" "),c+=d[e]);a.className=c}},toggle:function(a,b){hui.cls.has(a,b)?hui.cls.remove(a,b):hui.cls.add(a,b)},set:function(a,b,c){c?hui.cls.add(a,b):hui.cls.remove(a,b)}},hui.on=function(a,b,c,d){if("tap"==b){d&&(c=c.bind(d));var e=!1,f=!1;hui.listen(a,"touchstart",function(){f=!0,e=!1},d),hui.listen(a,"touchmove",function(){e=!0},d),hui.listen(a,"touchend",function(a){f=!1,e||(f=!0,c(a))},d),hui.listen(a,"click",function(a){e||f||c(a)},d)}else hui.listen(a,b,c,d)},hui.listen=function(a,b,c,d){a=hui.get(a),a&&(d&&(c=c.bind(d)),document.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c))},hui.listenOnce=function(a,b,c){var d=null;d=function(e){hui.unListen(a,b,d),c(e)},hui.listen(a,b,d)},hui.unListen=function(a,b,c,d){a=hui.get(a),document.removeEventListener?a.removeEventListener(b,c,d?!0:!1):a.detachEvent("on"+b,c)},hui.event=function(a){return void 0!==a&&a.huiEvent===!0?a:new hui.Event(a)},hui.Event=function(a){this.huiEvent=!0,this.event=a=a||window.event,a||hui.log("No event"),this.element=a.target?a.target:a.srcElement,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey,this.returnKey=13==a.keyCode,this.escapeKey=27==a.keyCode,this.spaceKey=32==a.keyCode,this.backspaceKey=8==a.keyCode,this.upKey=38==a.keyCode,this.downKey=40==a.keyCode,this.leftKey=37==a.keyCode,this.rightKey=39==a.keyCode,this.keyCode=a.keyCode},hui.Event.prototype={getLeft:function(){var a=0;return this.event&&(this.event.pageX?a=this.event.pageX:this.event.clientX&&(a=this.event.clientX+hui.window.getScrollLeft())),a},getTop:function(){var a=0;return this.event&&(this.event.pageY?a=this.event.pageY:this.event.clientY&&(a=this.event.clientY+hui.window.getScrollTop())),a},getElement:function(){return this.element},findByClass:function(a){return hui.get.firstAncestorByClass(this.element,a)},findByTag:function(a){for(var b=this.element;b;){if(b.tagName&&b.tagName.toLowerCase()==a)return b;b=b.parentNode}return null},find:function(a){for(var b=this.element;b;){if(a(b))return b;b=b.parentNode}return null},isDescendantOf:function(a){for(var b=this.element;b;){if(b===a)return!0;b=b.parentNode}return!1},stop:function(){hui.stop(this.event)}},hui.stop=function(a){a||(a=window.event),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.stopped=!0},hui._=hui._||[],hui._ready="complete"==document.readyState,hui.onReady=function(a){hui._ready?a():hui._.push(a)},hui.onDraw=function(a){window.setTimeout(a,13)},hui.onDraw=function(a,b){for(var c=b.requestAnimationFrame,d=0;d<a.length&&!c;++d)c=b[a[d]+"RequestAnimationFrame"];return c?c.bind(b):hui.onDraw}(["ms","moz","webkit","o"],window),hui._onReady=function(a){if("interactive"==document.readyState)window.setTimeout(a);else if(window.addEventListener)window.addEventListener("DOMContentLoaded",a,!1);else if("undefined"!=typeof document.addEventListener)document.addEventListener("load",a,!1);else if("undefined"!=typeof window.attachEvent)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),a())});else if("function"==typeof window.onload){var b=window.onload;window.onload=function(){b(),a()}}else window.onload=a},hui.request=function(a){a=hui.override({method:"POST",async:!0,headers:{Ajax:!0}},a);var b=new XMLHttpRequest;if(b){b.onreadystatechange=function(){4==b.readyState&&(200==b.status&&a.$success?a.$success(b):403==b.status&&a.$forbidden?a.$forbidden(b):0!==b.status&&a.$failure?a.$failure(b):0===b.status&&a.$abort&&a.$abort(b),a.$finally&&a.$finally())};var c=a.method.toUpperCase();b.open(c,a.url,a.async);var d=null;if("POST"==c&&a.file){if(d=new FormData,d.append("file",a.file),a.parameters)for(var e in a.parameters)d.append(e,a.parameters[e]);a.$progress&&b.upload.addEventListener("progress",function(b){a.$progress(b.loaded,b.total)},!1),a.$load&&b.upload.addEventListener("load",function(b){a.$load()},!1)}else if("POST"==c&&a.files){d=new FormData;for(var f=0;f<a.files.length;f++)d.append("file"+f,a.files[f])}else"POST"==c&&a.parameters?(d=hui.request._buildPostBody(a.parameters),b.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8")):d="";if(a.headers)for(var g in a.headers)b.setRequestHeader(g,a.headers[g]);return b.send(d),b}},hui.request.isXMLResponse=function(a){return a.responseXML&&a.responseXML.documentElement&&"parsererror"!=a.responseXML.documentElement.nodeName},hui.request._buildPostBody=function(a){if(!a)return null;var b,c="";if(hui.isArray(a))for(var d=0;d<a.length;d++)b=a[d],d>0&&(c+="&"),c+=encodeURIComponent(b.name)+"=",void 0!==b.value&&null!==b.value&&(c+=encodeURIComponent(b.value));else for(b in a)c.length>0&&(c+="&"),c+=encodeURIComponent(b)+"=",void 0!==a[b]&&null!==a[b]&&(c+=encodeURIComponent(a[b]));return c},hui.style={copy:function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d],f=hui.style.get(a,e);f&&(b.style[hui.string.camelize(e)]=f)}},set:function(a,b){for(var c in b)"transform"===c?a.style.webkitTransform=b[c]:"opacity"===c?hui.style.setOpacity(a,b[c]):a.style[c]=b[c]},get:function(a,b){a=hui.get(a);var c=hui.string.camelize(b),d=a.style[c];if(!d)if(document.defaultView&&document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(a,null);d=e?e.getPropertyValue(b):null}else a.currentStyle&&(d=a.currentStyle[c]);return window.opera&&hui.array.contains(["left","top","right","bottom"],b)&&"static"==hui.style.get(a,"position")&&(d="auto"),"auto"==d?"":d},setOpacity:function(a,b){hui.browser.opacity?a.style.opacity=b:1==b?a.style.filter=null:a.style.filter="alpha(opacity="+100*b+")"},length:function(a){return"number"==typeof a?a+"px":a}},hui.frame={getDocument:function(a){return a.contentDocument?a.contentDocument:a.contentWindow?a.contentWindow.document:a.document?a.document:void 0},getWindow:function(a){return a.defaultView?a.defaultView:a.contentWindow?a.contentWindow:void 0}},hui.selection={clear:function(){var a;document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(a=window.getSelection(),a&&a.removeAllRanges&&a.removeAllRanges())},getText:function(a){return a=a||document,a.getSelection?a.getSelection()+"":a.selection?a.selection.createRange().text:""},getNode:function(a){if(a=a||document,a.getSelection){var b=a.getSelection().getRangeAt(0);return"function"==typeof b.commonAncestorContainer?b.commonAncestorContainer():b.commonAncestorContainer}return null},get:function(a){return{node:hui.selection.getNode(a),text:hui.selection.getText(a)}},enable:function(a){document.onselectstart=a?null:function(){return!1},document.body.style.webkitUserSelect=a?null:"none"}},hui.effect={makeFlippable:function(a){hui.browser.webkit?(hui.cls.add(a.container,"hui_flip_container"),hui.cls.add(a.front,"hui_flip_front"),hui.cls.add(a.back,"hui_flip_back")):(hui.cls.add(a.front,"hui_flip_front_legacy"),hui.cls.add(a.back,"hui_flip_back_legacy"))},flip:function(a){if(hui.browser.webkit){var b=hui.get(a.element),c=a.duration||"1s",d=hui.get.firstByClass(b,"hui_flip_front"),e=hui.get.firstByClass(b,"hui_flip_back");d.style.webkitTransitionDuration=c,e.style.webkitTransitionDuration=c,hui.cls.toggle(a.element,"hui_flip_flipped")}else hui.cls.toggle(a.element,"hui_flip_flipped_legacy")},bounceIn:function(a){var b=a.element;hui.browser.msie?hui.style.set(b,{display:"block",visibility:"visible"}):(hui.style.set(b,{display:"block",opacity:0,visibility:"visible"}),hui.animate(b,"transform","scale(0.1)",0),window.setTimeout(function(){hui.animate(b,"opacity",1,300),hui.animate(b,"transform","scale(1)",400,{ease:hui.ease.backOut})}))},fadeIn:function(a){var b=a.element;"none"==hui.style.get(b,"display")&&hui.style.set(b,{opacity:0,display:"inherit"}),hui.animate({node:b,css:{opacity:1},delay:a.delay||null,duration:a.duration||500,$complete:a.onComplete||a.$complete})},fadeOut:function(a){hui.animate({node:a.element,css:{opacity:0},delay:a.delay||null,duration:a.duration||500,hideOnComplete:!0,complete:a.onComplete||a.$complete})},wiggle:function(a){hui.ui.getElement(a.element);hui.cls.add(a.element,"hui_effect_wiggle"),window.setTimeout(function(){hui.cls.remove(a.element,"hui_effect_wiggle")},a.duration||1e3)},shake:function(a){this._do(a.element,"hui_effect_shake",a.duration||1e3)},tada:function(a){this._do(a.element,"hui_effect_tada",1e3)},_do:function(a,b,c){a=hui.ui.getElement(a),hui.cls.add(a,b),window.setTimeout(function(){hui.cls.remove(a,b)},c)}},hui.document={getWidth:function(){return Math.max(document.body.clientWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth)},getHeight:function(){if(hui.browser.msie6){for(var a=Math.max(document.body.clientHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight),b=document.body.childNodes,c=0;c<b.length;c++)hui.dom.isElement(b[c])&&(a=Math.max(a,b[c].clientHeight));return a}return window.scrollMaxY&&window.innerHeight?window.scrollMaxY+window.innerHeight:Math.max(document.body.clientHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight)}},hui.drag={attach:function(a){var b=a.touch&&hui.browser.touch;hui.listen(a.element,b?"touchstart":"mousedown",function(b){b=hui.event(b),a.$check&&a.$check(b)===!1||(b.stop(),hui.drag.start(a,b))})},register:function(a){this.attach(a)},start:function(a,b){var c=hui.browser.msie?document:window,d=a.touch&&hui.browser.touch;a.$before&&a.$before(),a.onStart&&a.onStart();var e,f,g=({x:b.getLeft(),y:b.getTop(),time:Date.now()},!1);e=function(b){b=hui.event(b),b.stop(b),g||(a.onBeforeMove&&a.onBeforeMove(b),a.$startMove&&a.$startMove(b)),g=!0,a.onMove&&a.onMove(b),a.$move&&a.$move(b)}.bind(this),hui.listen(document.body,d?"touchmove":"mousemove",e),f=function(){hui.unListen(document.body,d?"touchmove":"mousemove",e),hui.unListen(c,d?"touchend":"mouseup",f),a.onEnd&&a.onEnd(),g?(a.onAfterMove&&a.onAfterMove(),a.$endMove&&a.$endMove()):(a.onNotMoved&&a.onNotMoved(),a.$notMoved&&a.$notMoved()),a.$finally&&a.$finally(),hui.selection.enable(!0)}.bind(this),hui.listen(c,d?"touchend":"mouseup",f),hui.selection.enable(!1)},_nativeListeners:[],_activeDrop:null,listen:function(a){hui.browser.msie||(hui.drag._nativeListeners.push(a),hui.drag._nativeListeners.length>1||(hui.listen(document.body,"dragenter",function(a){for(var b=hui.drag._nativeListeners,c=null,d=0;d<b.length;d++){var e=b[d].element;if(hui.dom.isDescendantOrSelf(a.target,e)){c=b[d],(null===hui.drag._activeDrop||hui.drag._activeDrop!=c)&&hui.cls.add(e,c.hoverClass);break}}hui.drag._activeDrop&&(hui.drag._activeDrop!=c?(hui.cls.remove(hui.drag._activeDrop.element,hui.drag._activeDrop.hoverClass),hui.drag._activeDrop.$leave&&hui.drag._activeDrop.$leave(a)):hui.drag._activeDrop.$hover&&hui.drag._activeDrop.$hover(a)),hui.drag._activeDrop=c}),hui.listen(document.body,"dragover",function(a){hui.stop(a),hui.drag._activeDrop&&hui.drag._activeDrop.$hover&&hui.drag._activeDrop.$hover(a)}),hui.listen(document.body,"dragend",function(a){hui.log("drag end")}),hui.listen(document.body,"dragstart",function(a){hui.log("drag start")}),hui.listen(document.body,"drop",function(a){var b=hui.event(a);b.stop();var c=hui.drag._activeDrop;if(hui.drag._activeDrop=null,c&&(hui.cls.remove(c.element,c.hoverClass),c.$drop&&c.$drop(a,{event:b}),a.dataTransfer))if(hui.log(a.dataTransfer.types),c.$dropFiles&&a.dataTransfer.files&&a.dataTransfer.files.length>0)c.$dropFiles(a.dataTransfer.files,{event:b});else if(c.$dropURL&&null!==a.dataTransfer.types&&(hui.array.contains(a.dataTransfer.types,"public.url")||hui.array.contains(a.dataTransfer.types,"text/uri-list"))){var d=a.dataTransfer.getData("public.url"),e=a.dataTransfer.getData("text/uri-list");d&&!hui.string.startsWith(d,"data:")?c.$dropURL(d,{event:b}):e&&!hui.string.startsWith(d,"data:")&&c.$dropURL(e,{event:b})}else c.$dropText&&null!==a.dataTransfer.types&&hui.array.contains(a.dataTransfer.types,"text/plain")&&c.$dropText(a.dataTransfer.getData("text/plain"),{event:b})})))}},hui.Preloader=function(a){this.options=a||{},this.delegate={},this.images=[],this.loaded=0},hui.Preloader.prototype={addImages:function(a){if("object"==typeof a)for(var b=0;b<a.length;b++)this.images.push(a[b]);else this.images.push(a)},setDelegate:function(a){this.delegate=a},load:function(a){a=a||0;var b=this;this.obs=[];for(var c=function(){b._imageChanged(this.huiPreloaderIndex,"imageDidLoad")},d=function(){b._imageChanged(this.huiPreloaderIndex,"imageDidGiveError")},e=function(){b._imageChanged(this.huiPreloaderIndex,"imageDidAbort")},f=a;f<this.images.length+a;f++){var g=f;g>=this.images.length&&(g-=this.images.length);var h=new Image;h.huiPreloaderIndex=g,h.onload=c,h.onerror=d,h.onabort=e,h.src=(this.options.context?this.options.context:"")+this.images[g],this.obs.push(h)}},_imageChanged:function(a,b){this.loaded++,this.delegate[b]&&this.delegate[b](this.loaded,this.images.length,a),this.loaded==this.images.length&&this.delegate.allImagesDidLoad&&this.delegate.allImagesDidLoad()}},hui.cookie={set:function(a,b,c){var d;if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=a+"="+b+d+"; path=/"},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},clear:function(a){this.set(a,"",-1)}},hui.location={getParameter:function(a){for(var b=hui.location.getParameters(),c=0;c<b.length;c++)if(b[c].name==a)return b[c].value;return null},setParameter:function(a,b){for(var c=hui.location.getParameters(),d=!1,e=0;e<c.length;e++)if(c[e].name==a){c[e].value=b,d=!0;break}d||c.push({name:a,value:b}),hui.location.setParameters(c)},hasHash:function(a){var b=document.location.hash;return""!==b?b=="#"+a:!1},getHash:function(){var a=document.location.hash;return""!==a?a.substring(1):null},getHashParameter:function(a){var b=document.location.hash;if(""!==b){var c=b.indexOf(a+"=");if(-1!==c){var d=b.substring(c+a.length+1);return-1!==d.indexOf("&")?d.substring(0,d.indexOf("&")):d}}return null},clearHash:function(){document.location.hash="#"},setParameters:function(a){for(var b="",c=0;c<a.length;c++)b+=0===c?"?":"&",b+=a[c].name+"="+a[c].value;document.location.search=b},getBoolean:function(a){var b=hui.location.getParameter(a);return"true"==b||"1"==b},getInt:function(a){var b=parseInt(hui.location.getParameter(a));return isNaN(b)?null:b},getParameters:function(){for(var a=document.location.search.substring(1).split("&"),b=[],c=0;c<a.length;c++){var d=a[c].split("="),e=unescape(d[0]).replace(/^\s*|\s*$/g,""),f=unescape(d[1]).replace(/^\s*|\s*$/g,"");e&&b.push({name:e,value:f})}return b}},window.define&&define("hui",hui),hui._onReady(function(){hui._ready=!0;for(var a=0;a<hui._.length;a++)hui._[a]();delete hui._}),hui=window.hui||{},hui.animate=function(a,b,c,d,e){if("string"==typeof a||hui.dom.isElement(a))hui.animation.get(a).animate(null,c,b,d,e);else{var f=hui.animation.get(a.node);if(a.property)f.animate(null,a.value,a.property,a.duration,a);else if(a.css){var g=a;for(var h in a.css)f.animate(null,a.css[h],h,a.duration,g),g=hui.override({},a),g.$complete=void 0}else f.animate(null,"","",a.duration,a)}},hui.animation={objects:{},running:!1,latestId:0,get:function(a){return a=hui.get(a),a.huiAnimationId||(a.huiAnimationId=this.latestId++),this.objects[a.huiAnimationId]||(this.objects[a.huiAnimationId]=new hui.animation.Item(a)),this.objects[a.huiAnimationId]},start:function(){this.running||hui.animation._render()}},hui.animation._lengthUpater=function(a,b,c){a.style[c.property]=c.from+(c.to-c.from)*b+(null!=c.unit?c.unit:"")},hui.animation._transformUpater=function(a,b,c){var d=c.transform,e="";d.rotate&&(e+=" rotate("+(d.rotate.from+(d.rotate.to-d.rotate.from)*b)+d.rotate.unit+")"),d.scale&&(e+=" scale("+(d.scale.from+(d.scale.to-d.scale.from)*b)+")"),a.style[hui.animation.TRANSFORM]=e},hui.animation._colorUpater=function(a,b,c){var d=Math.round(c.from.red+(c.to.red-c.from.red)*b),e=Math.round(c.from.green+(c.to.green-c.from.green)*b),f=Math.round(c.from.blue+(c.to.blue-c.from.blue)*b);if(c.to.alpha<255||c.from.alpha<255){var g=Math.max(0,Math.min(1,c.from.alpha+(c.to.alpha-c.from.alpha)*b));a.style[c.property]="rgba("+d+","+e+","+f+","+g+")",hui.log("rgba("+d+","+e+","+f+","+g+")")}else a.style[c.property]="rgb("+d+","+e+","+f+")"},hui.animation._propertyUpater=function(a,b,c){a[c.property]=Math.round(c.from+(c.to-c.from)*b)},hui.animation._ieOpacityUpdater=function(a,b,c){var d=c.from+(c.to-c.from)*b;1==d?a.style.removeAttribute("filter"):a.style.filter="alpha(opacity="+100*d+")"},hui.animation._render=function(){hui.animation.running=!0;var a=!1,b=Date.now();for(var c in hui.animation.objects){var d=hui.animation.objects[c];if(d.work)for(var e=d.element,f=0;f<d.work.length;f++){var g=d.work[f];if(!g.finished){var h=(b-g.start)/(g.end-g.start);if(0>h)a=!0;else{isNaN(h)||h>1?h=1:1>h&&(a=!0);var i=h;g.delegate&&g.delegate.ease&&(i=g.delegate.ease(i)),g.delegate&&g.delegate.$render?g.delegate.$render(e,i):g.delegate&&g.delegate.callback?g.delegate.callback(e,i):g.updater&&g.updater(e,i,g),1==h&&(g.finished=!0,g.delegate&&g.delegate.$complete?window.setTimeout(g.delegate.$complete):g.delegate&&g.delegate.onComplete?window.setTimeout(g.delegate.onComplete):g.delegate&&g.delegate.hideOnComplete&&(e.style.display="none"))}}}}a?hui.onDraw(hui.animation._render):hui.animation.running=!1},hui.animation._parseStyle=function(a){var b,c={type:null,value:null,unit:null
};if(!hui.isDefined(a))return c;if(isNaN(a))if(b=a.match(/([\-]?[0-9\.]+)(px|pt|%)/))c.type="length",c.value=parseFloat(b[1]),c.unit=b[2];else if(b=a.match(/rgb\(([0-9]+),[ ]?([0-9]+),[ ]?([0-9]+)\)/))c.type="color",c.value={red:parseInt(b[1]),green:parseInt(b[2]),blue:parseInt(b[3]),alpha:1};else if(b=a.match(/rgba\(([0-9]+),[ ]?([0-9]+),[ ]?([0-9]+),[ ]?([\.0-9]+)\)/))c.type="color",c.value={red:parseInt(b[1]),green:parseInt(b[2]),blue:parseInt(b[3]),alpha:parseFloat(b[4])};else{var d=new hui.Color(a);d.ok&&(c.type="color",c.value={red:d.r,green:d.g,blue:d.b,alpha:1})}else c.value=parseFloat(a);return c},hui.animation.Item=function(a){this.element=a,this.work=[]},hui.animation.Item.prototype.animate=function(a,b,c,d,e){var f=this.getWork(hui.string.camelize(c));f.delegate=e,f.finished=!1;var g=!("scrollLeft"==c||"scrollTop"==c||""==c);if(null!==a)f.from=a;else if("transform"==c)f.transform=hui.animation.Item.parseTransform(b,this.element);else if(hui.browser.opacity||"opacity"!=c)if(g){var h=hui.style.get(this.element,c),i=hui.animation._parseStyle(h);f.from=i.value}else f.from=this.element[c];else f.from=this._getIEOpacity(this.element);if(g){var j=hui.animation._parseStyle(b);f.to=j.value,f.unit=j.unit,hui.browser.opacity||"opacity"!=c?"transform"==c?f.updater=hui.browser.msie?function(){}:hui.animation._transformUpater:"color"==j.type?f.updater=hui.animation._colorUpater:f.updater=hui.animation._lengthUpater:f.updater=hui.animation._ieOpacityUpdater}else f.to=b,f.unit=null,f.updater=hui.animation._propertyUpater;f.start=Date.now(),e&&e.delay&&(f.start+=e.delay),f.end=f.start+d,hui.animation.start()},hui.animation.TRANSFORM=function(){var a=navigator.userAgent,b=-1!==a.indexOf("Gecko")&&-1===a.indexOf("WebKit");return b?"MozTransform":"WebkitTransform"}(),hui.animation.Item.parseTransform=function(a,b){var c,d,e={},f=/rotate\(([0-9\.]+)([a-z]+)\)/i,g=a.match(f);g&&(c=0,b.style[hui.animation.TRANSFORM]&&(d=b.style[hui.animation.TRANSFORM].match(f),d&&(c=parseFloat(d[1]))),e.rotate={from:c,to:parseFloat(g[1]),unit:g[2]});var h=/scale\(([0-9\.]+)\)/i,i=a.match(h);return i&&(c=1,b.style[hui.animation.TRANSFORM]&&(d=b.style[hui.animation.TRANSFORM].match(h),d&&(c=parseFloat(d[1]))),e.scale={from:c,to:parseFloat(i[1])}),e},hui.animation.Item.prototype._getIEOpacity=function(a){var b,c=hui.style.get(a,"filter").toLowerCase();return(b=c.match(/opacity=([0-9]+)/))?parseFloat(b[1])/100:1},hui.animation.Item.prototype.getWork=function(a){for(var b=this.work.length-1;b>=0;b--)if(this.work[b].property===a)return this.work[b];var c={property:a};return this.work[this.work.length]=c,c},hui.animation.Loop=function(a){this.recipe=a,this.position=-1,this.running=!1},hui.animation.Loop.prototype.next=function(){this.position++,this.position>=this.recipe.length&&(this.position=0);var a=this.recipe[this.position];"function"==typeof a?a():a.element&&hui.animate(a.element,a.property,a.value,a.duration,{ease:a.ease});var b=this,c=a.duration||0;void 0!==a.wait&&(c=a.wait),window.setTimeout(function(){b.next()},c)},hui.animation.Loop.prototype.start=function(){this.running=!0,this.next()},hui.ease={slowFastSlow:function(a){var b=1.6,c=1.4;return-1*Math.pow(Math.cos(Math.PI/2*Math.pow(a,b)),Math.pow(Math.PI,c))+1},fastSlow:function(a){var b=.5,c=.7;return-1*Math.pow(Math.cos(Math.PI/2*Math.pow(a,b)),Math.pow(Math.PI,c))+1},elastic:function(a){return 1-hui.ease.elastic2(1-a)},elastic2:function(a,b,c){if(0>=a||a>=1)return a;c||(c=.45);var d;return!b||1>b?(b=1,d=c/4):d=c/(2*Math.PI)*Math.asin(1/b),-(b*Math.pow(2,10*(a-=1))*Math.sin(2*(a-d)*Math.PI/c))},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},flicker:function(a){return 1==a?1:Math.random()*a},quadIn:function(a){return Math.pow(a,2)},quadOut:function(a){return a*(a-2)*-1},quadInOut:function(a){return a=2*a,1>a?Math.pow(a,2)/2:-1*(--a*(a-2)-1)/2},cubicIn:function(a){return Math.pow(a,3)},cubicOut:function(a){return Math.pow(a-1,3)+1},cubicInOut:function(a){return a=2*a,1>a?Math.pow(a,3)/2:(a-=2,(Math.pow(a,3)+2)/2)},quartIn:function(a){return Math.pow(a,4)},quartOut:function(a){return-1*(Math.pow(a-1,4)-1)},quartInOut:function(a){return a=2*a,1>a?Math.pow(a,4)/2:(a-=2,-0.5*(Math.pow(a,4)-2))},quintIn:function(a){return Math.pow(a,5)},quintOut:function(a){return Math.pow(a-1,5)+1},quintInOut:function(a){return a=2*a,1>a?Math.pow(a,5)/2:(a-=2,(Math.pow(a,5)+2)/2)},sineIn:function(a){return-1*Math.cos(a*(Math.PI/2))+1},sineOut:function(a){return Math.sin(a*(Math.PI/2))},sineInOut:function(a){return-1*(Math.cos(Math.PI*a)-1)/2},expoIn:function(a){return 0==a?0:Math.pow(2,10*(a-1))},expoOut:function(a){return 1==a?1:-1*Math.pow(2,-10*a)+1},expoInOut:function(a){return 0==a?0:1==a?1:(a=2*a,1>a?Math.pow(2,10*(a-1))/2:(--a,(-1*Math.pow(2,-10*a)+2)/2))},circIn:function(a){return-1*(Math.sqrt(1-Math.pow(a,2))-1)},circOut:function(a){return a-=1,Math.sqrt(1-Math.pow(a,2))},circInOut:function(a){return a=2*a,1>a?-0.5*(Math.sqrt(1-Math.pow(a,2))-1):(a-=2,.5*(Math.sqrt(1-Math.pow(a,2))+1))},backIn:function(a){var b=1.70158;return Math.pow(a,2)*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return Math.pow(a,2)*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return a=2*a,1>a?Math.pow(a,2)*((b+1)*a-b)/2:(a-=2,(Math.pow(a,2)*((b+1)*a+b)+2)/2)},elasticIn:function(a){if(0==a)return 0;if(1==a)return 1;var b=.3,c=b/4;return a-=1,-1*Math.pow(2,10*a)*Math.sin(2*(a-c)*Math.PI/b)},elasticOut:function(a){if(0==a)return 0;if(1==a)return 1;var b=.3,c=b/4;return Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/b)+1},elasticInOut:function(a){if(0==a)return 0;if(a=2*a,2==a)return 1;var b=.3*1.5,c=b/4;return 1>a?(a-=1,-.5*Math.pow(2,10*a)*Math.sin(2*(a-c)*Math.PI/b)):(a-=1,.5*Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/b)+1)},bounceIn:function(a){return 1-hui.ease.bounceOut(1-a)},bounceOut:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*Math.pow(a,2):2/d>a?(a-=1.5/d,b=c*Math.pow(a,2)+.75):2.5/d>a?(a-=2.25/d,b=c*Math.pow(a,2)+.9375):(a-=2.625/d,b=c*Math.pow(a,2)+.984375),b},bounceInOut:function(a){return.5>a?hui.ease.bounceIn(2*a)/2:hui.ease.bounceOut(2*a-1)/2+.5}},Date.now||(Date.now=function(){return(new Date).getTime()}),hui.onReady(function(){hui.define("hui.animation",hui.animation)}),hui=window.hui||{},hui.Color=function(a){if(this.ok=!1,hui.isArray(a)&&3==a.length&&(this.r=a[0],this.g=a[1],this.b=a[2]),!hui.isBlank(a)&&hui.isString(a)){"#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase();for(var b in hui.Color.table)a==b&&(a=hui.Color.table[b]);for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^rgb\((\d{1,3})%,\s*(\d{1,3})%,\s*(\d{1,3})%\)$/,process:function(a){return[Math.round(parseInt(a[1])/100*255),Math.round(parseInt(a[2])/100*255),Math.round(parseInt(a[3])/100*255)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],d=0;d<c.length;d++){var e=c[d].re,f=c[d].process,g=e.exec(a);if(g){var h=f(g);this.r=h[0],this.g=h[1],this.b=h[2],this.ok=!0;break}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}},hui.Color.prototype={r:0,g:0,b:0,toRGB:function(){return"rgb("+this.r+","+this.g+","+this.b+")"},isDefined:function(){return!(void 0===this.r||void 0===this.g||void 0===this.b)},toHex:function(){if(!this.isDefined())return null;var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),"#"+a+b+c}},hui.Color.table={white:"ffffff",black:"000000",red:"ff0000",green:"00ff00",blue:"0000ff"},hui.Color.hex2rgb=function(a){if(hui.isBlank(a))return null;if("#"==a[0]&&(a=a.substr(1)),3==a.length){var b=a;a="",b=/^([a-f0-9])([a-f0-9])([a-f0-9])$/i.exec(b).slice(1);for(var c=0;3>c;c++)a+=b[c]+b[c]}var d=/^([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(a).slice(1);return{r:parseInt(d[0],16),g:parseInt(d[1],16),b:parseInt(d[2],16)}},hui.Color.hsv2rgb=function(a,b,c){var d,e,f,g=a/360;if(0===b)d=255*c,e=255*c,f=255*c;else{var h,i,j,k=6*g,l=Math.floor(k),m=c*(1-b),n=c*(1-b*(k-l)),o=c*(1-b*(1-(k-l)));0===l?(h=c,i=o,j=m):1===l?(h=n,i=c,j=m):2==l?(h=m,i=c,j=o):3==l?(h=m,i=n,j=c):4==l?(h=o,i=m,j=c):(h=c,i=m,j=n),d=Math.round(255*h),e=Math.round(255*i),f=Math.round(255*j)}return new Array(d,e,f)},hui.Color.rgb2hsv=function(a,b,c){a/=255,b/=255,c/=255;var d,e,f=Math.min(Math.min(a,b),c),g=Math.max(Math.max(a,b),c),h=g;return g==f?e=0:g==a?e=60*((b-c)/(g-f))%360:g==b?e=60*((c-a)/(g-f))+120:g==c&&(e=60*((a-b)/(g-f))+240),0>e&&(e+=360),d=0===g?0:1-f/g,[Math.round(e),Math.round(100*d),Math.round(100*h)]},hui.Color.rgb2hex=function(a){for(var b="#",c=0;3>c;c++){var d=parseInt(a[c]).toString(16);d.length<2&&(d="0"+d),b+=d}return b},hui.onReady(function(){hui.define("hui.Color",hui.Color)}),!function(a,b,c){function d(a,b){q(a,function(a){return!b(a)})}function e(a,c){var d=b.createElement("script"),e=k;d.onload=d.onerror=d[p]=function(){d[n]&&!/^c|loade/.test(d[n])||e||(d.onload=d[p]=null,e=1,c())},d.async=1,d.src=a,f.insertBefore(d,f.firstChild)}var f=b.getElementsByTagName("head")[0],g={},h={},i={},j={},k=!1,l="push",m="DOMContentLoaded",n="readyState",o="addEventListener",p="onreadystatechange",q=function(a,b){for(var c=0,d=a.length;d>c;++c)if(!b(a[c]))return k;return 1};!b[n]&&b[o]&&(b[o](m,function t(){b.removeEventListener(m,t,k),b[n]="complete"},k),b[n]="loading");var r=function(a,b,f){function k(a){return a.call?a():g[a]}function m(){if(!--s){g[p]=1,o&&o();for(var a in i)q(a.split("|"),k)&&!d(i[a],k)&&(i[a]=[])}}a=a[l]?a:[a];var n=b&&b.call,o=n?b:f,p=n?a.join(""):b,s=a.length;return c(function(){d(a,function(a){return j[a]?(p&&(h[p]=1),void m()):(j[a]=1,p&&(h[p]=1),void e(r.path?r.path+a+".js":a,m))})},0),r};r.get=e,r.ready=function(a,b,c){a=a[l]?a:[a];var e=[];return!d(a,function(a){g[a]||e[l](a)})&&q(a,function(a){return g[a]})?b():!function(a){i[a]=i[a]||[],i[a][l](b),c&&c(e)}(a.join("|")),r};var s=a.$script;r.noConflict=function(){return a.$script=s,this},"undefined"!=typeof module&&module.exports?module.exports=r:a.hui.require=r}(this,document,setTimeout),hui.parallax={_listeners:[],_init:function(){this._listening||(this._listening=!0,hui.listen(window,"scroll",this._scroll.bind(this)),hui.listen(window,"resize",this._resize.bind(this)),hui.onReady(this._resize.bind(this)))},_resize:function(){for(var a=this._listeners.length-1;a>=0;a--){var b=this._listeners[a];b.$resize&&b.$resize(hui.window.getViewWidth(),hui.window.getViewHeight())}this._scroll()},_scroll:function(){for(var a=hui.window.getScrollTop(),b=hui.window.getViewHeight(),c=this._listeners.length-1;c>=0;c--){var d=this._listeners[c];if(d.$scroll)if(d.debug&&!d.debugElement&&(d.debugElement=hui.build("div",{style:"position: absolute; border-top: 1px solid red; left: 0; right: 0;",parent:document.body})),d.element){var e=hui.position.getTop(d.element);e+=d.element.clientHeight/2;var f=e-a,g=f/b;d.debugElement&&(d.debugElement.style.top=e+"px",d.debugElement.innerHTML="<span>"+g+"</span>"),d.$scroll(g)}else{var h=(a-d.min)/(d.max-d.min),i=hui.between(0,h,1);d._latest!==i&&(d.$scroll(i),d._latest=i)}}},listen:function(a){this._listeners.push(a),this._init()}},window.define&&define("hui.parallax",hui.parallax),hui.ui={domReady:!1,context:"",language:"en",objects:{},delegates:[],state:"default",latestObjectIndex:0,latestIndex:500,latestPanelIndex:1e3,latestAlertIndex:1500,latestTopIndex:2e3,toolTips:{},confirmOverlays:{},delayedUntilReady:[],texts:{request_error:{en:"An error occurred on the server",da:"Der skete en fejl pÃ¥ serveren"},"continue":{en:"Continue",da:"FortsÃ¦t"},reload_page:{en:"Reload page",da:"IndÃ¦s siden igen"},access_denied:{en:"Access denied, maybe you are nolonger logged in",da:"Adgang nÃ¦gtet, du er mÃ¥ske ikke lÃ¦ngere logget ind"}}},hui.ui.get=function(a){return a?a.element?a:hui.ui.objects[a]:void 0},hui.ui.is=function(a,b){return a.__proto__==b.prototype},hui.ui.onReady=function(a){return hui.ui.domReady?a():hui.browser.gecko&&hui.string.endsWith(document.baseURI,"xml")?void window.setTimeout(a,1e3):void hui.ui.delayedUntilReady.push(a)},hui.ui._frameLoaded=function(a){hui.ui.callSuperDelegates(this,"frameLoaded",a)},hui.ui._resize=function(){hui.ui.reLayout(),window.clearTimeout(this._delayedResize),hui.ui._resizeFirst||(this._delayedResize=window.setTimeout(hui.ui._afterResize,500))},hui.ui._afterResize=function(){hui.onDraw(function(){hui.ui.callSuperDelegates(hui.ui,"$afterResize");for(key in hui.ui.objects){var a=hui.ui.objects[key];a.$$draw&&a.$$draw()}})},hui.ui.confirmOverlay=function(a){var b,c=a.element;c||(c=document.body),a.widget&&(c=a.widget.getElement()),hui.ui.confirmOverlays[c]?(b=hui.ui.confirmOverlays[c],b.clear()):(b=hui.ui.Overlay.create({modal:!0}),hui.ui.confirmOverlays[c]=b),a.text&&b.addText(hui.ui.getTranslated(a.text));var d=hui.ui.Button.create({text:hui.ui.getTranslated(a.okText)||"OK",highlighted:"true"});d.click(function(){a.onOk?a.onOk():a.$ok&&a.$ok(),b.hide()}),b.add(d);var e=hui.ui.Button.create({text:hui.ui.getTranslated(a.cancelText)||"Cancel"});e.onClick(function(){a.onCancel?a.onCancel():a.$cancel&&a.$cancel(),b.hide()}),b.add(e),b.show({element:c})},hui.ui.destroy=function(a){"function"==typeof a.destroy&&a.destroy(),delete hui.ui.objects[a.name]},hui.ui.destroyDescendants=function(a){for(var b=hui.ui.getDescendants(a),c=(hui.ui.objects,0);c<b.length;c++)hui.ui.destroy(b[c])},hui.ui.getAncestors=function(a){var b=[],c=a.element;if(c){var d=hui.get.ancestors(c),e=[];for(var f in hui.ui.objects)e.push(hui.ui.objects[f]);for(var g=0;g<d.length;g++)for(var h=0;h<e.length;h++)e[h].element==d[g]&&b.push(e[h])}return b},hui.ui.getDescendants=function(a){var b=[];if(a){var c=a.getElement?a.getElement():a;if(c){var d=c.getElementsByTagName("*"),e=[];for(var f in hui.ui.objects)e.push(hui.ui.objects[f]);for(var g=0;g<d.length;g++)for(var h=0;h<e.length;h++)d[g]==e[h].element&&b.push(e[h])}}return b},hui.ui.getAncestor=function(a,b){for(var c=hui.ui.getAncestors(a),d=0;d<c.length;d++)if(hui.cls.has(c[d].getElement(),b))return c[d];return null},hui.ui.getComponents=function(a){var b=[],c=hui.ui.objects;for(var d in c)a(c[d])&&b.push(c[d]);return b},hui.ui.changeState=function(a){if(hui.ui.state!==a){var b,c,d=hui.ui.objects;for(b in d)c=d[b],c.options&&c.options.state&&(c.options.state==a?c.show():c.hide());hui.ui.state=a,this.reLayout()}},hui.ui.reLayout=function(){for(var a=hui.ui.getDescendants(document.body),b=0;b<a.length;b++){var c=a[b];c.$$layout&&c.$$layout()}},hui.ui.nextIndex=function(){return hui.ui.latestIndex++,hui.ui.latestIndex},hui.ui.nextPanelIndex=function(){return hui.ui.latestPanelIndex++,hui.ui.latestPanelIndex},hui.ui.nextAlertIndex=function(){return hui.ui.latestAlertIndex++,hui.ui.latestAlertIndex},hui.ui.nextTopIndex=function(){return hui.ui.latestTopIndex++,hui.ui.latestTopIndex},hui.ui.showCurtain=function(a){var b=a.widget;if(!b.curtain){b.curtain=hui.build("div",{"class":"hui_curtain",style:"z-index:none"});var c=hui.get.firstByClass(document.body,"hui_body");c||(c=document.body),c.appendChild(b.curtain),hui.listen(b.curtain,"click",function(){b.$curtainWasClicked&&b.$curtainWasClicked()})}var d=b.curtain;if(a.transparent)d.style.background="none";else if(a.color)if("auto"==a.color){var e=hui.style.get(document.body,"background-color");("transparent"==e||"rgba(0, 0, 0, 0)"==e)&&(e="#fff"),d.style.backgroundColor=e}else d.style.backgroundColor=a.color;hui.browser.msie?d.style.height=hui.document.getHeight()+"px":(d.style.position="fixed",d.style.top="0",d.style.left="0",d.style.bottom="0",d.style.right="0"),d.style.zIndex=a.zIndex,a.transparent?d.style.display="block":(hui.style.setOpacity(d,0),d.style.display="block",hui.animate(d,"opacity",.7,1e3,{ease:hui.ease.slowFastSlow}))},hui.ui.hideCurtain=function(a){a.curtain&&hui.animate(a.curtain,"opacity",0,200,{hideOnComplete:!0})},hui.ui.getText=function(a){var b=this.texts[a];return b?b[this.language]?b[this.language]:b.en:a},hui.ui.getTranslated=function(a){if(!hui.isDefined(a)||hui.isString(a)||"number"==typeof a)return a;if(a[hui.ui.language])return a[hui.ui.language];if(a[null])return a[null];for(var b in a)return a[b]},hui.ui.confirm=function(a){a.name||(a.name="huiConfirm");var b,c=hui.ui.get(a.name);if(c)c.update(a),b=hui.ui.get(name+"_ok"),b.setText(a.ok||"OK"),b.setHighlighted("ok"==a.highlighted),b.clearListeners(),hui.ui.get(name+"_cancel").setText(a.ok||"Cancel"),hui.ui.get(name+"_cancel").setHighlighted("cancel"==a.highlighted),a.cancel&&hui.ui.get(name+"_cancel").setText(a.cancel);else{c=hui.ui.Alert.create(a);var d=hui.ui.Button.create({name:name+"_cancel",text:a.cancel||"Cancel",highlighted:"cancel"===a.highlighted});d.listen({$click:function(){c.hide(),a.onCancel&&a.onCancel(),hui.ui.callDelegates(c,"cancel")}}),c.addButton(d),b=hui.ui.Button.create({name:name+"_ok",text:a.ok||"OK",highlighted:"ok"===a.highlighted}),c.addButton(b)}b.listen({$click:function(){c.hide(),a.onOK&&a.onOK(),hui.ui.callDelegates(c,"ok")}}),c.show()},hui.ui.alert=function(a){this.alertBox?this.alertBox.update(a):(this.alertBox=hui.ui.Alert.create(a),this.alertBoxButton=hui.ui.Button.create({name:"huiAlertBoxButton",text:"OK"}),this.alertBoxButton.listen({$click$huiAlertBoxButton:function(){hui.ui.alertBox.hide(),hui.ui.alertBoxCallBack&&(hui.ui.alertBoxCallBack(),hui.ui.alertBoxCallBack=null)}}),this.alertBox.addButton(this.alertBoxButton)),this.alertBoxCallBack=a.onOK,this.alertBoxButton.setText(a.button?a.button:"OK"),this.alertBox.show()},hui.ui.showMessage=function(a){if("string"==typeof a&&(a={text:a}),a.delay)return void(hui.ui.messageDelayTimer=window.setTimeout(function(){a.delay=null,hui.ui.showMessage(a)},a.delay));window.clearTimeout(hui.ui.messageDelayTimer),hui.ui.message||(hui.ui.message=hui.build("div",{"class":"hui_message",html:"<div><div></div></div>"}),hui.browser.msie||hui.style.setOpacity(hui.ui.message,0),document.body.appendChild(hui.ui.message));var b=hui.ui.getTranslated(a.text)||"",c=hui.ui.message.getElementsByTagName("div")[1];a.icon?(hui.dom.clear(c),c.appendChild(hui.ui.createIcon(a.icon,24)),hui.dom.addText(c,b)):a.busy?(c.innerHTML='<span class="hui_message_busy"></span>',hui.dom.addText(c,b)):hui.dom.setText(c,b),hui.ui.message.style.display="block",hui.ui.message.style.zIndex=hui.ui.nextTopIndex(),hui.ui.message.style.marginLeft=hui.ui.message.clientWidth/-2+"px",hui.ui.message.style.marginTop=hui.window.getScrollTop()+"px",hui.browser.opacity&&hui.animate(hui.ui.message,"opacity",1,300),window.clearTimeout(hui.ui.messageTimer),a.duration&&(hui.ui.messageTimer=window.setTimeout(hui.ui.hideMessage,a.duration))},hui.ui.msg=hui.ui.showMessage,hui.ui.msg.success=function(a){a=hui.override({icon:"common/success",duration:2e3},a),hui.ui.msg(a)},hui.ui.msg.fail=function(a){a=hui.override({icon:"common/warning",duration:3e3},a),hui.ui.msg(a)},hui.ui.hideMessage=function(){window.clearTimeout(hui.ui.messageDelayTimer),hui.ui.message&&(hui.browser.opacity?hui.animate(hui.ui.message,"opacity",0,300,{hideOnComplete:!0}):hui.ui.message.style.display="none")},hui.ui.showToolTip=function(a){var b=a.key||"common",c=hui.ui.toolTips[b];c||(c=hui.build("div",{"class":"hui_tooltip",style:"display:none;",html:"<div><div></div></div>",parent:document.body}),hui.ui.toolTips[b]=c),c.onclick=function(){hui.ui.hideToolTip(a)};var d=hui.get(a.element),e=hui.position.get(d);hui.dom.setText(c.getElementsByTagName("div")[1],a.text),"none"==c.style.display&&hui.browser.opacity&&hui.style.setOpacity(c,0),hui.style.set(c,{display:"block",zIndex:hui.ui.nextTopIndex()}),hui.style.set(c,{left:e.left-c.clientWidth+4+"px",top:e.top+2-c.clientHeight/2+d.clientHeight/2+"px"}),hui.browser.opacity&&hui.animate(c,"opacity",1,300)},hui.ui.hideToolTip=function(a){var b=a?a.key||"common":"common",c=hui.ui.toolTips[b];c&&(hui.browser.msie?c.style.display="none":hui.animate(c,"opacity",0,300,{hideOnComplete:!0}))},hui.ui.getElement=function(a){return hui.dom.isElement(a)?a:a.getElement?a.getElement():null},hui.ui.isWithin=function(a,b){a=hui.event(a);var c=hui.position.get(b),d={width:b.offsetWidth,height:b.offsetHeight},e=a.getLeft(),f=a.getTop();return e>c.left&&e<c.left+d.width&&f>c.top&&f<c.top+d.height},hui.ui.getIconUrl=function(a,b){return hui.ui.context+"/hui/icons/"+a+b+".png"},hui.ui.createIcon=function(a,b,c){return hui.build(c||"span",{"class":"hui_icon hui_icon_"+b,style:"background-image: url("+hui.ui.getIconUrl(a,b)+")"})},hui.ui.addFocusClass=function(a){var b=a.classElement||a.element,c=a["class"];hui.listen(a.element,"focus",function(){hui.cls.add(b,c),a.widget&&hui.ui.setKeyboardTarget(a.widget)}),hui.listen(a.element,"blur",function(){hui.cls.remove(b,c),a.widget&&hui.ui.setKeyboardTarget(null)})},hui.ui.keyboardTarget=null,hui.ui.setKeyboardTarget=function(a){hui.ui.keyboardTarget=a},hui.ui.stress=function(a){var b=hui.ui.getElement(a);hui.effect.wiggle({element:b,duration:1e3})},hui.ui.positionAtElement=function(a,b,c){c=c||{},a=hui.get(a),b=hui.get(b);var d=hui.style.get(a,"display");"none"==d&&hui.style.set(a,{visibility:"hidden",display:"block"});var e=hui.position.getLeft(b),f=hui.position.getTop(b),g=c.vertical||null;c.horizontal&&"right"==c.horizontal&&(e=e+b.clientWidth-a.clientWidth),"topOutside"==g?f-=a.clientHeight:"bottomOutside"==g&&(f+=b.clientHeight),e+=c.left||0,f+=c.top||0,hui.style.set(a,{left:e+"px",top:f+"px"}),"none"==d&&hui.style.set(a,{visibility:"visible",display:"none"})},hui.ui.extend=function(a,b){void 0!==b&&(a.options&&(a.options=hui.override(a.options,b)),a.element=hui.get(b.element),a.name=b.name),a.name||(hui.ui.latestObjectIndex++,a.name="unnamed"+hui.ui.latestObjectIndex),hui.ui.registerComponent(a),a.delegates=[],a.listen=function(a){return hui.array.add(this.delegates,a),this},a.unListen=function(a){hui.array.remove(this.delegates,a)},a.clearListeners=function(){this.delegates=[]},a.fire=function(a,b,c){return hui.ui.callDelegates(this,a,b,c)},a.fireValueChange=function(){a.fire("valueChanged",a.value),hui.ui.firePropertyChange(a,"value",a.value),hui.ui.callAncestors(a,"childValueChanged",a.value)},a.fireProperty=function(a,b){hui.ui.firePropertyChange(this,a,b)},a.fireSizeChange=function(){hui.ui.callAncestors(a,"$$childSizeChanged")},a.getElement||(a.getElement=function(){return this.element}),a.destroy||(a.destroy=function(){this.element&&hui.dom.remove(this.element)}),a.valueForProperty||(a.valueForProperty=function(a){return this[a]}),a.nodes&&a.element&&(a.nodes=hui.collect(a.nodes,a.element))},hui.ui.registerComponent=function(a){hui.ui.objects[a.name]&&hui.log("Widget replaced: "+a.name,hui.ui.objects[a.name]),hui.ui.objects[a.name]=a},hui.ui.callAncestors=function(a,b,c,d){"undefined"==typeof c&&(c=a);for(var e=hui.ui.getAncestors(a),f=0;f<e.length;f++)e[f][b]&&e[f][b](c,d)},hui.ui.callDescendants=function(a,b,c,d){"undefined"==typeof c&&(c=a),"$"!==b[0]&&(b="$"+b);for(var e=hui.ui.getDescendants(a),f=0;f<e.length;f++)e[f][b]&&e[f][b](c,d)},hui.ui.callVisible=function(a){hui.ui.callDescendants(a,"$visibilityChanged")},hui.ui.listen=function(a){hui.ui.domReady&&a.$ready&&a.$ready(),hui.ui.delegates.push(a)},hui.ui.unListen=function(a){hui.array.remove(hui.ui.delegates,a)},hui.ui.callDelegates=function(a,b,c,d){"undefined"==typeof c&&(c=a);var e;if(a.delegates)for(var f=0;f<a.delegates.length;f++){var g,h=a.delegates[f],i="$"+b+"$"+a.name;a.name&&h[i]?g=h[i](c,d):h["$"+b]&&(g=h["$"+b](c,d)),void 0===e&&void 0!==g&&"undefined"!=typeof g&&(e=g)}var j=hui.ui.callSuperDelegates(a,b,c,d);return void 0===e&&void 0!==j&&(e=j),e},hui.ui.tellContainers=function(a,b){if(window.parent!=window)try{window.parent.hui.ui._tellContainers(a,b)}catch(c){}},hui.ui._tellContainers=function(a,b){if(hui.ui.callSuperDelegates({},a,b),window.parent!=window)try{window.parent.hui.ui._tellContainers(a,b)}catch(c){}},hui.ui.callSuperDelegates=function(a,b,c,d){"undefined"==typeof c&&(c=a);for(var e,f=0;f<hui.ui.delegates.length;f++){var g,h=hui.ui.delegates[f];a.name&&h["$"+b+"$"+a.name]?g=h["$"+b+"$"+a.name](c,d):h["$"+b]&&(g=h["$"+b](c,d)),void 0===e&&void 0!==g&&"undefined"!=typeof g&&(e=g)}return e},hui.ui.resolveImageUrl=function(a,b,c,d){for(var e=0;e<a.delegates.length;e++)if(a.delegates[e].$resolveImageUrl)return a.delegates[e].$resolveImageUrl(b,c,d);for(var f=0;f<hui.ui.delegates.length;f++){var g=hui.ui.delegates[f];if(g.$resolveImageUrl)return g.$resolveImageUrl(b,c,d)}return null},hui.ui.include=function(a){hui.ui.request({url:a.url,$text:function(b){var c=hui.build("div",{html:b,parent:document.body});hui.dom.runScripts(c),a.$success()}})},hui.ui.firePropertyChange=function(a,b,c){hui.ui.callDelegates(a,"propertyChanged",{property:b,value:c})},hui.ui.bind=function(a,b){if(hui.isString(a)&&"@"==a.charAt(0)){var c=a.substring(1).split("."),d=hui.ui.get(c[0]);if(!d)return void hui.log("Unable to bind to "+a);var e=c.slice(1).join(".");return d.listen({$propertyChanged:function(a){a.property==e&&b(a.value)}}),d.valueForProperty(e)}return a},hui.ui.handleRequestError=function(a){hui.log("General request error received");var b=hui.ui.callSuperDelegates(a||this,"requestError");b||hui.ui.confirmOverlay({element:document.body,text:hui.ui.getText("request_error"),okText:hui.ui.getText("reload_page"),cancelText:hui.ui.getText("continue"),onOk:function(){document.location.reload()}})},hui.ui.handleForbidden=function(a){hui.log("General access denied received");var b=hui.ui.callSuperDelegates(a||this,"accessDenied");b||hui.ui.confirmOverlay({element:document.body,text:hui.ui.getText("access_denied"),okText:hui.ui.getText("reload_page"),cancelText:hui.ui.getText("continue"),onOk:function(){document.location.reload()}})},hui.ui.request=function(a){if(a=hui.override({method:"post",parameters:{}},a),a.json)for(var b in a.json)a.parameters[b]=hui.string.toJSON(a.json[b]);var c=a.$success,d=a.$object,e=a.$text,f=a.$xml,g=a.$failure,h=a.$forbidden,i=a.message;a.$success=function(a){i&&(i.success?hui.ui.showMessage({text:i.success,icon:"common/success",duration:i.duration||2e3}):i.start&&hui.ui.hideMessage());var b,g;"string"==typeof c?hui.request.isXMLResponse(a)?hui.ui.callDelegates(a,"success$"+c):(b=a.responseText.replace(/^\s+|\s+$/g,""),g=b.length>0?hui.string.fromJSON(a.responseText):"",hui.ui.callDelegates(g,"success$"+c)):f&&hui.request.isXMLResponse(a)?f(a.responseXML):d?(b=a.responseText.replace(/^\s+|\s+$/g,""),g=b.length>0?hui.string.fromJSON(a.responseText):null,d(g)):"function"==typeof c?c(a):e&&e(a.responseText)},a.$failure=function(b){"string"==typeof g?hui.ui.callDelegates(b,"failure$"+g):"function"==typeof g?g(b):(a.message&&a.message.start&&hui.ui.hideMessage(),hui.ui.handleRequestError())},a.$exception=a.$exception||function(a,b){throw hui.log(a),hui.log(b),a},a.$forbidden=function(b){a.message&&a.message.start&&hui.ui.hideMessage(),h?h(b):(a.$failure(b),hui.ui.handleForbidden())},a.message&&a.message.start&&hui.ui.msg({text:a.message.start,busy:!0,delay:a.message.delay}),hui.request(a)},hui.ui.parseItems=function(a){var b=a.documentElement,c=[];return hui.ui.parseSubItems(b,c),c},hui.ui.parseSubItems=function(a,b){for(var c=a.childNodes,d=0;d<c.length;d++){var e=c[d];if(1==e.nodeType&&"title"==e.nodeName)b.push({title:e.getAttribute("title"),type:"title"});else if(1==e.nodeType&&"item"==e.nodeName){var f=[];hui.ui.parseSubItems(e,f),b.push({text:e.getAttribute("text"),title:e.getAttribute("title"),value:e.getAttribute("value"),icon:e.getAttribute("icon"),kind:e.getAttribute("kind"),badge:e.getAttribute("badge"),children:f})}}},hui.ui.require=function(a,b){for(var c=a.length-1;c>=0;c--)a[c]=hui.ui.context+"hui/js/"+a[c]+".js";hui.require(a,b)},window.define&&define("hui.ui",hui.ui),hui.onReady(function(){hui.listen(window,"resize",hui.ui._resize),hui.ui.reLayout(),hui.ui.domReady=!0,window.parent&&window.parent.hui&&window.parent.hui.ui&&window.parent.hui.ui._frameLoaded(window);for(var a=0;a<hui.ui.delayedUntilReady.length;a++)hui.ui.delayedUntilReady[a]();hui.ui.callSuperDelegates(this,"ready")}),hui.ui.ImageViewer=function(a){this.options=hui.override({maxWidth:800,maxHeight:600,perimeter:100,sizeSnap:100,margin:0,ease:hui.ease.slowFastSlow,easeEnd:hui.ease.bounce,easeAuto:hui.ease.slowFastSlow,easeReturn:hui.ease.cubicInOut,transition:400,transitionEnd:1e3,transitionReturn:300,images:[]},a),this.element=hui.get(a.element),this.box=this.options.box,this.dirty=!1,this.width=600,this.height=460,this.index=0,this.position=0,this.playing=!1,this.name=a.name,this.images=a.images||[],hui.ui.extend(this),this.box.listen(this),this._attach(),this._attachDrag(),a.listener&&this.listen(a.listener)},hui.ui.ImageViewer.create=function(a){a=a||{};var b=a.element=hui.build("div",{"class":"hui_imageviewer",html:'<div class="hui_imageviewer_viewer"><div class="hui_imageviewer_inner_viewer"></div></div><div class="hui_imageviewer_text"></div><div class="hui_imageviewer_status"></div><div class="hui_imageviewer_controller"><div><div><a class="hui_imageviewer_previous"></a><a class="hui_imageviewer_play"></a><a class="hui_imageviewer_next"></a><a class="hui_imageviewer_close"></a></div></div></div>'}),c=a.box=hui.ui.Box.create({variant:"plain",absolute:!0,modal:!0,closable:!0});return c.add(b),c.addToDocument(),new hui.ui.ImageViewer(a)},hui.ui.ImageViewer.prototype={nodes:{viewer:".hui_imageviewer_viewer",innerViewer:".hui_imageviewer_inner_viewer",status:".hui_imageviewer_status",text:".hui_imageviewer_text",previous:".hui_imageviewer_previous",controller:".hui_imageviewer_controller",next:".hui_imageviewer_next",play:".hui_imageviewer_play",close:".hui_imageviewer_close"},_attach:function(){var a=this;this.nodes.next.onclick=function(){a.next(!0)},this.nodes.previous.onclick=function(){a.previous(!0)},this.nodes.play.onclick=function(){a.playOrPause()},this.nodes.close.onclick=this.hide.bind(this),this._timer=function(){a.next(!1)},this._keyListener=function(b){b=hui.event(b),b.escapeKey?a.hide():a.zoomed||(b.rightKey?a.next(!0):b.leftKey?a.previous(!0):b.returnKey&&a.playOrPause())},hui.listen(this.nodes.viewer,"mousemove",this._onMouseMove.bind(this)),hui.listen(this.nodes.controller,"mouseover",function(){a.overController=!0}),hui.listen(this.nodes.controller,"mouseout",function(){a.overController=!1}),hui.listen(this.nodes.viewer,"mouseout",function(b){hui.ui.isWithin(b,this.nodes.viewer)||a._hideController()}.bind(this))},_draw:function(a){hui.browser.webkit?this.nodes.innerViewer.style.webkitTransform="translate3d("+this.position+"px,0,0)":this.nodes.innerViewer.style.marginLeft=this.position+"px"},_attachDrag:function(){var a=0,b=0,c=0,d=(this.nodes.viewer,this.nodes.innerViewer,0);hui.drag.register({touch:!0,element:this.nodes.innerViewer,onBeforeMove:function(b){a=b.getLeft(),c=this.position,d=(this.images.length-1)*this.width*-1}.bind(this),onMove:function(e){b=e.getLeft();var f=c-(a-b);f>0&&(f=-80*(Math.exp(f*-.013)-1)),d>f&&(f=80*(Math.exp(.013*(f-d))-1)+d),this.position=f,this._draw()}.bind(this),onAfterMove:function(){var c=0>a-b?Math.floor:Math.ceil;this.index=c(-1*this.position/this.width);var d=this.images.length-1;this.index==this.images.length?this.index=0:this.index<0?this.index=this.images.length-1:d=1,this._goToImage(!0,d,!1,!0)}.bind(this),onNotMoved:this._zoom.bind(this)})},_onMouseMove:function(){window.clearTimeout(this.ctrlHider),this._shouldShowController()&&(this.ctrlHider=window.setTimeout(this._hideController.bind(this),2e3),hui.browser.opacity?hui.effect.fadeIn({element:this.nodes.controller,duration:200}):this.nodes.controller.style.display="block")},_hideController:function(){this.overController||(hui.browser.opacity?hui.effect.fadeOut({element:this.nodes.controller,
duration:500}):this.nodes.controller.style.display="none")},_getLargestSize:function(a,b){return hui.fit(b,a,{upscale:!1})},_calculateSize:function(){var a=this.options.sizeSnap,b=hui.window.getViewWidth()-this.options.perimeter;b=Math.floor(b/a)*a,b=Math.min(b,this.options.maxWidth);var c=hui.window.getViewHeight()-this.options.perimeter;c=Math.floor(c/a)*a,c=Math.min(c,this.options.maxHeight);for(var d=0,e=0,f=0;f<this.images.length;f++){var g=this._getLargestSize({width:b,height:c},this.images[f]);d=Math.max(d,g.width),e=Math.max(e,g.height)}c=Math.floor(Math.min(c,e)),b=Math.floor(Math.min(b,d)),(b!=this.width||c!=this.height)&&(this.width=b,this.height=c,this.dirty=!0)},_updateUI:function(){if(this.dirty){this.nodes.innerViewer.innerHTML="";for(var a=0;a<this.images.length;a++){var b=hui.build("div",{"class":"hui_imageviewer_image"});hui.style.set(b,{width:this.width+this.options.margin+"px",height:this.height-1+"px"}),this.nodes.innerViewer.appendChild(b)}this.nodes.controller.style.display=this._shouldShowController()?"block":"none",this.dirty=!1,this._preload()}},_shouldShowController:function(){return this.images.length>1},_goToImage:function(a,b,c,d){var e=this.position,f=this.position=this.index*(this.width+this.options.margin)*-1;if(a){var g,h;if(d)g=200*b,h=hui.ease.fastSlow,h=hui.ease.quadOut;else if(b>1)g=Math.min(b*this.options.transitionReturn,2e3),h=this.options.easeReturn;else{var i=0==this.index||this.index==this.images.length-1;h=i?this.options.easeEnd:this.options.ease,c||(h=this.options.easeAuto),g=i?this.options.transitionEnd:this.options.transition}hui.animate({node:this.nodes.innerViewer,css:{marginLeft:f+"px"},duration:g,ease:h,$render:function(a,b){this.position=e+(f-e)*b,this._draw()}.bind(this)})}else this._draw();this._drawText()},_drawText:function(){var a=this.images[this.index].text;a?(this.nodes.text.innerHTML=a,this.nodes.text.style.display="block"):(this.nodes.text.innerHTML="",this.nodes.text.style.display="none")},showById:function(a){for(var b=0;b<this.images.length;b++)if(this.images[b].id==a){this.show(b);break}},show:function(a){this.index=a||0,this._calculateSize(),this._updateUI();var b=this.options.margin;hui.style.set(this.element,{width:this.width+b+"px",height:this.height+2*b-1+"px"}),hui.style.set(this.nodes.viewer,{width:this.width+b+"px",height:this.height-1+"px"}),hui.style.set(this.nodes.innerViewer,{width:(this.width+b)*this.images.length+"px",height:this.height-1+"px"}),hui.style.set(this.nodes.controller,{marginLeft:(this.width-160)/2+.5*b+"px",display:"none"}),this.box.show(),this._goToImage(!1,0,!1),hui.listen(document,"keydown",this._keyListener),this.visible=!0,this._setHash(!0)},_setHash:function(a){},_onHashChange:function(){this._changing||(this._changing=!0,hui.location.hasHash("imageviewer")&&!this.visible?this.show():!hui.location.hasHash("imageviewer")&&this.visible&&this.hide(),this._changing=!1)},hide:function(){this._hide()},_hide:function(){this.pause(),this.box.hide(),this._endZoom(),hui.unListen(document,"keydown",this._keyListener),this.visible=!1,this._setHash(!1)},$boxCurtainWasClicked:function(){this.hide()},$boxWasClosed:function(){this.hide()},clearImages:function(){this.images=[],this.dirty=!0},addImages:function(a){for(var b=0;b<a.length;b++)this.addImage(a[b])},addImage:function(a){this.images.push(a),this.dirty=!0},play:function(){this.interval||(this.interval=window.setInterval(this._timer,6e3)),this.next(!1),this.playing=!0,this.nodes.play.className="hui_imageviewer_pause"},pause:function(){window.clearInterval(this.interval),this.interval=null,this.nodes.play.className="hui_imageviewer_play",this.playing=!1},playOrPause:function(){this.playing?this.pause():this.play()},_resetPlay:function(){this.playing&&(window.clearInterval(this.interval),this.interval=window.setInterval(this._timer,6e3))},previous:function(a){var b=1;this.index--,this.index<0&&(this.index=this.images.length-1,b=this.images.length-1),this._goToImage(!0,b,a),this._resetPlay()},next:function(a){var b=1;this.index++,this.index==this.images.length&&(this.index=0,b=this.images.length-1),this._goToImage(!0,b,a),this._resetPlay()},_preload:function(){var a=new hui.Preloader;a.addImages(hui.ui.context+"/hui/gfx/imageviewer_controls.png");var b=this;a.setDelegate({allImagesDidLoad:function(){b._preloadImages()}}),a.load()},_preloadImages:function(){var a=new hui.Preloader;a.setDelegate(this);for(var b=0;b<this.images.length;b++){var c=hui.ui.resolveImageUrl(this,this.images[b],this.width,this.height);null!==c&&a.addImages(c)}this.nodes.status.innerHTML="0%",this.nodes.status.style.display="",a.load(this.index)},allImagesDidLoad:function(){this.nodes.status.style.display="none"},imageDidLoad:function(a,b,c){this.nodes.status.innerHTML=Math.round(a/b*100)+"%";var d=hui.ui.resolveImageUrl(this,this.images[c],this.width,this.height);d=d.replace(/&amp;/g,"&"),this.nodes.innerViewer.childNodes[c].style.backgroundImage="url('"+d+"')",hui.cls.set(this.nodes.innerViewer.childNodes[c],"hui_imageviewer_image_abort",!1),hui.cls.set(this.nodes.innerViewer.childNodes[c],"hui_imageviewer_image_error",!1)},imageDidGiveError:function(a,b,c){hui.cls.set(this.nodes.innerViewer.childNodes[c],"hui_imageviewer_image_error",!0)},imageDidAbort:function(a,b,c){hui.cls.set(this.nodes.innerViewer.childNodes[c],"hui_imageviewer_image_abort",!0)},zoomed:!1,_zoom:function(a){var b=this.images[this.index];if(!(b.width<=this.width&&b.height<=this.height)){this.zoomer||(this.zoomer=hui.build("div",{"class":"hui_imageviewer_zoomer",style:"width:"+this.nodes.viewer.clientWidth+"px;height:"+this.nodes.viewer.clientHeight+"px"}),this.element.insertBefore(this.zoomer,hui.dom.firstChild(this.element)),hui.listen(this.zoomer,"mousemove",this._onZoomMove.bind(this)),hui.listen(this.zoomer,"click",this._endZoom.bind(this))),this._hideController(),this.pause();var c=this._getLargestSize({width:2e3,height:2e3},b),d=hui.ui.resolveImageUrl(this,b,c.width,c.height),e=Math.max(0,Math.round((this.nodes.viewer.clientHeight-c.height)/2));this.zoomer.innerHTML='<div style="width:'+c.width+"px;height:"+c.height+'px; margin: 0 auto;"><img src="'+d+'" style="margin-top: '+e+'px" /></div>',this.zoomer.style.display="block",this.zoomInfo={width:c.width,height:c.height},this._onZoomMove(a),this.zoomed=!0}},_onZoomMove:function(a){if(this.zoomInfo){var b=hui.position.get(this.zoomer);a=new hui.Event(a);var c=(a.getLeft()-b.left)/this.zoomer.clientWidth*(this.zoomInfo.width-this.zoomer.clientWidth),d=(a.getTop()-b.top)/this.zoomer.clientHeight*(this.zoomInfo.height-this.zoomer.clientHeight);this.zoomer.scrollLeft=c,this.zoomer.scrollTop=d}},_endZoom:function(){this.zoomer&&(this.zoomer.style.display="none",this.zoomed=!1)}},window.define&&define("hui.ui.ImageViewer",hui.ui.ImageViewer),hui.ui.Box=function(a){this.options=hui.override({},a),this.name=a.name,this.element=hui.get(a.element),this.visible=!this.options.absolute,hui.ui.extend(this),this.nodes.close&&hui.listen(this.nodes.close,"click",this._close.bind(this))},hui.ui.Box.create=function(a){a=a||{};var b=a.variant||"standard",c=a.closable?'<a class="hui_box_close hui_box_close_'+b+'" href="#"></a>':"";return a.title&&(c+='<div class="hui_box_header"><strong class="hui_box_title">'+hui.string.escape(hui.ui.getTranslated(a.title))+"</strong></div>"),c+='<div class="hui_box_body" style="'+(a.padding?"padding: "+a.padding+"px;":"")+(a.width?"width: "+a.width+"px;":"")+'"></div>',a.element=hui.build("div",{"class":"hui_box hui_box_"+b,html:c,style:a.width?a.width+"px":null}),a.absolute&&hui.cls.add(a.element,"hui_box_absolute"),new hui.ui.Box(a)},hui.ui.Box.prototype={nodes:{body:".hui_box_body",close:".hui_box_close"},_close:function(a){hui.stop(a),this.hide(),this.fire("boxWasClosed"),this.fire("close")},shake:function(){hui.effect.shake({element:this.element})},addToDocument:function(){document.body.appendChild(this.element)},add:function(a){var b=this.nodes.body;a.getElement?b.appendChild(a.getElement()):b.appendChild(a)},show:function(){var a=this.element;if(this.options.modal){var b=hui.ui.nextPanelIndex();a.style.zIndex=b+1,hui.ui.showCurtain({widget:this,zIndex:b})}if(this.options.absolute){hui.style.set(a,{display:"block",visibility:"hidden"});var c=a.clientWidth,d=(hui.window.getViewHeight()-a.clientHeight)/2+hui.window.getScrollTop();hui.style.set(a,{marginLeft:c/-2+"px",top:d+"px",display:"block",visibility:"visible"})}else a.style.display="block";this.visible=!0,hui.ui.callVisible(this)},isVisible:function(){return this.visible},$$layout:function(){if(this.options.absolute&&this.visible){var a=this.element,b=a.clientWidth,c=(hui.window.getViewHeight()-a.clientHeight)/2+hui.window.getScrollTop();hui.style.set(a,{marginLeft:b/-2+"px",top:c+"px"})}},hide:function(){hui.ui.hideCurtain(this),this.element.style.display="none",this.visible=!1,hui.ui.callVisible(this)},$curtainWasClicked:function(){this.fire("boxCurtainWasClicked"),this.options.curtainCloses&&this._close()}},hui.ui.SearchField=function(a){this.options=hui.override({expandedWidth:null},a),this.element=hui.get(a.element),this.name=a.name,this.field=hui.get.firstByTag(this.element,"input"),this.value=this.field.value,this.adaptive=hui.cls.has(this.element,"hui_searchfield-adaptive"),this.initialWidth=null,hui.ui.extend(this),this._addBehavior(),""!==this.value&&this._updateClass()},hui.ui.SearchField.create=function(a){return a=a||{},a.element=hui.build("span",{"class":a.adaptive?"hui_searchfield hui_searchfield-adaptive":"hui_searchfield",html:'<span class="hui_searchfield_placeholder"></span><a href="javascript:void(0);" class="hui_searchfield_reset"></a><input class="hui_searchfield_input" type="text"/>'}),new hui.ui.SearchField(a)},hui.ui.SearchField.prototype={_addBehavior:function(){var a=this;hui.listen(this.field,"keyup",this._onKeyUp.bind(this));var b=hui.get.firstByTag(this.element,"a");if(b.tabIndex=-1,hui.browser.ipad){var c=function(){a.field.focus()};hui.listen(hui.get.firstByTag(this.element,"em"),"click",c)}else{var c=function(){a.field.focus(),a.field.select()};hui.listen(this.element,"mousedown",c),hui.listen(this.element,"mouseup",c),hui.listen(hui.get.firstByTag(this.element,"em"),"mousedown",c)}hui.listen(b,"mousedown",function(b){hui.stop(b),a.reset(),c()}),hui.listen(this.field,"focus",this._onFocus.bind(this)),hui.listen(this.field,"blur",this._onBlur.bind(this))},_onFocus:function(){hui.ui.setKeyboardTarget(this),this.focused=!0,this._updateClass(),this.options.expandedWidth>0&&(null==this.initialWidth&&(this.initialWidth=parseInt(hui.style.get(this.element,"width"))),hui.animate(this.element,"width",this.options.expandedWidth+"px",500,{ease:hui.ease.slowFastSlow}))},_onBlur:function(){hui.ui.setKeyboardTarget(null),this.focused=!1,this._updateClass(),null!==this.initialWidth&&hui.animate(this.element,"width",this.initialWidth+"px",500,{ease:hui.ease.slowFastSlow,delay:100})},_onKeyUp:function(a){this._fieldChanged(),a.keyCode===hui.KEY_RETURN&&this.fire("submit")},focus:function(){this.field.focus()},setValue:function(a){this.field.value=void 0===a||null===a?"":a,this._fieldChanged()},getValue:function(){return this.field.value},isEmpty:function(){return""==this.field.value},isBlank:function(){return hui.isBlank(this.field.value)},reset:function(){this.field.value="",this._fieldChanged()},_updateClass:function(){var a="hui_searchfield";this.adaptive&&(a+=" hui_searchfield-adaptive"),this.focused&&(a+=" hui_searchfield-focus"),""!=this.value&&(a+=" hui_searchfield-dirty"),this.element.className=a},_fieldChanged:function(){this.field.value!=this.value&&(this.value=this.field.value,this._updateClass(),this.fireValueChange())}},window.define&&define("hui.ui.SearchField",hui.ui.SearchField),hui.ui.Overlay=function(a){this.options=a,this.element=hui.get(a.element),this.name=a.name,this.icons={},this.visible=!1,hui.ui.extend(this),this._addBehavior()},hui.ui.Overlay.create=function(a){a=a||{};var b="hui_overlay"+(a.variant?" hui_overlay_"+a.variant:"");a.variant||(b+=" hui_context_dark");var c=a.element=hui.build("div",{className:b,style:"display:none"});return document.body.appendChild(c),new hui.ui.Overlay(a)},hui.ui.Overlay.prototype={_addBehavior:function(){},addIcon:function(a,b){var c=this,d=hui.build("div",{className:"hui_overlay_icon"});d.style.backgroundImage="url("+hui.ui.getIconUrl(b,32)+")",hui.listen(d,"click",function(b){c._iconWasClicked(a,b)}),this.icons[a]=d,this.element.appendChild(d)},addText:function(a){this.element.appendChild(hui.build("span",{"class":"hui_overlay_text",text:a}))},add:function(a){this.element.appendChild(a.getElement())},hideIcons:function(a){for(var b=0;b<a.length;b++)this.icons[a[b]].style.display="none"},showIcons:function(a){for(var b=0;b<a.length;b++)this.icons[a[b]].style.display=""},_iconWasClicked:function(a,b){hui.ui.callDelegates(this,"iconWasClicked",a,b)},showAtElement:function(a,b){if(b=b||{},hui.ui.positionAtElement(this.element,a,b),b.autoHide&&this._autoHide(a),!this.visible){hui.browser.msie?this.element.style.display="block":(hui.style.set(this.element,{display:"block",opacity:0}),hui.animate(this.element,"opacity",1,150));var c=void 0===b.zIndex?b.zIndex:hui.ui.nextAlertIndex();this.options.modal?(this.element.style.zIndex=hui.ui.nextAlertIndex(),hui.ui.showCurtain({widget:this,zIndex:c})):this.element.style.zIndex=c,this.visible=!0}},_autoHide:function(a){hui.cls.add(a,"hui_overlay_bound"),hui.unListen(document.body,"mousemove",this._hider),this._hider=function(b){if(!hui.ui.isWithin(b,a)&&!hui.ui.isWithin(b,this.element))try{hui.unListen(document.body,"mousemove",this._hider),hui.cls.remove(a,"hui_overlay_bound"),this.hide()}catch(b){hui.log("unable to stop listening: document="+document)}}.bind(this),hui.listen(document.body,"mousemove",this._hider)},show:function(a){if(a=a||{},this.visible||hui.style.set(this.element,{display:"block",visibility:"hidden"}),a.element&&hui.position.place({source:{element:this.element,vertical:0,horizontal:.5},target:{element:a.element,vertical:.5,horizontal:.5},insideViewPort:!0,viewPartMargin:9}),a.autoHide&&a.element&&this._autoHide(a.element),!this.visible&&(hui.effect.bounceIn({element:this.element}),this.visible=!0,this.options.modal)){var b=hui.ui.nextAlertIndex();this.element.style.zIndex=b+1,hui.ui.showCurtain({widget:this,zIndex:b,color:"auto"})}},$curtainWasClicked:function(){this.hide()},hide:function(){hui.ui.hideCurtain(this),this.element.style.display="none",this.visible=!1},clear:function(){hui.ui.destroyDescendants(this.element),this.element.innerHTML=""}},hui.ui.Button=function(a){this.options=a,this.name=a.name,this.element=hui.get(a.element),this.enabled=!hui.cls.has(this.element,"hui_button_disabled"),hui.ui.extend(this),this._attach(),a.listener&&this.listen(a.listener),a.listen&&this.listen(a.listen)},hui.ui.Button.create=function(a){a=hui.override({text:"",highlighted:!1,enabled:!0},a);var b="hui_button"+(a.highlighted?" hui_is_highlighted":"");a.variant&&(b+=" hui_button_"+a.variant),a.small&&a.variant&&(b+=" hui_button_small_"+a.variant),a.small&&(b+=" hui_button_small"),a.enabled||(b+=" hui_is_disabled");var c=a.text?hui.ui.getTranslated(a.text):null;a.title&&(c=hui.ui.getTranslated(a.title));var d=a.element=hui.build("a",{"class":b,href:"javascript://"});if(a.icon){var e=hui.build("span",{parent:d,"class":"hui_button_icon",style:"background-image:url("+hui.ui.getIconUrl(a.icon,16)+")"});c||hui.cls.add(e,"hui_button_icon_notext")}return c&&hui.dom.addText(d,c),new hui.ui.Button(a)},hui.ui.Button.prototype={_attach:function(){var a=this;hui.listen(this.element,"mousedown",function(a){hui.stop(a)}),hui.listen(this.element,"click",function(b){hui.stop(b),a._onClick(b)})},_onClick:function(a){if(this.enabled){var b=!1;a&&(b=hui.event(a).altKey),this.options.confirm&&!b?hui.ui.confirmOverlay({widget:this,text:this.options.confirm.text,okText:this.options.confirm.okText,cancelText:this.options.confirm.cancelText,onOk:this._fireClick.bind(this)}):this._fireClick()}else this.element.blur()},_fireClick:function(){if(this.fire("click",this),this.options.submit){var a=hui.ui.getAncestor(this,"hui_formula");a?a.submit():hui.log("No form found to submit")}},click:function(a){return a?(this.listen({$click:a}),this):void this._onClick()},focus:function(){this.element.focus()},onClick:function(a){this.listen({$click:a})},setEnabled:function(a){this.enabled=a,this._updateUI()},enable:function(){this.setEnabled(!0)},disable:function(){this.setEnabled(!1)},setHighlighted:function(a){hui.cls.set(this.element,"hui_is_highlighted",a)},_updateUI:function(){hui.cls.set(this.element,"hui_is_disabled",!this.enabled)},setText:function(a){hui.dom.setText(this.element,hui.ui.getTranslated(a))},getData:function(){return this.options.data},getRole:function(){return this.options.role}},hui.ui.Buttons=function(a){this.name=a.name,this.element=hui.get(a.element),this.body=hui.get.firstByClass(this.element,"hui_buttons_body"),hui.ui.extend(this)},hui.ui.Buttons.create=function(a){a=hui.override({top:0},a);var b=a.element=hui.build("div",{"class":"hui_buttons"});return"right"===a.align&&hui.cls.add(b,"hui_buttons_right"),"center"===a.align&&hui.cls.add(b,"hui_buttons_center"),a.top>0&&(b.style.paddingTop=a.top+"px"),hui.build("div",{"class":"hui_buttons_body",parent:b}),new hui.ui.Buttons(a)},hui.ui.Buttons.prototype={add:function(a){return this.body.appendChild(a.element),this}};