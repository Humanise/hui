<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Chart.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Chart.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * A chart (line / column etc.)
 * &lt;pre>&lt;strong>options:&lt;/strong> {
 *  element : «Element | ID»,
 *  name : «String»,
 *  (TODO many more)
 * }
 * &lt;/pre>
 * @constructor
 * @param {Object} options The options
 */
hui.ui.Chart = function(options) {
	this.options = options = options || {};
	this.element = hui.get(options.element);
	this.body  = {
        width : undefined, 
        height : undefined, 
        paddingTop : 10, 
        paddingBottom : 30, 
        paddingLeft : 10, 
        paddingRight : 10, 
        innerPaddingVertical : 10, 
        innerPaddingHorizontal : 10 
    };
	this.style = {
        border : true, 
        background : true, 
        colors : ['#36a','#69d','#acf'],
        legends : { position: 'right' , left: 0, top: 0 },
        pie : { radiusFactor: .9 , valueInLegend: false , left: 0, top: 0 }
    };
	this.xAxis = { labels:[], grid:true, concentration:.8 , maxLabels:12};
	this.yAxis = { min:0, max:0, steps:8, above:false , factor: 10};
	
    this.dataSets = [];
	this.data = null;
	
    hui.ui.extend(this);
    
	if (this.options.source) {
		this.options.source.listen(this);
	}
}

hui.ui.Chart.create = function(options) {	
	options.element = hui.build('div',{
        'class' : 'hui_chart',
        parent : hui.get(options.parent),
        style : 'width: 100%; height: 100%;'
    });
	return new hui.ui.Chart(options);
}

hui.ui.Chart.prototype = {
	addDataSet : function(dataSet) {
		this.dataSets[this.dataSets.length] = dataSet;
	},
	setXaxisLabels : function(labels) {
		for (var i=0; i &lt; labels.length; i++) {
			this.xAxis.labels[this.xAxis.labels.length] = {key:labels[i],label:labels[i]};
		}
	},
	setData : function(data) {
		if (!data.dataSets) {
			this.data = hui.ui.Chart.Util.convertData(data);
		} else {
			this.data = data;
		}
	},
	render : function() {
		var renderer = new hui.ui.Chart.Renderer(this);
		renderer.render();
	},
	$$layout : function() {
		this.render();
	},
	$objectsLoaded : function(data) {
		this.setData(data);
		this.render();
	}
}


//////////////////////// Data ////////////////////

hui.ui.Chart.Data = function(options) {
	this.xAxis = hui.override({ labels:[], grid:true, concentration:.8 , maxLabels:12},options.xAxis);
	this.yAxis = hui.override({ min:0, max:0, steps:8, above:false , factor: 10},options.yAxis);
	this.dataSets = [];
}

hui.ui.Chart.Data.prototype = {
	addDataSet : function(set) {
		this.dataSets.push(set);
	}
}


///////////////////// Data set ////////////////////

hui.ui.Chart.DataSet = function(options) {
	options = options || {};
	this.dataSets = [];
	this.entries = options.entries || [];
	this.legend = null;
	this.style = {type:options.type || 'line'};
}

hui.ui.Chart.DataSet.prototype = {
	
	addDataSet : function(dataSet) {
		this.dataSets[this.dataSets.length] = dataSet;
	},
	setLegend : function(legend) {
		this.legend = legend;
	},
	isMultiDimensional : function() {
		return this.dataSets.length>0;
	},
	addEntry : function(key,value) {
		this.entries[this.entries.length] = {key:key,value:value};
	},
	setValues : function(graph,values) {
		for (var i=0; i &lt; graph.xAxis.labels.length; i++) {
			if (values[i]) {
				this.addEntry(graph.xAxis.labels[i].key,values[i])
			}
		};
	},
	getEntryValue : function(key) {
		var value = 0;
		for (var i=0;i&lt;this.entries.length;i++) {
			if (this.entries[i].key==key) {
				return this.entries[i].value;
			}
		}
		return value;
	},
	getEntryValue2D : function(key) {
		var value = [];
		for (var i=0;i&lt;this.dataSets.length;i++) {
			var set = this.dataSets[i];
			for (var j=0;j&lt;set.entries.length;j++) {
				if (set.entries[j].key==key) {
					value[i] = set.entries[j].value;
				}
			}
			if (!value[i]) {
				value[i]=0;
			}
		}
		return value;
	},
	keysToValues : function(keys) {
		var values = [];
		for (var i=0;i&lt;keys.length;i++) {
			values[i] = this.getEntryValue(keys[i].key);
		}
		return values;
	},
	keysToValues2D : function(keys) {
		var values = [];
		for (var i=0;i&lt;keys.length;i++) {
			values[i] = this.getEntryValue2D(keys[i].key);
		}
		return values;
	},
	getValueRange : function(keys) {
		var vals = [];
		if (this.isMultiDimensional()) {
			var vals2D = this.keysToValues2D(keys);
			for (var i=0;i&lt;vals2D.length;i++) {
				var sum = 0;
				for (var j=0;j&lt;vals2D[i].length;j++) {
					sum+=vals2D[i][j];
				}
				vals[i] = sum;
			}
		} else {
			vals = this.keysToValues(keys);
		}
		var min = Number.MAX_VALUE,
			max = Number.MIN_VALUE;
		for (var i=0;i&lt;vals.length;i++) {
			min = Math.min(min,vals[i]);
			max = Math.max(max,vals[i]);
		}
		return {min:min,max:max};
	},
	getSubLegends : function() {
		var value = [];
		for (var i=0;i&lt;this.dataSets.length;i++) {
			value[i] = this.dataSets[i].legend;
		}
		return value;
	}
}

/*********************************************************************/
/*                             Renderer                              */
/*********************************************************************/

hui.ui.Chart.Renderer = function(chart) {
	this.chart = chart;
	this.crisp = false;
	this.legends = [];
	this.state = { numColumns:0, currColumn:0, xLabels:[], yLabels:[], body:{left:0}, innerBody:{}, coordinateSystem: false, currColor:0 };
	this.width = null;
	this.height = null;
}

hui.ui.Chart.Renderer.prototype = {
	_registerLegend : function(color,label) {
		this.legends[this.legends.length] = {color:color,label:label};
	},
	_buildInnerBody : function() {
		var body = this.chart.body;
		var xLabels = this.state.xLabels;
		var space = 0;
		if (this.state.numColumns>0) {
			space = ( this.width - 2 * body.innerPaddingHorizontal - body.paddingLeft - body.paddingRight ) / xLabels.length;
		}
		var innerBody = {
			left : (body.innerPaddingHorizontal + this.state.body.left + space/2),
			top : (body.paddingTop + body.innerPaddingVertical),
			width : (this.state.body.width-2 * body.innerPaddingHorizontal - space),
			height : (this.state.body.height - body.innerPaddingVertical * 2 )
		};
		return innerBody;
	},
	_buildBody : function() {
		var body = this.chart.body,
			left = body.paddingLeft + this.state.yLabelWidth
		return {
			left : left,
			top : body.paddingTop,
			width : this.width - left - body.paddingRight,
			height : this.height - body.paddingTop - body.paddingBottom,
			right : this.width - body.paddingRight,
			bottom : this.height - body.paddingBottom
		}
	}
}

hui.ui.Chart.Renderer.prototype.render = function() {
	
	this.width = this.chart.body.width || this.chart.element.clientWidth;
	this.height = this.chart.body.height || this.chart.element.clientHeight;
	
	hui.dom.clear(this.chart.element);
	this.canvas = hui.build('canvas',{parent:this.chart.element,width:this.width,height:this.height});
	if (!this.canvas.getContext) {
		return;
	}
	this.ctx = this.canvas.getContext("2d");
	
	if (this.chart.data==null) {
		return;
	}
	
	// Extract basic info about the chart
	for (var i=0;i&lt;this.chart.data.dataSets.length;i++) {
		var set = this.chart.data.dataSets[i];
		if (set.style.type=='line' || set.style.type=='column') {
			this.state.coordinateSystem = true;
		}
		if (set.style.type=='column') {
			this.state.numColumns++;
		}
	}
	
	this.state.xLabels = this.chart.data.xAxis.labels;
	this.state.yLabels = hui.ui.Chart.Util.generateYLabels(this.chart);
	this.state.yLabelWidth = 0;
	for (var i=0; i &lt; this.state.yLabels.length; i++) {
		this.state.yLabelWidth = Math.max(this.state.yLabelWidth,new String(this.state.yLabels[i]).length*5);
	};
	this.state.yLabelWidth+=5;
	this.state.body = this._buildBody();
	this.state.innerBody = this._buildInnerBody();

	// Render the coordinate system (below)
	if (this.state.coordinateSystem) {
		this.renderBody();
	}
	
	// Loop through data sets and render them
	var xLabels = this.state.xLabels;
	for (var i=0;i&lt;this.chart.data.dataSets.length;i++) {
		var set = this.chart.data.dataSets[i];
		if (set.style.type=='line') {
			var values = set.keysToValues(xLabels);
			this.renderLineGraph( { values:values, style:set.style , legend:set.legend } );
		} else if (set.style.type=='column') {
			if (set.isMultiDimensional()) {
				var values = set.keysToValues2D(xLabels);
				var legend = set.getSubLegends();
			} else {
				var values = set.keysToValues(xLabels);
				var legend = set.legend;
			}
			this.renderColumnGraph( { values:values, style:set.style , legend: legend} );	
		} else if (set.style.type=='pie') {
			var values = set.keysToValues(xLabels);
			this.renderPie( { values:values, style:set.style } );
		}
	}
	
	// Render the coordinate system (above)
	if (this.shouldRenderCoordinateSystem) {
		this.renderPostBody();
	}
	
	// Render possible lengends
	this.renderLegends();
}

/**
 * Renders a legend box
 */
hui.ui.Chart.Renderer.prototype.renderLegends = function() {
	if (this.legends.length>0) {
		var position = this.chart.style.legends.position;
		var box = hui.build('div',{style:{position:'absolute',zIndex:5,width:this.width+'px'}});
		
		var html='&lt;div class="hui_chart_legends" style="margin-right: '+(5-this.chart.style.legends.left)+'px; margin-top: '+(5+this.chart.style.legends.top)+'px;">';
		for (var i=0;i&lt;this.legends.length;i++) {
			if (position=='bottom') {
				var style = 'padding: 2px; padding-right: 8px; float: left; white-space: nowrap;';
				if (i==this.legends.length-1) {
					style+='padding-right: 3px';
				}
			} else {
				var style = 'padding: 2px;';
			}
			html+='&lt;div class="hui_chart_legend" style="'+style+'">&lt;em style="background: '+this.legends[i].color+';">&lt;/em>&lt;span>'+this.legends[i].label+'&lt;/span>&lt;/div>'
		}
		html+='&lt;/div>';
		box.innerHTML = html;
		if (position=='right') {
			this.canvas.parentNode.insertBefore(box,this.canvas);
		} else if (position=='bottom') {
			this.canvas.parentNode.appendChild(box);
			var y = document.createElement('div');
			y.appendChild(box);
			this.canvas.parentNode.appendChild(y);
		}
	}
}

/**
 * Renders the body of the chart
 */
hui.ui.Chart.Renderer.prototype.renderBody = function() {
	
	var body = this.chart.body,
		stroke = 'rgb(255,255,255)',
		background = 'rgb(240,240,240)',
		state = this.state,
		innerBody = this.state.innerBody;
    
        stroke = '#eee'; // TODO Make this configurable
        background = '#fff';
    

	if (this.chart.style.background) {
		this.ctx.fillStyle = background;
		this.ctx.fillRect(
			state.body.left,
			state.body.top,
			state.body.width,
			state.body.height
		);
	}
	
	var mod = 1;
	/* Build X-axis*/
	var xLabels = this.state.xLabels;
	if (xLabels.length>this.chart.data.xAxis.maxLabels) {
		mod = Math.ceil(xLabels.length/this.chart.data.xAxis.maxLabels);
	}
	this.ctx.strokeStyle=stroke;
	for (var i=0;i&lt;xLabels.length;i++) {
		var left = i*((innerBody.width)/(xLabels.length-1))+innerBody.left;
		var left = Math.round(left);

		if (mod&lt;10 || (i % mod) ==0) {
			// Draw grid
			if (this.chart.data.xAxis.grid) {
				this.ctx.beginPath();
				this.ctx.moveTo(.5+left,state.body.top+.5);
				this.ctx.lineTo(.5+left,state.body.top+.5+state.body.height);
				this.ctx.stroke();
				this.ctx.closePath();
			}
		}
		if ((i % mod) ==0) {
			// Draw label
			var label = hui.build('span',{
				'class' : 'hui_chart_label',
				text : xLabels[i].label,
				before : this.canvas,
				style : {
					marginLeft : left-25+'px',
					marginTop : state.body.bottom + 4 + 'px',
                    color : '#999'
				}
			});
		}
	}
	this.ctx.strokeStyle=stroke;
	
	/* Build Y-axis*/
	var yLabels = this.state.yLabels.concat();
	yLabels.reverse();
	for (var i=0; i &lt; yLabels.length ; i++) {
		// Draw grid
		var top = i*((state.body.height-body.innerPaddingVertical*2)/(yLabels.length-1))+body.paddingTop+body.innerPaddingVertical;
		top = Math.round(top);
		if (!this.chart.data.yAxis.above) {
			this.ctx.beginPath();
			this.ctx.moveTo(.5+state.body.left,top+.5);
			this.ctx.lineTo(.5+state.body.right,top+.5);
			this.ctx.stroke();
			this.ctx.closePath();
		}
		// Draw label
		var label = hui.build('span',{text:yLabels[i],style:{
			position: 'absolute',
			textAlign : 'right',
			width : this.state.yLabelWidth-5+'px',
			font : '9px Tahoma',
			marginTop : top-5+'px',
			marginLeft : body.paddingLeft+'px',
            color : '#999'
		}});
		this.canvas.parentNode.insertBefore(label,this.canvas);
	}
	
	// Draw a line at 0 if 
	if (!this.chart.data.yAxis.above &amp;&amp; yLabels[0] > 0 &amp;&amp; yLabels[yLabels.length-1] &lt; 0) {
		var top = (state.body.height - body.innerPaddingVertical*2) * yLabels[0] / (yLabels[0] - yLabels[yLabels.length-1]) + body.paddingTop + body.innerPaddingVertical;
		top = Math.round(top);
		this.ctx.lineWidth = 2;
		this.ctx.strokeStyle=stroke;
		this.ctx.beginPath();
		this.ctx.moveTo(.5+state.body.left,top);
		this.ctx.lineTo(.5+state.body.right,top);
		this.ctx.stroke();
		this.ctx.closePath();
	}
}

hui.ui.Chart.Renderer.prototype.renderPostBody = function() {
	var body = this.chart.body;
	if (this.chart.data.yAxis.above) {

		this.ctx.strokeStyle='rgb(240,240,240)';
		var yLabels = this.state.yLabels.concat();
		yLabels.reverse();
		for (var i=0;i&lt;yLabels.length;i++) {
			var top = i*((this.height-body.innerPaddingVertical*2-body.paddingTop-body.paddingBottom)/(yLabels.length-1))+body.paddingTop+body.innerPaddingVertical;
			top = Math.round(top);
			this.ctx.lineWidth = 1;
			this.ctx.beginPath();
			this.ctx.moveTo(.5+body.paddingLeft,top+.5);
			this.ctx.lineTo(.5+this.width-body.paddingRight,top+.5);
			this.ctx.stroke();
			this.ctx.closePath();
		}
		if (yLabels[0]>0 &amp;&amp; yLabels[yLabels.length-1]&lt;0) {
			var top = (this.height-body.innerPaddingVertical*2-body.paddingTop-body.paddingBottom)*yLabels[0]/(yLabels[0]-yLabels[yLabels.length-1])+body.paddingTop+body.innerPaddingVertical;
			top = Math.round(top);
			this.ctx.lineWidth = 2;
			this.ctx.strokeStyle='rgb(255,255,255)';
			this.ctx.beginPath();
			this.ctx.moveTo(.5+body.paddingLeft,top);
			this.ctx.lineTo(.5+this.width-body.paddingRight,top);
			this.ctx.stroke();
			this.ctx.closePath();
		}
	}
	if (this.chart.style.border) {
		this.ctx.lineWidth = 1;
		this.ctx.strokeStyle='rgb(230,230,230)';
		this.ctx.strokeRect(body.paddingLeft+.5,body.paddingTop+.5,this.width-body.paddingLeft-body.paddingRight,this.height-body.paddingTop-body.paddingBottom);
	}
}

hui.ui.Chart.Renderer.prototype.renderLineGraph = function(data) {
	var values = data.values;
	var xLabels = this.state.xLabels;
	var yLabels = this.state.yLabels;
	var yMin = yLabels[0];
	var yMax = yLabels[yLabels.length-1];
	var body = this.chart.body;
	var innerBody = this.state.innerBody;
	if (data.style.colors) {
		var color = data.style.colors[0];
	} else {
		var color = this.chart.style.colors[this.state.currColor];
		if (this.state.currColor+2>this.chart.style.colors.length) {
			this.state.currColor = 0;
		} else {
			this.state.currColor++;
		}
	}
	this.ctx.strokeStyle = color;
	this.ctx.lineWidth = data.width ? data.width : 3;
	this.ctx.lineCap = this.ctx.lineJoin = 'round';
	this.ctx.beginPath();
	for (var i=0;i&lt;xLabels.length;i++) {
		var amount = (values[i] == undefined ? 0 : values[i]);
		var value = (amount-yMin)/(yMax-yMin);
		var top = this.height-value*(innerBody.height)-body.innerPaddingVertical-body.paddingBottom;
		var left = i*(innerBody.width/(xLabels.length-1))+innerBody.left;
		if (i==0) {
			this.ctx.moveTo(left+.5,top+.5);
		} else {
			this.ctx.lineTo(left+.5,top+.5);
		}
	}
	this.ctx.stroke();
	this.ctx.closePath();
	
	if (data.legend) {
		this._registerLegend(color,data.legend);
	}
}


hui.ui.Chart.Renderer.prototype.renderColumnGraph = function(data) {
	var values = data.values;
	var xLabels = this.state.xLabels;
	var yLabels = this.state.yLabels;
	var yMin = yLabels[0];
	var yMax = yLabels[yLabels.length-1];
	var body = this.chart.body;
	var colors = data.style.colors ? data.style.colors : this.chart.style.colors;
	this.state.currColumn++;
	var innerBody = this.state.innerBody;
	var space = (this.width-body.paddingLeft-body.paddingRight)/xLabels.length*this.chart.data.xAxis.concentration;
	var thickness = space/this.state.numColumns;
	this.ctx.lineCap = this.ctx.lineJoin = 'round';
	this.ctx.beginPath();
	for (var i=0;i&lt;xLabels.length;i++) {
		if (values[i]) {
			var colorIndex = 0;
			var currTop = 0;
			if (values[i] instanceof Array) {
				for (var j=0;j&lt;values[i].length;j++) {
					var val = values[i][j];
					currTop+=this.renderOneColumn(val,colors[colorIndex],body,innerBody,yMin,yMax,currTop,i,xLabels,space,thickness);
					
					if (colorIndex+2>colors.length) {
						colorIndex = 0;
					} else {
						colorIndex++;
					}
				}
			} else {
				currTop+=this.renderOneColumn(values[i],colors[colorIndex],body,innerBody,yMin,yMax,currTop,i,xLabels,space,thickness);
			}
		}
	}
	this.ctx.stroke();
	this.ctx.closePath();
	
	if (data.legend &amp;&amp; data.legend instanceof Array) {
		for (var i=0; i &lt; data.legend.length; i++) {
			this._registerLegend(colors[i],data.legend[i]);
		};
	} else if (data.legend) {
		this._registerLegend(colors[0],data.legend);
	}
}

hui.ui.Chart.Renderer.prototype.renderOneColumn = function(val,color,body,innerBody,yMin,yMax,currTop,i,xLabels,space,thickness) {
	var value = (val-yMin)/(yMax-yMin);
	if (yMin&lt;=0 &amp;&amp; val&lt;=0) {
		var top = innerBody.top+(innerBody.height)*yMax/(yMax-yMin)+currTop;
		var height = innerBody.height*Math.abs(val)/(yMax-yMin);
	} else if (yMin&lt;=0) {
		var top = this.height-body.innerPaddingVertical-body.paddingBottom-value*(innerBody.height)-currTop;
		var height = (innerBody.height)*Math.abs(val)/(yMax-yMin);
	}
	else {
		var top = this.height-value*(this.height-body.innerPaddingVertical*2-body.paddingTop-body.paddingBottom)-body.innerPaddingVertical-body.paddingBottom-currTop;
		var height = (this.height-body.paddingBottom-top);
	}
	var left = i*((innerBody.width)/(xLabels.length-1))+innerBody.left;
	
	this.ctx.fillStyle = color;
	if (this.crisp) {
		this.ctx.fillRect(Math.round(left-space/2+thickness*(this.state.currColumn-1)),Math.floor(top),Math.ceil(thickness),Math.ceil(height));
	} else {
		this.ctx.fillRect(left-space/2+thickness*(this.state.currColumn-1),top,thickness,height);
	}
	return height;
}

hui.ui.Chart.Renderer.prototype.renderPie = function(data) {
	
	var values = data.values;
	var colors = data.style.colors ? data.style.colors : this.chart.style.colors;
	var total = hui.ui.Chart.Util.arraySum(values);

	var colorIndex = 0;
	var current = Math.PI*1.5;
	var cTop = this.height/2+this.chart.style.pie.top;
	var cLeft = this.width/2+this.chart.style.pie.left;
	var radius = this.height/2*this.chart.style.pie.radiusFactor;

	for (var i=0;i&lt;values.length;i++) {
		this.ctx.beginPath();
		var color = colors[colorIndex]
		this.ctx.fillStyle = color;
		var rads = values[i]/total*(Math.PI*2);
		this.ctx.moveTo(cLeft,cTop);
		this.ctx.arc(cLeft,cTop,radius,current,current+rads,false);
		this.ctx.lineTo(cLeft,cTop);
		this.ctx.fill();
		this.ctx.closePath();
		current+=rads;
		
		if (!true) {
			this._registerLegend(color,this.state.xLabels[i].label);
		} else {
			this._registerLegend(color,values[i]+' '+this.state.xLabels[i].label);
		}
		if (colorIndex+2>colors.length) {
			colorIndex = 0;
		} else {
			colorIndex++;
		}
	}
	
}





/*********************************************************************/
/*                           Utitlities                              */
/*********************************************************************/

hui.ui.Chart.Util = function() {}

hui.ui.Chart.Util.generateYLabels = function(graph) {
	var range = hui.ui.Chart.Util.getYrange(graph);
	var labels = [];
	for (var i=0;i&lt;=graph.yAxis.steps;i++) {
		labels[labels.length] = Math.round(range.min+(range.max-range.min)/graph.yAxis.steps*i);
	}
	return labels;
}

hui.ui.Chart.Util.getYrange = function(graph) {
	var min = graph.yAxis.min,
		max = graph.yAxis.max,
		data = graph.data;
	for (var i=0;i&lt;data.dataSets.length;i++) {
		var range = data.dataSets[i].getValueRange(data.xAxis.labels);
		min = Math.min(min,range.min);
		max = Math.max(max,range.max);
	}
	var factor = max/graph.yAxis.steps;
	if (factor &lt; graph.yAxis.factor) {
		factor = Math.ceil(factor);
	} else {
		factor = graph.yAxis.factor;
	}
	if (max != Number.MIN_VALUE) {
		max = Math.ceil(max/factor/graph.yAxis.steps)*factor*graph.yAxis.steps;
	} else {
		max = graph.yAxis.steps;
	}
	return {min:min,max:max};
}

hui.ui.Chart.Util.arraySum = function(values) {
	var total = 0;
	for (var i=0;i&lt;values.length;i++) {
		total+=values[i];
	}
	return total;
}

/** Converts a simple data-representation into a class-based stucture */
hui.ui.Chart.Util.convertData = function(obj) {
	var labels = [],keys = [];
	for (var i=0; i &lt; obj.sets.length; i++) {
		var set = obj.sets[i];
		if (hui.isArray(set.entries)) {
			for (var j=0; j &lt; set.entries.length; j++) {
				var entry = set.entries[j];
				if (!hui.array.contains(keys,entry.key)) {
					keys.push(entry.key)
					labels.push({key:entry.key,label:entry.label || entry.key});					
				}
			}
		} else {
			for (var key in set.entries) {
				if (!hui.array.contains(keys,key)) {
					keys.push(key)
					labels.push({key:key,label:key});
				}
			}
		}
	};
	var options = {xAxis:{labels:labels}};
	if (obj.axis &amp;&amp; obj.axis.x &amp;&amp; obj.axis.x.time===true) {
		options.xAxis.resolution = 'time';
	}
	if (obj.axis &amp;&amp; obj.axis.x &amp;&amp; hui.isArray(obj.axis.x.labels)) {
		options.xAxis.labels = obj.axis.x.labels;
	}
	var data = new hui.ui.Chart.Data(options);
		
	for (var i=0; i &lt; obj.sets.length; i++) {
		var set = obj.sets[i];
		var dataSet = new hui.ui.Chart.DataSet({type:set.type});
		if (hui.isArray(set.entries)) {
			for (var j=0; j &lt; set.entries.length; j++) {
				var entry = set.entries[j];
				dataSet.addEntry(entry.key,entry.value);
			};
		} else {
			for (var key in set.entries) {
				dataSet.addEntry(key,set.entries[key]);
			}
		}
		data.addDataSet(dataSet);
	}
	hui.log(data)
	return data;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="hui.animation.Item.html">Item</a></li><li><a href="hui.animation.Loop.html">Loop</a></li><li><a href="hui.Color.html">Color</a></li><li><a href="hui.Event.html">Event</a></li><li><a href="hui.Preloader.html">Preloader</a></li><li><a href="hui.ui.Alert.html">Alert</a></li><li><a href="hui.ui.Bar.html">Bar</a></li><li><a href="hui.ui.Bar.Button.html">Button</a></li><li><a href="hui.ui.Bar.Text.html">Text</a></li><li><a href="hui.ui.BoundPanel.html">BoundPanel</a></li><li><a href="hui.ui.Box.html">Box</a></li><li><a href="hui.ui.Button.html">Button</a></li><li><a href="hui.ui.Buttons.html">Buttons</a></li><li><a href="hui.ui.Calendar.html">Calendar</a></li><li><a href="hui.ui.Chart.html">Chart</a></li><li><a href="hui.ui.Checkbox.html">Checkbox</a></li><li><a href="hui.ui.Checkboxes.html">Checkboxes</a></li><li><a href="hui.ui.Checkboxes.Items.html">Items</a></li><li><a href="hui.ui.CodeInput.html">CodeInput</a></li><li><a href="hui.ui.ColorInput.html">ColorInput</a></li><li><a href="hui.ui.ColorPicker.html">ColorPicker</a></li><li><a href="hui.ui.Columns.html">Columns</a></li><li><a href="hui.ui.Component.html">Component</a></li><li><a href="hui.ui.DatePicker.html">DatePicker</a></li><li><a href="hui.ui.DateTimeField.html">DateTimeField</a></li><li><a href="hui.ui.Diagram.html">Diagram</a></li><li><a href="hui.ui.Diagram.Box.html">Box</a></li><li><a href="hui.ui.Diagram.Icon.html">Icon</a></li><li><a href="hui.ui.Dock.html">Dock</a></li><li><a href="hui.ui.Drawing.html">Drawing</a></li><li><a href="hui.ui.DropDown.html">DropDown</a></li><li><a href="hui.ui.Editable.html">Editable</a></li><li><a href="hui.ui.Editor.html">Editor</a></li><li><a href="hui.ui.Editor.Header.html">Header</a></li><li><a href="hui.ui.Editor.Html.html">Html</a></li><li><a href="hui.ui.Finder.html">Finder</a></li><li><a href="hui.ui.FontInput.html">FontInput</a></li><li><a href="hui.ui.FontPicker.html">FontPicker</a></li><li><a href="hui.ui.Formula.html">Formula</a></li><li><a href="hui.ui.Formula.Field.html">Field</a></li><li><a href="hui.ui.Formula.Group.html">Group</a></li><li><a href="hui.ui.Fragment.html">Fragment</a></li><li><a href="hui.ui.Gallery.html">Gallery</a></li><li><a href="hui.ui.Graph.html">Graph</a></li><li><a href="hui.ui.Icon.html">Icon</a></li><li><a href="hui.ui.IFrame.html">IFrame</a></li><li><a href="hui.ui.ImageInput.html">ImageInput</a></li><li><a href="hui.ui.ImageViewer.html">ImageViewer</a></li><li><a href="hui.ui.InfoView.html">InfoView</a></li><li><a href="hui.ui.Input.html">Input</a></li><li><a href="hui.ui.Layout.html">Layout</a></li><li><a href="hui.ui.Link.html">Link</a></li><li><a href="hui.ui.LinkInput.html">LinkInput</a></li><li><a href="hui.ui.Links.html">Links</a></li><li><a href="hui.ui.List.html">List</a></li><li><a href="hui.ui.LocationField.html">LocationField</a></li><li><a href="hui.ui.LocationPicker.html">LocationPicker</a></li><li><a href="hui.ui.MarkupEditor.html">MarkupEditor</a></li><li><a href="hui.ui.Menu.html">Menu</a></li><li><a href="hui.ui.NumberField.html">NumberField</a></li><li><a href="hui.ui.NumberValidator.html">NumberValidator</a></li><li><a href="hui.ui.ObjectInput.html">ObjectInput</a></li><li><a href="hui.ui.ObjectList.html">ObjectList</a></li><li><a href="hui.ui.ObjectList.Object.html">Object</a></li><li><a href="hui.ui.Overflow.html">Overflow</a></li><li><a href="hui.ui.Overlay.html">Overlay</a></li><li><a href="hui.ui.Pages.html">Pages</a></li><li><a href="hui.ui.Picker.html">Picker</a></li><li><a href="hui.ui.ProgressBar.html">ProgressBar</a></li><li><a href="hui.ui.ProgressIndicator.html">ProgressIndicator</a></li><li><a href="hui.ui.Radiobuttons.html">Radiobuttons</a></li><li><a href="hui.ui.Rendering.html">Rendering</a></li><li><a href="hui.ui.RevealingToolbar.html">RevealingToolbar</a></li><li><a href="hui.ui.SearchField.html">SearchField</a></li><li><a href="hui.ui.Segmented.html">Segmented</a></li><li><a href="hui.ui.Selection.html">Selection</a></li><li><a href="hui.ui.Selection.Items.html">Items</a></li><li><a href="hui.ui.Skeleton.html">Skeleton</a></li><li><a href="hui.ui.Slider.html">Slider</a></li><li><a href="hui.ui.Source.html">Source</a></li><li><a href="hui.ui.Split.html">Split</a></li><li><a href="hui.ui.Structure.html">Structure</a></li><li><a href="hui.ui.StyleLength.html">StyleLength</a></li><li><a href="hui.ui.Tab.html">Tab</a></li><li><a href="hui.ui.Tabs.html">Tabs</a></li><li><a href="hui.ui.TextField.html">TextField</a></li><li><a href="hui.ui.Tiles.html">Tiles</a></li><li><a href="hui.ui.TimeLine.html">TimeLine</a></li><li><a href="hui.ui.TokenField.html">TokenField</a></li><li><a href="hui.ui.Toolbar.html">Toolbar</a></li><li><a href="hui.ui.Toolbar.Badge.html">Badge</a></li><li><a href="hui.ui.Toolbar.Icon.html">Icon</a></li><li><a href="hui.ui.Toolbar.More.html">More</a></li><li><a href="hui.ui.Upload.html">Upload</a></li><li><a href="hui.ui.Upload.Flash.html">Flash</a></li><li><a href="hui.ui.Upload.Frame.html">Frame</a></li><li><a href="hui.ui.Upload.HTML5.html">HTML5</a></li><li><a href="hui.ui.Upload.Item.html">Item</a></li><li><a href="hui.ui.VideoPlayer.html">VideoPlayer</a></li><li><a href="hui.ui.Window.html">Window</a></li><li><a href="hui.ui.Wizard.html">Wizard</a></li></ul><h3>Namespaces</h3><ul><li><a href="Functions%2520for%2520getting%2520and%2520changing%2520the%2520position%2520of%2520elements.html">Functions for getting and changing the position of elements</a></li><li><a href="hui.html">hui</a></li><li><a href="hui.animation.html">animation</a></li><li><a href="hui.array.html">array</a></li><li><a href="hui.browser.html">browser</a></li><li><a href="hui.cls.html">cls</a></li><li><a href="hui.cookie.html">cookie</a></li><li><a href="hui.document.html">document</a></li><li><a href="hui.dom.html">dom</a></li><li><a href="hui.drag.html">drag</a></li><li><a href="hui.ease.html">ease</a></li><li><a href="hui.effect.html">effect</a></li><li><a href="hui.form.html">form</a></li><li><a href="hui.frame.html">frame</a></li><li><a href="hui.location.html">location</a></li><li><a href="hui.selection.html">selection</a></li><li><a href="hui.string.html">string</a></li><li><a href="hui.style.html">style</a></li><li><a href="hui.test.html">test</a></li><li><a href="hui.ui.html">ui</a></li><li><a href="hui.ui.Flash.html">Flash</a></li><li><a href="hui.ui.Graph.D3.html">D3</a></li><li><a href="hui.ui.Graph.Protoviz.html">Protoviz</a></li><li><a href="hui.ui.Graph.Raphael.html">Raphael</a></li><li><a href="hui.ui.MarkupEditor.MSIE.html">MSIE</a></li><li><a href="hui.ui.MarkupEditor.util.html">util</a></li><li><a href="hui.ui.MarkupEditor.webkit.html">webkit</a></li><li><a href="hui.window.html">window</a></li></ul><h3>Global</h3><ul><li><a href="global.html#$curtainWasClicked">$curtainWasClicked</a></li><li><a href="global.html#add">add</a></li><li><a href="global.html#addSpace">addSpace</a></li><li><a href="global.html#getDimensions">getDimensions</a></li><li><a href="global.html#hide">hide</a></li><li><a href="global.html#isVisible">isVisible</a></li><li><a href="global.html#position">position</a></li><li><a href="global.html#show">show</a></li><li><a href="global.html#toggle">toggle</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Sun Jun 28 2015 21:14:44 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
