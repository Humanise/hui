<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:o="http://www.onlineobjects.com/jsf" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:gui="http://www.in2isoft.dk/in2igui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
>
	<ui:composition template="templates/plain.xhtml">
		
		<ui:define name="sidebar">
			<div class="sidebar">
        <gui:rows>
          <gui:row height="content">
    				<div class="block">
    					<o:selection name="subsets" value="everything">
                  <gui:source name="contextsSource" url="#{readerView.baseContext}/getContextOptions"/>
              </o:selection>
    				</div>
    				<div class="block">
    					<h3>Types</h3>
    					<o:selection name="types" value="any">
    						<gui:source name="typesSource" url="#{readerView.baseContext}/getTypeOptions"/>
    					</o:selection>
    				</div>
    				<div class="block reader_feeds">
    					<h3>Feeds</h3>
        				<o:link name="addFeed" plain="true" styleClass="reader_feeds_add">
        					<o:icon icon="add_line"/>
        				</o:link>
    					<o:selection name="feeds">		
    						<gui:source name="feedSource" url="#{readerView.baseContext}/getFeeds"/>
    					</o:selection>
    				</div>
          </gui:row>
          <gui:row>
      			<gui:overflow full="true">
      				<div class="block">
      					<h3>Tags</h3>
      					<div style="margin: 0 -10px">
        					<div style="padding: 0 10px">
          					<o:selection name="tags">
          						<gui:source name="tagSource" url="#{readerView.baseContext}/getWordCloud"/>
          					</o:selection>
        					</div>
      					</div>
      				</div>
            </gui:overflow>
          </gui:row>
        </gui:rows>
			</div>
		</ui:define>
				
		<ui:define name="body">
			<div class="reader">
			</div>
		</ui:define>
		
		<ui:define name="list">

			<gui:source name="listSource" url="#{readerView.baseContext}/list">
				<gui:parameter key="page" value="@listView.page"/>
				<gui:parameter key="pageSize" value="@listView.pageSize"/>
				<gui:parameter key="text" value="@search.value"/>
				<gui:parameter key="tags" value="@tags.value"/>
				<gui:parameter key="subset" value="@subsets.value"/>
				<gui:parameter key="type" value="@types.value"/>
			</gui:source>
			

			<div class="reader_list_top">
				<div class="reader_actions">
					<o:link name="addButton" plain="true" styleClass="reader_action">
						<o:icon icon="add_line" size="20"/>
						<span class="reader_action_text">Add page</span>
					</o:link>
					<o:link name="settingsIcon" plain="true" styleClass="reader_action">
						<o:icon icon="gear_line" size="20"/>
					</o:link>
				</div>
			
				<div class="reader_search">
					<gui:searchfield name="search" placeholder="Search" adaptive="true"/>
				</div>
			</div>
			<div class="reader_list_middle">
			<gui:overflow full="true" shadowVariant="white">
				<div id="my_view" class="oo_view">
					<div class="oo_spinner"></div>
				</div>
			</gui:overflow>
			</div>
		</ui:define>
		
		<ui:define name="viewer">
			<div id="viewer" class="reader_viewer">
				<div class="reader_viewer_frame">
					<div class="reader_viewer_header">
						<div id="viewer_header"></div>
              <o:link name="closeAddress" plain="true" styleClass="reader_view_close oo_icon oo_icon_close_line"/>
              <div class="reader_viewer_actions">
  							<o:link name="infoButton" plain="true" styleClass="reader_viewer_action">
  								<o:icon icon="info_light" size="16"/>
  							</o:link>
  							<o:link name="inspectButton" plain="true" styleClass="reader_viewer_action">
  								<o:icon icon="relations_line" size="16"/>
  							</o:link>
  							<o:link name="inboxButton" plain="true" id="reader_viewer_inbox" styleClass="reader_viewer_action">
  								<o:icon icon="inbox_line" size="16"/>
  							</o:link>
  							<o:link name="favoriteButton" plain="true" id="reader_viewer_favorite" styleClass="reader_viewer_action">
  								<o:icon icon="star_line" size="16"/>
  							</o:link>
                <span class="reader_viewer_view" id="reader_viewer_view">
                  <a href="#" data-value="text" class="reader_viewer_view_item">Text</a>
                  <a href="#" data-value="formatted" class="reader_viewer_view_item reader_viewer_view_item_selected">Formatted</a>
                  <a href="#" data-value="web" class="reader_viewer_view_item">Web</a>
                </span>
            </div>
					</div>
					<div class="reader_viewer_content reader_viewer_content_formatted" id="viewer_content">
						<div class="oo_spinner" id="viewer_spinner"></div>
						<div class="reader_viewer_perpective reader_viewer_perpective_formatted" id="viewer_formatted"></div>
						<div class="reader_viewer_perpective reader_viewer_perpective_text" id="viewer_text"></div>
						<iframe class="reader_viewer_perpective reader_viewer_perpective_web" id="viewer_frame"></iframe>
					</div>
				</div>
			</div>
      
      <div class="reader_view reader_question">
        <div class="reader_view_head">
          <o:link name="closeQuestion" plain="true" styleClass="reader_view_close oo_icon oo_icon_close_line"/>
          <div class="reader_question_text"></div>
        </div>
        <div class="reader_view_body reader_question_body">
        </div>
      </div>
      
		</ui:define>
		
		
		<ui:define name="info">
			<div id="viewer_info" class="reader_viewer_info">
				
			</div>
		</ui:define>

		<ui:define name="bottom">

      <ui:include src="widgets.xhtml"/>
			
			<ui:include src="../shared/wordfinder.xhtml"/>
			
		</ui:define>
		
	</ui:composition>
	
</html>