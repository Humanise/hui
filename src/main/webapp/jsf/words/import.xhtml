<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:o="http://www.onlineobjects.com/jsf" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:gui="http://www.in2isoft.dk/in2igui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
>
	<ui:composition template="templates/plain.xhtml">

		<ui:define name="body">
      <o:dependency from="local" src="/js/import_view.js"/>

			<div class="words_import">
				<h1 class="words">#{wordsImportView.title}</h1>
				<p>Database query time: #{wordsImportView.queryTime}</p>
				<p>Language: #{wordsImportView.language.code}</p>
				<ul>
				<c:forEach items="#{wordsImportView.languages}" var="lang">
					<li><a href="?language=#{lang.key}">#{lang.key} = #{lang.value}</a></li>
				</c:forEach>
				</ul>
				<p class="words">
				<c:forEach items="#{wordsImportView.uniqueWords}" var="word">
					<o:link styleClass="#{word.known ? 'known' : 'unknown'} #{word.primaryLanguage ? 'native' : 'foreign'}" title="#{word.count}" onclick="importView.lookupWord(this)" focusable="#{not word.known or not word.primaryLanguage}">
						<o:out value="#{word.text}"/>
					</o:link>
					<o:out value="#{' '}"/>
				</c:forEach>
				</p>
				<hr/>
				<p>#{wordsImportView.text}</p>
				<hr/>
				<c:if test="#{false}">
				<c:forEach items="#{wordsImportView.impressions}" var="imp">
				<p>
					<a>#{imp.text} - #{imp.language} - #{imp.lexicalCategory}</a>
				</p>
				</c:forEach>
				</c:if>
			</div>
			
			<gui:boundPanel name="registrationPanel" hideOnClick="true">
				<gui:formula name="registrationForm">
					<gui:dropDown key="language" items="#{wordFinderView.languages}" value="#{wordsImportView.language.code}"/>
					<gui:dropDown key="category" items="#{wordFinderView.categories}"/>
					<gui:button text="Register" name="registerButton" highlighted="true"/>
				</gui:formula>
			</gui:boundPanel>
		</ui:define>
		
	</ui:composition>
</html>