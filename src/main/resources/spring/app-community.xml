<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:util="http://www.springframework.org/schema/util"
  	xmlns:dwr="http://www.directwebremoting.org/schema/spring-dwr"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
        http://www.directwebremoting.org/schema/spring-dwr
    	http://www.directwebremoting.org/schema/spring-dwr-2.0.xsd
    ">
   	
	<!-- Controllers -->
	<bean id="communityController" class="dk.in2isoft.onlineobjects.apps.community.CommunityController" autowire="byType"/>
	<bean id="communityPrivateController" class="dk.in2isoft.onlineobjects.apps.community.PrivateSpaceController" autowire="byType"/>
	<bean id="communityDAO" class="dk.in2isoft.onlineobjects.apps.community.CommunityDAO" autowire="byType"/>
	
	<!-- Services -->
	<bean id="invitationService" class="dk.in2isoft.onlineobjects.apps.community.services.InvitationService" autowire="byType"/>
	<bean id="memberService" class="dk.in2isoft.onlineobjects.apps.community.services.MemberService" autowire="byType"/>

	<!-- Views -->
	<bean id="invitationView" class="dk.in2isoft.onlineobjects.apps.community.views.InvitationView" autowire="byType" scope="request"/>
	<bean id="baseView" class="dk.in2isoft.onlineobjects.apps.community.views.BaseView" autowire="byType" scope="request"/>
	<bean id="imageView" class="dk.in2isoft.onlineobjects.apps.community.views.ImageView" autowire="byType" scope="request"/>
	<bean id="usersView" class="dk.in2isoft.onlineobjects.apps.community.views.UsersView" autowire="byType" scope="request"/>
	<bean id="imagesView" class="dk.in2isoft.onlineobjects.apps.community.views.ImagesView" autowire="byType" scope="request"/>
	<bean id="userProfileView" class="dk.in2isoft.onlineobjects.apps.community.views.UserProfileView" autowire="byType" scope="request"/>
	<bean id="searchView" class="dk.in2isoft.onlineobjects.apps.community.views.SearchView" autowire="byType" scope="request"/>
	
	<bean id="passwordRecovery" class="dk.in2isoft.onlineobjects.apps.community.jsf.PasswordRecoveryBean" autowire="byType" scope="request"/>
	
	<!-- Remoting -->
    <dwr:configuration>
    	<dwr:convert class="dk.in2isoft.onlineobjects.apps.community.UserProfileInfo" type="bean"/>
	    <dwr:convert class="dk.in2isoft.onlineobjects.apps.community.views.ImageInfo" type="bean"/>
	    <dwr:convert class="dk.in2isoft.onlineobjects.apps.community.remoting.InternetAddressInfo" type="bean"/>
	    <dwr:convert class="dk.in2isoft.onlineobjects.apps.community.remoting.MapQuery" type="bean"/>
	    <dwr:convert class="dk.in2isoft.onlineobjects.apps.community.remoting.MapPoint" type="bean"/>
	</dwr:configuration>
    
   	<bean id="communityRemotingFacade" class="dk.in2isoft.onlineobjects.apps.community.remoting.CommunityRemotingFacade" autowire="byType">
    	 <dwr:remote javascript="AppCommunity">
    	 	<dwr:include method="search"/>
			<dwr:include method="signUp"/>
			<dwr:include method="signUpFromInvitation"/>
			<dwr:include method="getProcess"/>
			<dwr:include method="getProfileGuiData"/>
			<dwr:include method="getUserProfile"/>
			<dwr:include method="updateUserProfile"/>
			<dwr:include method="getInvitations"/>
			<dwr:include method="getUsersMainPerson"/>
			<dwr:include method="getUsersMainPersonsAddresses"/>
			<dwr:include method="updateUsersMainPerson"/>
			<dwr:include method="createInvitation"/>
			<dwr:include method="getLatest"/>
			<dwr:include method="getLatestImages"/>
			<dwr:include method="searchUsers"/>
			<dwr:include method="getTagCloud"/>
			<dwr:include method="getLatestTags"/>
			<dwr:include method="listPersons"/>
			<dwr:include method="listImages"/>
			<dwr:include method="listPrivateBookmarks"/>
			<dwr:include method="getInternetAddress"/>
			<dwr:include method="lookupInternetAddress"/>
			<dwr:include method="saveInternetAddress"/>
			<dwr:include method="loadPerson"/>
			<dwr:include method="getImage"/>
			<dwr:include method="updateImage"/>
			<dwr:include method="getImageInfo"/>
			<dwr:include method="updateImageInfo"/>
			<dwr:include method="savePerson"/>
			<dwr:include method="sendFeedback"/>
			<dwr:include method="getImageLocation"/>
			<dwr:include method="searchLocations"/>
    	 	<dwr:filter class="dk.in2isoft.onlineobjects.ui.DWRFilter"/>
		</dwr:remote>
   	</bean>
   	
   	<bean id="communityToolsRemotingFacade" class="dk.in2isoft.onlineobjects.apps.community.remoting.CommunityToolsRemotingFacade" autowire="byType">
    	 <dwr:remote javascript="AppCommunityTools">
    	 	<dwr:include method="listAccounts"/>
    	 	<dwr:include method="saveAccount"/>
    	 	<dwr:filter class="dk.in2isoft.onlineobjects.ui.DWRFilter"/>
    	 </dwr:remote>
   	</bean>
</beans>