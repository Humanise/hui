package dk.in2isoft.onlineobjects.util;import java.io.File;import org.eclipse.jetty.server.Server;import org.eclipse.jetty.server.ServerConnector;import org.eclipse.jetty.webapp.WebAppClassLoader;import org.eclipse.jetty.webapp.WebAppContext;public class JettyRunner {	public static void main(String[] args) {		try {						String path = "/Users/jbm/Udvikling/Workspace/OnlineObjects/src/main/webapp";			//path = "target/OnlineObjects";			int port = 8080;			String host = "127.0.0.1";			String context = "/";			String cookieDomain = ".onlineobjects.se";						WebAppContext appContext = new WebAppContext(path,context);			appContext.setClassLoader(new WebAppClassLoader(Thread.currentThread().getClass().getClassLoader(), appContext));			//appContext.setMaxFormContentSize(2000000000);			//appContext.setContextPath(context);			appContext.setDescriptor("/Users/jbm/Udvikling/Workspace/OnlineObjects/src/main/webapp/WEB-INF/web.xml");			appContext.setTempDirectory(new File("/Users/jbm/Udvikling/Workspace/OnlineObjects/target/tmp"));			//appContext.setResourceBase(new File(path).getAbsolutePath());  			//appContext.setWar("target/OnlineObjects.war");			//appContext.getMetaData().addContainerResource();			appContext.setExtraClasspath("/Users/jbm/Udvikling/Workspace/OnlineObjects/target/classes/;/Users/jbm/Udvikling/Workspace/OnlineObjects/target/OnlineObjects/WEB-INF/lib/");			//appContext.setParentLoaderPriority(true);/*			appContext.setConfigurations(new Configuration[] {	                new WebInfConfiguration(), 	                new EnvConfiguration(),	                new PlusConfiguration(),	                new JettyWebXmlConfiguration(), 	                new WebXmlConfiguration(), 	                new MetaInfConfiguration(), 	                new FragmentConfiguration(),	                	                new AnnotationConfiguration()	        });    */			Server server = new Server(port);			appContext.setServer(server);						//appContext.setWar(new File(path).getAbsolutePath());			//appContext.getSessionHandler().getSessionManager().getSessionCookieConfig().setDomain(cookieDomain);			ServerConnector connector = new ServerConnector(server);			connector.setPort(port);			connector.setHost(host);			server.setHandler(appContext);			server.addConnector(connector);						server.start();			server.join();		} catch (Exception ex) {			ex.printStackTrace();			throw new RuntimeException("Server startup failed", ex);		}	}}