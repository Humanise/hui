<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:o="http://www.onlineobjects.com/jsf" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:gui="http://www.in2isoft.dk/in2igui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
>
	<ui:composition template="templates/plain.xhtml">
		
		<ui:define name="scripts">
			<o:script src="/style/js/word_view.js"/>
		</ui:define>
		
		<ui:define name="body">
			<o:script>
				wordView.text = '#{wordsWordView.text}';
			</o:script>
			<div id="word">
				<h1>#{wordsWordView.text}</h1>
				<ui:fragment rendered="#{empty wordsWordView.words}">
					<p style="color: #cc0000;">This word is not registered!</p>
					<gui:button text="Register word" name="registerWord" variant="paper" rendered="#{wordsLayoutView.loggedIn}"/>
				</ui:fragment>
				<ui:fragment rendered="#{not empty wordsWordView.words}">
					<ul>
						<c:forEach items="#{wordsWordView.words}" var="word">
							<li>
								<p style="margin: 0;">
									<span style="vertical-align: middle;">#{word.word.text} </span>
									<c:if test="#{word.lexicalCategory!=null}">
										<span style="vertical-align: middle; color: #999; font-size: 12px; position: relative; top: 2px;">— #{word.lexicalCategory.name}</span>
									</c:if>
									<c:if test="#{word.language!=null}">
										<span style="vertical-align: middle; color: #999; font-size: 12px; position: relative; top: 2px;">— #{word.language.name}</span>
									</c:if>
									<c:if test="#{word.lexicalCategory==null}">
										<span style="vertical-align: middle; color: #999; font-size: 12px; position: relative; top: 2px;">(Not categorized) </span>
										<gui:button rendered="#{wordsLayoutView.loggedIn}" variant="paper" small="true" text="Categorize..." click="wordView.categorizeWord({id:#{word.word.id},widget:widget})"/>
									</c:if>
								</p>
								<p style="margin: 5px 0 0; font-size: 11px; color: #999;">Created: <o:date value="#{word.word.created}"/></p>
							</li>
						</c:forEach>
					</ul>
					<gui:button variant="paper" name="addVariant" text="Add variant" rendered="#{wordsLayoutView.loggedIn}"/>
				</ui:fragment>
			</div>
		</ui:define>
	</ui:composition>
</html>