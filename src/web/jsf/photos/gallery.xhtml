<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:o="http://www.onlineobjects.com/jsf" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:gui="http://www.in2isoft.dk/in2igui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
>
	<ui:composition template="templates/plain.xhtml">
		
		<ui:define name="title">#{photosGalleryView.title} - </ui:define>
		
		<ui:define name="scripts">
			<c:if test="#{not empty photosGalleryView.imageGallery}">
				<o:script>
					galleryView.galleryId = #{photosGalleryView.imageGallery.id};
					galleryView.editable = #{photosGalleryView.modifiable};
					galleryView.username = '#{photosGalleryView.username}';
					hui.ui.listen(galleryView);
				</o:script>
			</c:if>
		</ui:define>
		
		<ui:define name="body">
			<div class="photos_gallery">
				<o:header id="editableTitle">#{photosGalleryView.title}</o:header>
				<c:if test="#{not empty photosGalleryView.info}">
					<p class="photos_gallery_info"><o:out value="#{photosGalleryView.info}"/></p>
				</c:if>
				<div class="photos_gallery_bar">
					<div class="photos_gallery_bar_left">
					<o:link plain="true" name="present"><o:icon icon="present"/><strong>#{msg.present}</strong></o:link>
					</div>
					<div class="photos_gallery_bar_right">
					<c:if test="#{photosGalleryView.modifiable}">
						<o:link plain="true" name="addToGallery"><o:icon icon="add"/><strong>Add photos</strong></o:link>
						<o:link plain="true" name="deleteGallery"><o:icon icon="delete"/><strong>Delete gallery</strong></o:link>
					</c:if>
					</div>
				</div>
				<div id="photos_gallery_images">
					<o:gallery name="gallery"
						model="#{photosGalleryView.listModel}"
						href="/#{wordsLayoutView.language}/photo/[id].html"
						removable="#{photosGalleryView.modifiable}"
						variant="shadow"
					/>
				</div>
			</div>
		</ui:define>
		
		<ui:define name="sidebar">
			<ui:include src="sidebar.part.xhtml"/>
			<c:if test="#{photosGalleryView.modifiable}">
				<div class="photos_gallery_actions">
					<o:permissions entity="#{photosGalleryView.imageGallery}"/>
				</div>
			</c:if>
		</ui:define>
		
		<ui:define name="footer">
			<c:if test="#{photosGalleryView.modifiable}">
				<o:finder name="imageFinder"/>
			</c:if>
		</ui:define>
		
	</ui:composition>
</html>