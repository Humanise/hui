<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:o="http://www.onlineobjects.com/jsf" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:gui="http://www.in2isoft.dk/in2igui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
>
	<ui:composition template="templates/plain.xhtml">
		
		<ui:define name="title">#{photosGalleryView.title} - </ui:define>
		
		<ui:define name="scripts">
			<c:if test="#{not empty photosGalleryView.imageGallery}">
				<o:script>
					galleryView.galleryId = #{photosGalleryView.imageGallery.id};
					galleryView.editable = #{photosGalleryView.modifiable};
					galleryView.username = '#{photosGalleryView.username}';
					hui.ui.listen(galleryView);
				</o:script>
			</c:if>
		</ui:define>
		
		<ui:define name="body">
			<div class="photos_gallery">
				<o:header id="editableTitle">#{photosGalleryView.title}</o:header>
				<c:if test="#{photosGalleryView.modifiable}">
					<p><gui:button small="true" text="Delete" name="deleteGallery"/></p>
				</c:if>
				<div id="photos_gallery_images">
					<c:forEach items="#{photosGalleryView.images}" var="image">
						
						<span class="photos_gallery_image" data="#{image.id}">
							<c:if test="#{image.removable}">
								<span class="photos_gallery_image_actions">
									<a data="remove">Remove</a>
								</span>
							</c:if>
							<o:thumbnail image="#{image.image}" width="100" height="100" frame="false" href="/#{wordsLayoutView.language}/photo/#{image.id}.html"/>
						</span>
					</c:forEach>
				</div>
			</div>
		</ui:define>
		
		<ui:define name="sidebar">
			<ui:include src="sidebar.part.xhtml"/>
		</ui:define>
		
	</ui:composition>
</html>