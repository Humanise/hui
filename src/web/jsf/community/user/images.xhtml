<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:oo="http://www.onlineobjects.com/jsf" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core">
	<ui:composition template="template.xhtml">
		<ui:param name="tab" value="images"/>
		
		<ui:define name="title">
			Billeder<h:outputText value=" &#187; "/>#{userProfileView.person.fullName}<h:outputText value=" &#187; "/>
		</ui:define>
		
		<ui:define name="breadcrumb">
			<li><a href="#{baseView.baseContext}/#{userProfileView.user.username}/images.html">Billeder</a></li>
		</ui:define>
		
		<ui:define name="content">
			<div class="content_body">
				<oo:gallery model="#{userProfileView.imageList}" var="image">
					<oo:thumbnail image="#{image}" width="68" height="68" href="/#{userProfileView.user.username}/images/#{image.id}.html"/>
				</oo:gallery>
			</div>
			<ui:remove>
			<div style="height: 500px;" id="paper">
				
			</div>
				<oo:script src="/hui/lib/raphael-min.js" core="true"/>
				<script type="text/javascript">
					var ids = [];
					<ui:repeat value="#{userProfileView.imageList.result.list}" var="image">
						ids.push(#{image.id});
					</ui:repeat>
					var node = $('paper');
					var paper = Raphael(node, node.clientWidth, node.clientHeight);
					ids.each(function(id,index) {
						window.setTimeout(function() {
							var img = paper.image("#{baseView.baseContext}/service/image/id"+id+"width900height600.jpg", 50+Math.random()*500, 200,90,60).attr({opacity:0, scale: 20, rotation:Math.random()*180});
							img.animate({scale:4,opacity:1},2000,'bounce');
						},2000*index);
					});
				</script>
			</ui:remove>
		</ui:define>
		
	</ui:composition>
</html>
