<?xml version="1.0" encoding="UTF-8"?>
<gui xmlns="uri:hui" state="persons" title="Bookmarks">
	<dwr base="/dwr/">
		<interface name="Common"/>
		<interface name="AppCommunity"/>
		<interface name="CoreSecurity"/>
	</dwr>
	<controller name="controller" source="../../gui/private/controller.js"/>
	<controller source="../../gui/private/bookmarks.js"/>
	<source name="bookmarksSource" dwr="AppCommunity.listPrivateBookmarks">
		<parameter key="search" value="@searchfield.value"/>
		<parameter key="tag" value="@tagSelection.value"/>
		<parameter key="page" value="@bookmarksList.window.page"/>
	</source>
	<source name="tagsSource" dwr="Common.getTagItemsWithCount">
		<parameter key="simpleName" value="InternetAddress"/>
	</source>
	<bar>
		<button text="Offentligt" icon="inset/public" name="barPublic"/>
		<button text="Hjemmeside" icon="inset/globe" name="barWebsite"/>
		<button text="Værktøjer" icon="inset/tools" name="barTools" highlighted="true"/>
		<right>
			<button text="{username}" icon="inset/user" name="barUser"/>
			<button text="Log ud" icon="inset/cross" name="barLogOut"/>
		</right>
	</bar>

	<toolbar variant="dock">
		<icon icon="common/image" title="Billeder" name="toolImages"/>
		<icon icon="common/person" title="Personer" name="toolPersons"/>
		<icon icon="common/internet" title="Bogmærker" selected="true" name="toolBookmarks"/>
		<icon icon="common/settings" title="Integration" name="toolIntegration"/>
	</toolbar>

	<div style="position: fixed; top: 90px; bottom: 0; left: 0; right: 0; padding: 10px;">
		<structure>
			<top>
				<toolbar>
					<icon icon="common/internet" overlay="new" title="Tilføj bogmærke" name="newBookmark"/>
					<icon icon="common/internet" overlay="upload" title="Importer" name="import"/>
					<divider/>
					<icon icon="common/info" title="Info" name="itemInfo" disabled="true"/>
					<icon icon="common/delete" title="Slet" name="deleteItem" disabled="true">
						<confirm text="Er du sikker?" ok="Ja, slet" cancel="Nej"/>
					</icon>
					<icon icon="common/view" title="Vis" name="showItem" disabled="true"/>
					<divider/>
					<field label="Hurtig oprettelse">
 						<searchfield width="200" placeholder="Indsæt url..." name="quickEnter"/>
					</field>
					<right>
						<field label="Søgning">
 							<searchfield expanded-width="150" placeholder="Søg her" name="searchfield"/>
						</field>
						<space width="10"/>
					</right>
				</toolbar>
			</top>
			<middle>
				<left>
					<overflow>
						<selection value="all" name="selection">
							<item icon="common/internet" title="Alle bogmærker" value="all"/>
							<title>Nøgleord</title>
							<items source="tagsSource" name="tagSelection"/>
						</selection>
					</overflow>
				</left>
				<center>
					<overflow>
						<list source="bookmarksSource" name="bookmarksList">
							<column key="name" title="Titel"/>
							<column key="address" title="Adresse"/>
						</list>
					</overflow>
				</center>
			</middle>
			<bottom>
			</bottom>
		</structure>
	</div>

	<window name="bookmarkWindow" title="Bogmærke" width="300" variant="dark">
		<space all="5">
			<formula name="bookmarkFormula">
				<fields>
					<field label="Navn">
						<text-input key="name"/>
					</field>
					<field label="Adresse">
						<text-input key="address"/>
					</field>
					<field label="Beskrivelse">
						<text-input key="description" multiline="true"/>
					</field>
					<field label="Nøgleord">
						<tokens key="tags"/>
					</field>
					<buttons>
						<button title="Slet" name="deleteBookmark"/>
						<button title="Annuller" name="cancelBookmark"/>
						<button title="Gem" highlighted="true" name="saveBookmark"/>
					</buttons>
				</fields>
			</formula>
		</space>
	</window>

	<window name="importWindow" title="Importer" width="300" padding="10">
		<upload name="upload" url="bookmarks/import.action" widget="uploadButton">
			<placeholder title="Upload bogmærker" text="Filen skal være er HTML dokument med links"/>
		</upload>
		<buttons align="center" top="10">
			<button name="uploadButton" title="Vælg filer..."/>
		</buttons>
	</window>
	
</gui>