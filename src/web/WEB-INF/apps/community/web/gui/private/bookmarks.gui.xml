<?xml version="1.0" encoding="UTF-8"?>
<gui xmlns="uri:In2iGui" state="persons" title="Bookmarks">
	<dwr base="/dwr/">
		<interface name="Common"/>
		<interface name="AppCommunity"/>
	</dwr>
	<controller name="controller" source="../../gui/private/controller.js"/>
	<controller source="../../gui/private/bookmarks.js"/>
	<source name="bookmarksSource" dwr="AppCommunity.listPrivateBookmarks">
		<parameter key="search" value="@searchfield.value"/>
		<parameter key="tag" value="@tagSelection.value"/>
		<parameter key="page" value="@bookmarksList.window.page"/>
	</source>
	<source name="tagsSource" dwr="Common.getTagItemsWithCount">
		<parameter key="simpleName" value="InternetAddress"/>
	</source>
	<layout>
		<top>
			<toolbar>
				<icon icon="common/settings" title="Indstillinger" name="toolSettings"/>
				<divider/>
				<icon icon="common/person" title="Personer" name="toolPersons"/>
				<icon icon="common/image" title="Billeder" name="toolImages"/>
				<icon icon="common/internet" title="Bogmærker" selected="true" name="toolBookmarks"/>
				<right>
					<icon icon="common/close" title="Tilbage til website" name="close"/>
				</right>
			</toolbar>
		</top>
		<middle>
			<center padding="10">
				<layout style="box">
					<top>
						<toolbar>
							<icon icon="common/internet" overlay="new" title="Tilføj bogmærke" name="newBookmark"/>
							<icon icon="common/internet" overlay="upload" title="Importer" name="import"/>
							<divider/>
							<icon icon="common/info" title="Info" name="itemInfo" disabled="true"/>
							<icon icon="common/delete" title="Slet" name="deleteItem" disabled="true"/>
							<icon icon="common/view" title="Vis" name="showItem" disabled="true"/>
							<divider/>
   							<searchfield title="Kvik oprettelse" width="200" placeholder="Indsæt url..." name="quickEnter"/>
							<right>
   								<searchfield title="Søgning" expandedWidth="150" placeholder="Søg her" name="searchfield"/>
							</right>
						</toolbar>
					</top>
					<middle>
						<left>
							<overflow>
								<selection value="all" name="selection">
									<item icon="common/internet" title="Alle bogmærker" value="all"/>
									<title>Nøgleord</title>
									<items source="tagsSource" name="tagSelection"/>
								</selection>
							</overflow>
						</left>
						<center>
							<overflow>
								<list source="bookmarksSource" name="bookmarksList">
									<column key="name" title="Titel"/>
									<column key="address" title="Adresse"/>
								</list>
							</overflow>
						</center>
					</middle>
					<bottom>
						<button title="Test" small="true" rounded="true"/>
					</bottom>
				</layout>
			</center>
		</middle>
	</layout>
	<window name="importWindow" title="Importer" width="300">
		<upload name="upload" url="bookmarks/import.action" button="uploadButton"/>
		<formula>
			<group>
				<button name="uploadButton" title="Vælg filer"/>
			</group>
		</formula>
	</window>
	<window name="bookmarkWindow" title="Bogmærke" width="300" variant="dark">
		<space all="5">
			<formula name="bookmarkFormula">
				<group>
					<text label="Navn" key="name"/>
					<text label="Adresse" key="address"/>
					<text label="Beskrivelse" key="description" lines="6"/>
					<tokens label="Nøgleord" key="tags"/>
					<buttons>
						<button title="Slet" name="deleteBookmark"/>
						<button title="Annuller" name="cancelBookmark"/>
						<button title="Gem" highlighted="true" name="saveBookmark"/>
					</buttons>
				</group>
			</formula>
		</space>
	</window>
</gui>