<!DOCTYPE html>
<html>
<head>
  <title>HUI</title>
  <script>hui = {_:[],onReady:function(f) {hui._.push(f)}}</script>

  <script type="text/javascript" charset="utf-8">
    var line1,circle,arc;
    hui.onReady(function() {
      var d = hui.ui.Drawing.create({width:500,height:400,parent:'drawing1'});

      d.addLine({x1:0,y1:0,x2:300,y2:300,color:'#f00'});

      line1 = d.addLine({x1:20,y1:30,x2:100,y2:300,width:2});

      line2 = d.addLine({from:{x:10,y:50},to:{x:120,y:230},width:3,color:'#0f0',end:{symbol:'arrow'}});

      circle = d.addCircle({cx:100,cy:100,r:50,fill:'#48f',width:0});

      arc = d.addArc({
        center : {x:100,y:100},
          startDegrees : -90,
        endDegrees : 220,
          innerRadius : 60,
        outerRadius : 100,
        fill : '#eee'
      });
    })
    hui.onReady(function() {
      var d = hui.ui.Drawing.create({width:500,height:400,parent:'drawing2'});
      var line = d.addLine({x1:20,y1:30,x2:150,y2:200,width:2});
      var rect = d.addRect({x:120,y:130,width:100,height:50,stroke:{width:2,color:'red'},fill:'transparent'});

      var a1 = {x:20, y:30},
        a2 = {x:150, y:200},
        r1 = {x:120, y:130},
        r2 = {x:220, y:180};
      var points = hui.geometry.intersectLineRectangle(a1, a2, r1, r2);

      for (var i=0; i < points.length; i++) {
        var p = points[i];
        d.addCircle({cx:p.x,cy:p.y,r:4,fill:'#48f',width:0});
      };
      d.addArc({
        center : {x:100,y:100},
        startDegrees : -90,
        endDegrees : 0,
        innerRadius : 60,
        outerRadius : 100,
        skew: 0.2,
        fill : '#eee'
      });
    });
  </script>
  <script src="head.js"></script>
  <script src="../../js/Drawing.js"></script>
</head>

<body>
  <div id="drawing1"></div>
  <button onclick="line1.setFrom({x:Math.random()*400,y:Math.random()*400})">Change line from</button>
  <button onclick="line1.setTo({x:Math.random()*400,y:Math.random()*400})">Change line to</button>
  <button onclick="line2.setFrom({x:Math.random()*400,y:Math.random()*400}); line2.setTo({x:Math.random()*400,y:Math.random()*400})">Change line 2</button>
  <button onclick="circle.setCenter({x:Math.random()*400,y:Math.random()*400})">Change circle</button>

  <div id="drawing2"></div>

</body>
</html>
